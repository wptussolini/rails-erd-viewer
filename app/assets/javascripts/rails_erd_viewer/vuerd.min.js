(function(Nt,Ye){typeof exports=="object"&&typeof module<"u"?Ye(exports):typeof define=="function"&&define.amd?define(["exports"],Ye):(Nt=typeof globalThis<"u"?globalThis:Nt||self,Ye(Nt.vuerd={}))})(this,function(Nt){"use strict";var Bj=Object.defineProperty;var Uj=(Nt,Ye,In)=>Ye in Nt?Bj(Nt,Ye,{enumerable:!0,configurable:!0,writable:!0,value:In}):Nt[Ye]=In;var le=(Nt,Ye,In)=>(Uj(Nt,typeof Ye!="symbol"?Ye+"":Ye,In),In);/*!
 * vuerd
 * @version 2.2.13 | Sat Jan 27 2024
 * @author SeungHwan-Lee <dineug2@gmail.com>
 * @license MIT
 */var Ye={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-Ye.Bounce.Out(1-e)},Out:function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375},InOut:function(e){return e<.5?Ye.Bounce.In(e*2)*.5:Ye.Bounce.Out(e*2-1)*.5+.5}}},In;typeof self>"u"&&typeof process<"u"&&process.hrtime?In=function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?In=self.performance.now.bind(self.performance):Date.now!==void 0?In=Date.now:In=function(){return new Date().getTime()};var si=In,Bf=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map(function(n){return t._tweens[n]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},e.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},e.prototype.update=function(t,n){t===void 0&&(t=si()),n===void 0&&(n=!1);var r=Object.keys(this._tweens);if(r.length===0)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<r.length;i++){var o=this._tweens[r[i]],a=!n;o&&o.update(t,a)===!1&&!n&&delete this._tweens[r[i]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),Pi={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),o=Pi.Utils.Linear;return t<0?o(e[0],e[1],r):t>1?o(e[n],e[n-1],n-r):o(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){for(var n=0,r=e.length-1,i=Math.pow,o=Pi.Utils.Bernstein,a=0;a<=r;a++)n+=i(1-t,r-a)*i(t,a)*e[a]*o(r,a);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),o=Pi.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(r=n*(1+t))),o(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):t<0?e[0]-(o(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(o(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):o(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=Pi.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,i){var o=(n-e)*.5,a=(r-t)*.5,c=i*i,d=i*c;return(2*t-2*n+o+a)*d+(-3*t+3*n-2*o-a)*c+o*i+t}}},cc=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),Uf=new Bf,Sn=function(){function e(t,n){n===void 0&&(n=Uf),this._object=t,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Ye.Linear.None,this._interpolationFunction=Pi.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=cc.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(t,n){return this._valuesEnd=Object.create(t),n!==void 0&&(this._duration=n),this},e.prototype.duration=function(t){return this._duration=t,this},e.prototype.start=function(t){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var n in this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=t!==void 0?typeof t=="string"?si()+parseFloat(t):t:si(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(t,n,r,i){for(var o in r){var a=t[o],c=Array.isArray(a),d=c?"array":typeof a,p=!c&&Array.isArray(r[o]);if(!(d==="undefined"||d==="function")){if(p){var m=r[o];if(m.length===0)continue;m=m.map(this._handleRelativeValue.bind(this,a)),r[o]=[a].concat(m)}if((d==="object"||c)&&a&&!p){n[o]=c?[]:{};for(var g in a)n[o][g]=a[g];i[o]=c?[]:{},this._setupProperties(a,n[o],r[o],i[o])}else typeof n[o]>"u"&&(n[o]=a),c||(n[o]*=1),p?i[o]=r[o].slice().reverse():i[o]=n[o]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(t){return t===void 0&&(t=si()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this),this)},e.prototype.resume=function(t){return t===void 0&&(t=si()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},e.prototype.stopChainedTweens=function(){for(var t=0,n=this._chainedTweens.length;t<n;t++)this._chainedTweens[t].stop();return this},e.prototype.group=function(t){return this._group=t,this},e.prototype.delay=function(t){return this._delayTime=t,this},e.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},e.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},e.prototype.yoyo=function(t){return this._yoyo=t,this},e.prototype.easing=function(t){return this._easingFunction=t,this},e.prototype.interpolation=function(t){return this._interpolationFunction=t,this},e.prototype.chain=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._chainedTweens=t,this},e.prototype.onStart=function(t){return this._onStartCallback=t,this},e.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},e.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},e.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},e.prototype.onStop=function(t){return this._onStopCallback=t,this},e.prototype.update=function(t,n){if(t===void 0&&(t=si()),n===void 0&&(n=!0),this._isPaused)return!0;var r,i,o=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>o)return!1;n&&this.start(t)}if(this._goToEnd=!1,t<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(t-this._startTime)/this._duration,i=this._duration===0||i>1?1:i;var a=this._easingFunction(i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),i===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(r in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[r]=="string"&&(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(this._valuesEnd[r])),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var c=0,d=this._chainedTweens.length;c<d;c++)this._chainedTweens[c].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(t,n,r,i){for(var o in r)if(n[o]!==void 0){var a=n[o]||0,c=r[o],d=Array.isArray(t[o]),p=Array.isArray(c),m=!d&&p;m?t[o]=this._interpolationFunction(c,i):typeof c=="object"&&c?this._updateProperties(t[o],a,c,i):(c=this._handleRelativeValue(a,c),typeof c=="number"&&(t[o]=a+(c-a)*i))}},e.prototype._handleRelativeValue=function(t,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?t+parseFloat(n):parseFloat(n)},e.prototype._swapEndStartRepeatValues=function(t){var n=this._valuesStartRepeat[t],r=this._valuesEnd[t];typeof r=="string"?this._valuesStartRepeat[t]=this._valuesStartRepeat[t]+parseFloat(r):this._valuesStartRepeat[t]=this._valuesEnd[t],this._valuesEnd[t]=n},e}(),c2="18.6.4",u2=cc.nextId,Gn=Uf,d2=Gn.getAll.bind(Gn),f2=Gn.removeAll.bind(Gn),h2=Gn.add.bind(Gn),p2=Gn.remove.bind(Gn),m2=Gn.update.bind(Gn),g2={Easing:Ye,Group:Bf,Interpolation:Pi,now:si,Sequence:cc,nextId:u2,Tween:Sn,VERSION:c2,getAll:d2,removeAll:f2,add:h2,remove:p2,update:m2};function zf(e){requestAnimationFrame(zf),g2.update(e)}requestAnimationFrame(zf);var v2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ar(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uc(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];typeof n=="object"&&!Object.isFrozen(n)&&uc(n)}),e}var jf=uc,y2=uc;jf.default=y2;class Ff{constructor(t){t.data===void 0&&(t.data={}),this.data=t.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function Bi(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Sr(e,...t){const n=Object.create(null);for(const r in e)n[r]=e[r];return t.forEach(function(r){for(const i in r)n[i]=r[i]}),n}const b2="</span>",Hf=e=>!!e.kind;class x2{constructor(t,n){this.buffer="",this.classPrefix=n.classPrefix,t.walk(this)}addText(t){this.buffer+=Bi(t)}openNode(t){if(!Hf(t))return;let n=t.kind;t.sublanguage||(n=`${this.classPrefix}${n}`),this.span(n)}closeNode(t){Hf(t)&&(this.buffer+=b2)}value(){return this.buffer}span(t){this.buffer+=`<span class="${t}">`}}class dc{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(t){this.top.children.push(t)}openNode(t){const n={kind:t,children:[]};this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(t){return this.constructor._walk(t,this.rootNode)}static _walk(t,n){return typeof n=="string"?t.addText(n):n.children&&(t.openNode(n),n.children.forEach(r=>this._walk(t,r)),t.closeNode(n)),t}static _collapse(t){typeof t!="string"&&t.children&&(t.children.every(n=>typeof n=="string")?t.children=[t.children.join("")]:t.children.forEach(n=>{dc._collapse(n)}))}}class w2 extends dc{constructor(t){super(),this.options=t}addKeyword(t,n){t!==""&&(this.openNode(n),this.addText(t),this.closeNode())}addText(t){t!==""&&this.add(t)}addSublanguage(t,n){const r=t.root;r.kind=n,r.sublanguage=!0,this.add(r)}toHTML(){return new x2(this,this.options).value()}finalize(){return!0}}function C2(e){return new RegExp(e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")}function Do(e){return e?typeof e=="string"?e:e.source:null}function k2(...e){return e.map(n=>Do(n)).join("")}function $2(...e){return"("+e.map(n=>Do(n)).join("|")+")"}function T2(e){return new RegExp(e.toString()+"|").exec("").length-1}function E2(e,t){const n=e&&e.exec(t);return n&&n.index===0}const I2=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function S2(e,t="|"){let n=0;return e.map(r=>{n+=1;const i=n;let o=Do(r),a="";for(;o.length>0;){const c=I2.exec(o);if(!c){a+=o;break}a+=o.substring(0,c.index),o=o.substring(c.index+c[0].length),c[0][0]==="\\"&&c[1]?a+="\\"+String(Number(c[1])+i):(a+=c[0],c[0]==="("&&n++)}return a}).map(r=>`(${r})`).join(t)}const _2=/\b\B/,Gf="[a-zA-Z]\\w*",fc="[a-zA-Z_]\\w*",hc="\\b\\d+(\\.\\d+)?",Vf="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Yf="\\b(0b[01]+)",A2="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",N2=(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=k2(t,/.*\b/,e.binary,/\b.*/)),Sr({className:"meta",begin:t,end:/$/,relevance:0,"on:begin":(n,r)=>{n.index!==0&&r.ignoreMatch()}},e)},Ro={begin:"\\\\[\\s\\S]",relevance:0},O2={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[Ro]},M2={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[Ro]},Xf={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Ka=function(e,t,n={}){const r=Sr({className:"comment",begin:e,end:t,contains:[]},n);return r.contains.push(Xf),r.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),r},D2=Ka("//","$"),R2=Ka("/\\*","\\*/"),L2=Ka("#","$"),P2={className:"number",begin:hc,relevance:0},B2={className:"number",begin:Vf,relevance:0},U2={className:"number",begin:Yf,relevance:0},z2={className:"number",begin:hc+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},j2={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[Ro,{begin:/\[/,end:/\]/,relevance:0,contains:[Ro]}]}]},F2={className:"title",begin:Gf,relevance:0},H2={className:"title",begin:fc,relevance:0},G2={begin:"\\.\\s*"+fc,relevance:0};var Wa=Object.freeze({__proto__:null,MATCH_NOTHING_RE:_2,IDENT_RE:Gf,UNDERSCORE_IDENT_RE:fc,NUMBER_RE:hc,C_NUMBER_RE:Vf,BINARY_NUMBER_RE:Yf,RE_STARTERS_RE:A2,SHEBANG:N2,BACKSLASH_ESCAPE:Ro,APOS_STRING_MODE:O2,QUOTE_STRING_MODE:M2,PHRASAL_WORDS_MODE:Xf,COMMENT:Ka,C_LINE_COMMENT_MODE:D2,C_BLOCK_COMMENT_MODE:R2,HASH_COMMENT_MODE:L2,NUMBER_MODE:P2,C_NUMBER_MODE:B2,BINARY_NUMBER_MODE:U2,CSS_NUMBER_MODE:z2,REGEXP_MODE:j2,TITLE_MODE:F2,UNDERSCORE_TITLE_MODE:H2,METHOD_GUARD:G2,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(t,n)=>{n.data._beginMatch=t[1]},"on:end":(t,n)=>{n.data._beginMatch!==t[1]&&n.ignoreMatch()}})}});function V2(e,t){e.input[e.index-1]==="."&&t.ignoreMatch()}function Y2(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=V2,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function X2(e,t){Array.isArray(e.illegal)&&(e.illegal=$2(...e.illegal))}function K2(e,t){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function W2(e,t){e.relevance===void 0&&(e.relevance=1)}const Z2=["of","and","for","in","not","or","if","then","parent","list","value"],Q2="keyword";function Kf(e,t,n=Q2){const r={};return typeof e=="string"?i(n,e.split(" ")):Array.isArray(e)?i(n,e):Object.keys(e).forEach(function(o){Object.assign(r,Kf(e[o],t,o))}),r;function i(o,a){t&&(a=a.map(c=>c.toLowerCase())),a.forEach(function(c){const d=c.split("|");r[d[0]]=[o,q2(d[0],d[1])]})}}function q2(e,t){return t?Number(t):J2(e)?0:1}function J2(e){return Z2.includes(e.toLowerCase())}function ew(e,{plugins:t}){function n(c,d){return new RegExp(Do(c),"m"+(e.case_insensitive?"i":"")+(d?"g":""))}class r{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(d,p){p.position=this.position++,this.matchIndexes[this.matchAt]=p,this.regexes.push([p,d]),this.matchAt+=T2(d)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const d=this.regexes.map(p=>p[1]);this.matcherRe=n(S2(d),!0),this.lastIndex=0}exec(d){this.matcherRe.lastIndex=this.lastIndex;const p=this.matcherRe.exec(d);if(!p)return null;const m=p.findIndex((y,b)=>b>0&&y!==void 0),g=this.matchIndexes[m];return p.splice(0,m),Object.assign(p,g)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(d){if(this.multiRegexes[d])return this.multiRegexes[d];const p=new r;return this.rules.slice(d).forEach(([m,g])=>p.addRule(m,g)),p.compile(),this.multiRegexes[d]=p,p}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(d,p){this.rules.push([d,p]),p.type==="begin"&&this.count++}exec(d){const p=this.getMatcher(this.regexIndex);p.lastIndex=this.lastIndex;let m=p.exec(d);if(this.resumingScanAtSamePosition()&&!(m&&m.index===this.lastIndex)){const g=this.getMatcher(0);g.lastIndex=this.lastIndex+1,m=g.exec(d)}return m&&(this.regexIndex+=m.position+1,this.regexIndex===this.count&&this.considerAll()),m}}function o(c){const d=new i;return c.contains.forEach(p=>d.addRule(p.begin,{rule:p,type:"begin"})),c.terminatorEnd&&d.addRule(c.terminatorEnd,{type:"end"}),c.illegal&&d.addRule(c.illegal,{type:"illegal"}),d}function a(c,d){const p=c;if(c.isCompiled)return p;[K2].forEach(g=>g(c,d)),e.compilerExtensions.forEach(g=>g(c,d)),c.__beforeBegin=null,[Y2,X2,W2].forEach(g=>g(c,d)),c.isCompiled=!0;let m=null;if(typeof c.keywords=="object"&&(m=c.keywords.$pattern,delete c.keywords.$pattern),c.keywords&&(c.keywords=Kf(c.keywords,e.case_insensitive)),c.lexemes&&m)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return m=m||c.lexemes||/\w+/,p.keywordPatternRe=n(m,!0),d&&(c.begin||(c.begin=/\B|\b/),p.beginRe=n(c.begin),c.endSameAsBegin&&(c.end=c.begin),!c.end&&!c.endsWithParent&&(c.end=/\B|\b/),c.end&&(p.endRe=n(c.end)),p.terminatorEnd=Do(c.end)||"",c.endsWithParent&&d.terminatorEnd&&(p.terminatorEnd+=(c.end?"|":"")+d.terminatorEnd)),c.illegal&&(p.illegalRe=n(c.illegal)),c.contains||(c.contains=[]),c.contains=[].concat(...c.contains.map(function(g){return tw(g==="self"?c:g)})),c.contains.forEach(function(g){a(g,p)}),c.starts&&a(c.starts,d),p.matcher=o(p),p}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=Sr(e.classNameAliases||{}),a(e)}function Wf(e){return e?e.endsWithParent||Wf(e.starts):!1}function tw(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(t){return Sr(e,{variants:null},t)})),e.cachedVariants?e.cachedVariants:Wf(e)?Sr(e,{starts:e.starts?Sr(e.starts):null}):Object.isFrozen(e)?Sr(e):e}var nw="10.7.3";function rw(e){return!!(e||e==="")}function iw(e){const t={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!e.getLanguage(this.language))return console.warn(`The language "${this.language}" you specified could not be found.`),this.unknownLanguage=!0,Bi(this.code);let r={};return this.autoDetect?(r=e.highlightAuto(this.code),this.detectedLanguage=r.language):(r=e.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),r.value},autoDetect(){return!this.language||rw(this.autodetect)},ignoreIllegals(){return!0}},render(r){return r("pre",{},[r("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}};return{Component:t,VuePlugin:{install(r){r.component("highlightjs",t)}}}}const ow={"after:highlightElement":({el:e,result:t,text:n})=>{const r=Zf(e);if(!r.length)return;const i=document.createElement("div");i.innerHTML=t.value,t.value=aw(r,Zf(i),n)}};function pc(e){return e.nodeName.toLowerCase()}function Zf(e){const t=[];return function n(r,i){for(let o=r.firstChild;o;o=o.nextSibling)o.nodeType===3?i+=o.nodeValue.length:o.nodeType===1&&(t.push({event:"start",offset:i,node:o}),i=n(o,i),pc(o).match(/br|hr|img|input/)||t.push({event:"stop",offset:i,node:o}));return i}(e,0),t}function aw(e,t,n){let r=0,i="";const o=[];function a(){return!e.length||!t.length?e.length?e:t:e[0].offset!==t[0].offset?e[0].offset<t[0].offset?e:t:t[0].event==="start"?e:t}function c(m){function g(y){return" "+y.nodeName+'="'+Bi(y.value)+'"'}i+="<"+pc(m)+[].map.call(m.attributes,g).join("")+">"}function d(m){i+="</"+pc(m)+">"}function p(m){(m.event==="start"?c:d)(m.node)}for(;e.length||t.length;){let m=a();if(i+=Bi(n.substring(r,m[0].offset)),r=m[0].offset,m===e){o.reverse().forEach(d);do p(m.splice(0,1)[0]),m=a();while(m===e&&m.length&&m[0].offset===r);o.reverse().forEach(c)}else m[0].event==="start"?o.push(m[0].node):o.pop(),p(m.splice(0,1)[0])}return i+Bi(n.substr(r))}const Qf={},mc=e=>{console.error(e)},qf=(e,...t)=>{console.log(`WARN: ${e}`,...t)},xn=(e,t)=>{Qf[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),Qf[`${e}/${t}`]=!0)},gc=Bi,Jf=Sr,eh=Symbol("nomatch");var sw=function(e){const t=Object.create(null),n=Object.create(null),r=[];let i=!0;const o=/(^(<[^>]+>|\t|)+|\n)/gm,a="Could not find the language '{}', did you forget to load/include a language module?",c={disableAutodetect:!0,name:"Plain text",contains:[]};let d={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:w2};function p(G){return d.noHighlightRe.test(G)}function m(G){let q=G.className+" ";q+=G.parentNode?G.parentNode.className:"";const oe=d.languageDetectRe.exec(q);if(oe){const xe=Te(oe[1]);return xe||(qf(a.replace("{}",oe[1])),qf("Falling back to no-highlight mode for this block.",G)),xe?oe[1]:"no-highlight"}return q.split(/\s+/).find(xe=>p(xe)||Te(xe))}function g(G,q,oe,xe){let Ge="",Mt="";typeof q=="object"?(Ge=G,oe=q.ignoreIllegals,Mt=q.language,xe=void 0):(xn("10.7.0","highlight(lang, code, ...args) has been deprecated."),xn("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Mt=G,Ge=q);const rt={code:Ge,language:Mt};He("before:highlight",rt);const ft=rt.result?rt.result:y(rt.language,rt.code,oe,xe);return ft.code=rt.code,He("after:highlight",ft),ft}function y(G,q,oe,xe){function Ge(te,ie){const me=rn.case_insensitive?ie[0].toLowerCase():ie[0];return Object.prototype.hasOwnProperty.call(te.keywords,me)&&te.keywords[me]}function Mt(){if(!he.keywords){Tt.addText(it);return}let te=0;he.keywordPatternRe.lastIndex=0;let ie=he.keywordPatternRe.exec(it),me="";for(;ie;){me+=it.substring(te,ie.index);const Oe=Ge(he,ie);if(Oe){const[L,J]=Oe;if(Tt.addText(me),me="",ei+=J,L.startsWith("_"))me+=ie[0];else{const ae=rn.classNameAliases[L]||L;Tt.addKeyword(ie[0],ae)}}else me+=ie[0];te=he.keywordPatternRe.lastIndex,ie=he.keywordPatternRe.exec(it)}me+=it.substr(te),Tt.addText(me)}function rt(){if(it==="")return;let te=null;if(typeof he.subLanguage=="string"){if(!t[he.subLanguage]){Tt.addText(it);return}te=y(he.subLanguage,it,!0,Fn[he.subLanguage]),Fn[he.subLanguage]=te.top}else te=C(it,he.subLanguage.length?he.subLanguage:null);he.relevance>0&&(ei+=te.relevance),Tt.addSublanguage(te.emitter,te.language)}function ft(){he.subLanguage!=null?rt():Mt(),it=""}function gt(te){return te.className&&Tt.openNode(rn.classNameAliases[te.className]||te.className),he=Object.create(te,{parent:{value:he}}),he}function Vt(te,ie,me){let Oe=E2(te.endRe,me);if(Oe){if(te["on:end"]){const L=new Ff(te);te["on:end"](ie,L),L.isMatchIgnored&&(Oe=!1)}if(Oe){for(;te.endsParent&&te.parent;)te=te.parent;return te}}if(te.endsWithParent)return Vt(te.parent,ie,me)}function xr(te){return he.matcher.regexIndex===0?(it+=te[0],1):(_i=!0,0)}function wr(te){const ie=te[0],me=te.rule,Oe=new Ff(me),L=[me.__beforeBegin,me["on:begin"]];for(const J of L)if(J&&(J(te,Oe),Oe.isMatchIgnored))return xr(ie);return me&&me.endSameAsBegin&&(me.endRe=C2(ie)),me.skip?it+=ie:(me.excludeBegin&&(it+=ie),ft(),!me.returnBegin&&!me.excludeBegin&&(it=ie)),gt(me),me.returnBegin?0:ie.length}function Cr(te){const ie=te[0],me=q.substr(te.index),Oe=Vt(he,te,me);if(!Oe)return eh;const L=he;L.skip?it+=ie:(L.returnEnd||L.excludeEnd||(it+=ie),ft(),L.excludeEnd&&(it=ie));do he.className&&Tt.closeNode(),!he.skip&&!he.subLanguage&&(ei+=he.relevance),he=he.parent;while(he!==Oe.parent);return Oe.starts&&(Oe.endSameAsBegin&&(Oe.starts.endRe=Oe.endRe),gt(Oe.starts)),L.returnEnd?0:ie.length}function yn(){const te=[];for(let ie=he;ie!==rn;ie=ie.parent)ie.className&&te.unshift(ie.className);te.forEach(ie=>Tt.openNode(ie))}let bn={};function tr(te,ie){const me=ie&&ie[0];if(it+=te,me==null)return ft(),0;if(bn.type==="begin"&&ie.type==="end"&&bn.index===ie.index&&me===""){if(it+=q.slice(ie.index,ie.index+1),!i){const Oe=new Error("0 width match regex");throw Oe.languageName=G,Oe.badRule=bn.rule,Oe}return 1}if(bn=ie,ie.type==="begin")return wr(ie);if(ie.type==="illegal"&&!oe){const Oe=new Error('Illegal lexeme "'+me+'" for mode "'+(he.className||"<unnamed>")+'"');throw Oe.mode=he,Oe}else if(ie.type==="end"){const Oe=Cr(ie);if(Oe!==eh)return Oe}if(ie.type==="illegal"&&me==="")return 1;if(Tr>1e5&&Tr>ie.index*3)throw new Error("potential infinite loop, way more iterations than matches");return it+=me,me.length}const rn=Te(G);if(!rn)throw mc(a.replace("{}",G)),new Error('Unknown language: "'+G+'"');const Ha=ew(rn,{plugins:r});let kr="",he=xe||Ha;const Fn={},Tt=new d.__emitter(d);yn();let it="",ei=0,nr=0,Tr=0,_i=!1;try{for(he.matcher.considerAll();;){Tr++,_i?_i=!1:he.matcher.considerAll(),he.matcher.lastIndex=nr;const te=he.matcher.exec(q);if(!te)break;const ie=q.substring(nr,te.index),me=tr(ie,te);nr=te.index+me}return tr(q.substr(nr)),Tt.closeAllNodes(),Tt.finalize(),kr=Tt.toHTML(),{relevance:Math.floor(ei),value:kr,language:G,illegal:!1,emitter:Tt,top:he}}catch(te){if(te.message&&te.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:te.message,context:q.slice(nr-100,nr+100),mode:te.mode},sofar:kr,relevance:0,value:gc(q),emitter:Tt};if(i)return{illegal:!1,relevance:0,value:gc(q),emitter:Tt,language:G,top:he,errorRaised:te};throw te}}function b(G){const q={relevance:0,emitter:new d.__emitter(d),value:gc(G),illegal:!1,top:c};return q.emitter.addText(G),q}function C(G,q){q=q||d.languages||Object.keys(t);const oe=b(G),xe=q.filter(Te).filter(ut).map(gt=>y(gt,G,!1));xe.unshift(oe);const Ge=xe.sort((gt,Vt)=>{if(gt.relevance!==Vt.relevance)return Vt.relevance-gt.relevance;if(gt.language&&Vt.language){if(Te(gt.language).supersetOf===Vt.language)return 1;if(Te(Vt.language).supersetOf===gt.language)return-1}return 0}),[Mt,rt]=Ge,ft=Mt;return ft.second_best=rt,ft}function w(G){return d.tabReplace||d.useBR?G.replace(o,q=>q===`
`?d.useBR?"<br>":q:d.tabReplace?q.replace(/\t/g,d.tabReplace):q):G}function E(G,q,oe){const xe=q?n[q]:oe;G.classList.add("hljs"),xe&&G.classList.add(xe)}const T={"before:highlightElement":({el:G})=>{d.useBR&&(G.innerHTML=G.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,`
`))},"after:highlightElement":({result:G})=>{d.useBR&&(G.value=G.value.replace(/\n/g,"<br>"))}},I=/^(<[^>]+>|\t)+/gm,_={"after:highlightElement":({result:G})=>{d.tabReplace&&(G.value=G.value.replace(I,q=>q.replace(/\t/g,d.tabReplace)))}};function k(G){let q=null;const oe=m(G);if(p(oe))return;He("before:highlightElement",{el:G,language:oe}),q=G;const xe=q.textContent,Ge=oe?g(xe,{language:oe,ignoreIllegals:!0}):C(xe);He("after:highlightElement",{el:G,result:Ge,text:xe}),G.innerHTML=Ge.value,E(G,oe,Ge.language),G.result={language:Ge.language,re:Ge.relevance,relavance:Ge.relevance},Ge.second_best&&(G.second_best={language:Ge.second_best.language,re:Ge.second_best.relevance,relavance:Ge.second_best.relevance})}function O(G){G.useBR&&(xn("10.3.0","'useBR' will be removed entirely in v11.0"),xn("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),d=Jf(d,G)}const M=()=>{if(M.called)return;M.called=!0,xn("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead."),document.querySelectorAll("pre code").forEach(k)};function D(){xn("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),P=!0}let P=!1;function Y(){if(document.readyState==="loading"){P=!0;return}document.querySelectorAll("pre code").forEach(k)}function H(){P&&Y()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",H,!1);function X(G,q){let oe=null;try{oe=q(e)}catch(xe){if(mc("Language definition for '{}' could not be registered.".replace("{}",G)),i)mc(xe);else throw xe;oe=c}oe.name||(oe.name=G),t[G]=oe,oe.rawDefinition=q.bind(null,e),oe.aliases&&ne(oe.aliases,{languageName:G})}function j(G){delete t[G];for(const q of Object.keys(n))n[q]===G&&delete n[q]}function F(){return Object.keys(t)}function ge(G){xn("10.4.0","requireLanguage will be removed entirely in v11."),xn("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");const q=Te(G);if(q)return q;throw new Error("The '{}' language is required, but not loaded.".replace("{}",G))}function Te(G){return G=(G||"").toLowerCase(),t[G]||t[n[G]]}function ne(G,{languageName:q}){typeof G=="string"&&(G=[G]),G.forEach(oe=>{n[oe.toLowerCase()]=q})}function ut(G){const q=Te(G);return q&&!q.disableAutodetect}function dt(G){G["before:highlightBlock"]&&!G["before:highlightElement"]&&(G["before:highlightElement"]=q=>{G["before:highlightBlock"](Object.assign({block:q.el},q))}),G["after:highlightBlock"]&&!G["after:highlightElement"]&&(G["after:highlightElement"]=q=>{G["after:highlightBlock"](Object.assign({block:q.el},q))})}function Pt(G){dt(G),r.push(G)}function He(G,q){const oe=G;r.forEach(function(xe){xe[oe]&&xe[oe](q)})}function vn(G){return xn("10.2.0","fixMarkup will be removed entirely in v11.0"),xn("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),w(G)}function mt(G){return xn("10.7.0","highlightBlock will be removed entirely in v12.0"),xn("10.7.0","Please use highlightElement now."),k(G)}Object.assign(e,{highlight:g,highlightAuto:C,highlightAll:Y,fixMarkup:vn,highlightElement:k,highlightBlock:mt,configure:O,initHighlighting:M,initHighlightingOnLoad:D,registerLanguage:X,unregisterLanguage:j,listLanguages:F,getLanguage:Te,registerAliases:ne,requireLanguage:ge,autoDetection:ut,inherit:Jf,addPlugin:Pt,vuePlugin:iw(e).VuePlugin}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=nw;for(const G in Wa)typeof Wa[G]=="object"&&jf(Wa[G]);return Object.assign(e,Wa),e.addPlugin(T),e.addPlugin(ow),e.addPlugin(_),e}({}),lw=sw;const sr=ar(lw);function cw(e){const t=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],n=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],r=["default","false","null","true"],i=["abstract","as","base","break","case","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],o=["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"],a={keyword:i.concat(o),built_in:t,literal:r},c=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),d={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},p={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},m=e.inherit(p,{illegal:/\n/}),g={className:"subst",begin:/\{/,end:/\}/,keywords:a},y=e.inherit(g,{illegal:/\n/}),b={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,y]},C={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},g]},w=e.inherit(C,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},y]});g.contains=[C,b,p,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,e.C_BLOCK_COMMENT_MODE],y.contains=[w,b,m,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,d,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];const E={variants:[C,b,p,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},T={begin:"<",end:">",contains:[{beginKeywords:"in out"},c]},I=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",_={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:a,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{"meta-keyword":"if else elif endif define undef warning error line region endregion pragma checksum"}},E,d,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},c,T,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[c,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[c,T,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"meta-string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+I+"\\s+)+"+e.IDENT_RE+"\\s*(<.+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:a,contains:[{beginKeywords:n.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<.+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,T],relevance:0},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,relevance:0,contains:[E,d,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},_]}}var uw=cw;const dw=ar(uw);var Ui="[0-9](_*[0-9])*",Za=`\\.(${Ui})`,Qa="[0-9a-fA-F](_*[0-9a-fA-F])*",fw={className:"number",variants:[{begin:`(\\b(${Ui})((${Za})|\\.)?|(${Za}))[eE][+-]?(${Ui})[fFdD]?\\b`},{begin:`\\b(${Ui})((${Za})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${Za})[fFdD]?\\b`},{begin:`\\b(${Ui})[fFdD]\\b`},{begin:`\\b0[xX]((${Qa})\\.?|(${Qa})?\\.(${Qa}))[pP][+-]?(${Ui})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Qa})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function hw(e){var t="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",n=t+"(<"+t+"(\\s*,\\s*"+t+")*>)?",r="false synchronized int abstract float private char boolean var static null if const for true while long strictfp finally protected import native final void enum else break transient catch instanceof byte super volatile case assert short package default double public try this switch continue throws protected public private module requires exports do",i={className:"meta",begin:"@"+t,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]};const o=fw;return{name:"Java",aliases:["jsp"],keywords:r,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"class",beginKeywords:"class interface enum",end:/[{;=]/,excludeEnd:!0,relevance:1,keywords:"class interface enum",illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"new throw return else",relevance:0},{className:"class",begin:"record\\s+"+e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,excludeEnd:!0,end:/[{;=]/,keywords:r,contains:[{beginKeywords:"record"},{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"params",begin:/\(/,end:/\)/,keywords:r,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"function",begin:"("+n+"\\s+)+"+e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:r,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"params",begin:/\(/,end:/\)/,keywords:r,relevance:0,contains:[i,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,o,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},o,i]}}var pw=hw;const mw=ar(pw);var zi="[0-9](_*[0-9])*",qa=`\\.(${zi})`,Ja="[0-9a-fA-F](_*[0-9a-fA-F])*",gw={className:"number",variants:[{begin:`(\\b(${zi})((${qa})|\\.)?|(${qa}))[eE][+-]?(${zi})[fFdD]?\\b`},{begin:`\\b(${zi})((${qa})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${qa})[fFdD]?\\b`},{begin:`\\b(${zi})[fFdD]\\b`},{begin:`\\b0[xX]((${Ja})\\.?|(${Ja})?\\.(${Ja}))[pP][+-]?(${zi})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${Ja})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function vw(e){const t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},r={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},o={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},a={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[o,i]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,o,i]}]};i.contains.push(a);const c={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},d={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(a,{className:"meta-string"})]}]},p=gw,m=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),g={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},y=g;return y.variants[1].contains=[g],g.variants[1].contains=[y],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,m,n,r,c,d,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[g,e.C_LINE_COMMENT_MODE,m],relevance:0},e.C_LINE_COMMENT_MODE,m,c,d,a,e.C_NUMBER_MODE]},m]},{className:"class",beginKeywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,]|$/,excludeBegin:!0,returnEnd:!0},c,d]},a,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},p]}}var yw=vw;const bw=ar(yw);function xw(e){const t={className:"meta",begin:"@[A-Za-z]+"},n={className:"subst",variants:[{begin:"\\$[A-Za-z0-9_]+"},{begin:/\$\{/,end:/\}/}]},r={className:"string",variants:[{begin:'"""',end:'"""'},{begin:'"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:'[a-z]+"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE,n]},{className:"string",begin:'[a-z]+"""',end:'"""',contains:[n],relevance:10}]},i={className:"symbol",begin:"'\\w[\\w\\d_]*(?!')"},o={className:"type",begin:"\\b[A-Z][A-Za-z0-9_]*",relevance:0},a={className:"title",begin:/[^0-9\n\t "'(),.`{}\[\]:;][^\n\t "'(),.`{}\[\]:;]+|[^0-9\n\t "'(),.`{}\[\]:;=]/,relevance:0},c={className:"class",beginKeywords:"class object trait type",end:/[:={\[\n;]/,excludeEnd:!0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{beginKeywords:"extends with",relevance:10},{begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0,relevance:0,contains:[o]},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,relevance:0,contains:[o]},a]},d={className:"function",beginKeywords:"def",end:/[:={\[(\n;]/,excludeEnd:!0,contains:[a]};return{name:"Scala",keywords:{literal:"true false null",keyword:"type yield lazy override def with val var sealed abstract private trait object if forSome for while throw finally protected extends import final return else break new catch super class case package default try this match continue throws implicit"},contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,r,i,o,d,c,e.C_NUMBER_MODE,t]}}var ww=xw;const Cw=ar(ww);function th(e){return e?typeof e=="string"?e:e.source:null}function kw(...e){return e.map(n=>th(n)).join("")}function vc(...e){return"("+e.map(n=>th(n)).join("|")+")"}function $w(e){const t=e.COMMENT("--","$"),n={className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},r={begin:/"/,end:/"/,contains:[{begin:/""/}]},i=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],a=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],c=["add","asc","collation","desc","final","first","last","view"],d=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update   ","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],p=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],m=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],g=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],y=p,b=[...d,...c].filter(I=>!p.includes(I)),C={className:"variable",begin:/@[a-z0-9]+/},w={className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},E={begin:kw(/\b/,vc(...y),/\s*\(/),keywords:{built_in:y}};function T(I,{exceptions:_,when:k}={}){const O=k;return _=_||[],I.map(M=>M.match(/\|\d+$/)||_.includes(M)?M:O(M)?`${M}|0`:M)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:T(b,{when:I=>I.length<3}),literal:i,type:a,built_in:m},contains:[{begin:vc(...g),keywords:{$pattern:/[\w\.]+/,keyword:b.concat(g),literal:i,type:a}},{className:"type",begin:vc(...o)},E,C,n,r,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,t,w]}}var Tw=$w;const Ew=ar(Tw),es="[A-Za-z$_][0-9A-Za-z$_]*",nh=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],rh=["true","false","null","undefined","NaN","Infinity"],Iw=["Intl","DataView","Number","Math","Date","String","RegExp","Object","Function","Boolean","Error","Symbol","Set","Map","WeakSet","WeakMap","Proxy","Reflect","JSON","Promise","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Float32Array","Array","Uint8Array","Uint8ClampedArray","ArrayBuffer","BigInt64Array","BigUint64Array","BigInt"],Sw=["EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],_w=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Aw=["arguments","this","super","console","window","document","localStorage","module","global"],ih=[].concat(_w,Aw,Iw,Sw);function Nw(e){return e?typeof e=="string"?e:e.source:null}function oh(e){return yc("(?=",e,")")}function yc(...e){return e.map(n=>Nw(n)).join("")}function Ow(e){const t=(k,{after:O})=>{const M="</"+k[0].slice(1);return k.input.indexOf(M,O)!==-1},n=es,r={begin:"<>",end:"</>"},i={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(k,O)=>{const M=k[0].length+k.index,D=k.input[M];if(D==="<"){O.ignoreMatch();return}D===">"&&(t(k,{after:M})||O.ignoreMatch())}},o={$pattern:es,keyword:nh,literal:rh,built_in:ih},a="[0-9](_?[0-9])*",c=`\\.(${a})`,d="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",p={className:"number",variants:[{begin:`(\\b(${d})((${c})|\\.)?|(${c}))[eE][+-]?(${a})\\b`},{begin:`\\b(${d})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},m={className:"subst",begin:"\\$\\{",end:"\\}",keywords:o,contains:[]},g={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"xml"}},y={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,m],subLanguage:"css"}},b={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,m]},w={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+",contains:[{className:"type",begin:"\\{",end:"\\}",relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},E=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,g,y,b,p,e.REGEXP_MODE];m.contains=E.concat({begin:/\{/,end:/\}/,keywords:o,contains:["self"].concat(E)});const T=[].concat(w,m.contains),I=T.concat([{begin:/\(/,end:/\)/,keywords:o,contains:["self"].concat(T)}]),_={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:I};return{name:"Javascript",aliases:["js","jsx","mjs","cjs"],keywords:o,exports:{PARAMS_CONTAINS:I},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,g,y,b,w,p,{begin:yc(/[{,\n]\s*/,oh(yc(/(((\/\/.*$)|(\/\*(\*[^/]|[^*])*\*\/))\s*)*/,n+"\\s*:"))),relevance:0,contains:[{className:"attr",begin:n+oh("\\s*:"),relevance:0}]},{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[w,e.REGEXP_MODE,{className:"function",begin:"(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:I}]}]},{begin:/,/,relevance:0},{className:"",begin:/\s/,end:/\s*/,skip:!0},{variants:[{begin:r.begin,end:r.end},{begin:i.begin,"on:begin":i.isTrulyOpeningTag,end:i.end}],subLanguage:"xml",contains:[{begin:i.begin,end:i.end,skip:!0,contains:["self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/[{;]/,excludeEnd:!0,keywords:o,contains:["self",e.inherit(e.TITLE_MODE,{begin:n}),_],illegal:/%/},{beginKeywords:"while if switch catch for"},{className:"function",begin:e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,contains:[_,e.inherit(e.TITLE_MODE,{begin:n})]},{variants:[{begin:"\\."+n},{begin:"\\$"+n}],relevance:0},{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"[\]]/,contains:[{beginKeywords:"extends"},e.UNDERSCORE_TITLE_MODE]},{begin:/\b(?=constructor)/,end:/[{;]/,excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:n}),"self",_]},{begin:"(get|set)\\s+(?="+n+"\\()",end:/\{/,keywords:"get set",contains:[e.inherit(e.TITLE_MODE,{begin:n}),{begin:/\(\)/},_]},{begin:/\$[(.]/}]}}function Mw(e){const t=es,n={beginKeywords:"namespace",end:/\{/,excludeEnd:!0},r={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:"interface extends"},i={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},o=["any","void","number","boolean","string","object","never","enum"],a=["type","namespace","typedef","interface","public","private","protected","implements","declare","abstract","readonly"],c={$pattern:es,keyword:nh.concat(a),literal:rh,built_in:ih.concat(o)},d={className:"meta",begin:"@"+t},p=(y,b,C)=>{const w=y.contains.findIndex(E=>E.label===b);if(w===-1)throw new Error("can not find mode to replace");y.contains.splice(w,1,C)},m=Ow(e);Object.assign(m.keywords,c),m.exports.PARAMS_CONTAINS.push(d),m.contains=m.contains.concat([d,n,r]),p(m,"shebang",e.SHEBANG()),p(m,"use_strict",i);const g=m.contains.find(y=>y.className==="function");return g.relevance=0,Object.assign(m,{name:"TypeScript",aliases:["ts","tsx"]}),m}var Dw=Mw;const Rw=ar(Dw);var bc={exports:{}};function ah(e){return{aliases:["gql"],keywords:{keyword:"query mutation subscription|10 input schema implements type interface union scalar fragment|10 enum on ...",literal:"ID ID! String Float Int Boolean",variable:"true false null"},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{className:"literal",begin:"[^\\w][A-Z][a-z]",end:"\\W",excludeEnd:!0},{className:"literal",begin:":\\s\\[",end:"[\\]!]{1,3}",excludeBegin:!0,excludeEnd:!0},{className:"type",begin:"[^\\w](?!ID)[A-Z][A-Z]",end:"\\W",excludeEnd:!0},{className:"name",begin:"\\$",end:"\\W",excludeEnd:!0},{className:"meta",begin:"@",end:"\\W",excludeEnd:!0}],illegal:/([;<']|BEGIN)/}}bc.exports=function(e){e.registerLanguage("graphql",ah)},bc.exports.definer=ah;var Lw=bc.exports;const Pw=ar(Lw);sr.registerLanguage("sql",Ew),sr.registerLanguage("csharp",dw),sr.registerLanguage("java",mw),sr.registerLanguage("kotlin",bw),sr.registerLanguage("typescript",Rw),sr.registerLanguage("scala",Cw),Pw(sr);/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const sh=new WeakMap,Lo=e=>(...t)=>{const n=e(...t);return sh.set(n,!0),n},Po=e=>typeof e=="function"&&sh.has(e);/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const lh=typeof window<"u"&&window.customElements!=null&&window.customElements.polyfillWrapFlushCallback!==void 0,xc=(e,t,n=null,r=null)=>{for(;t!==n;){const i=t.nextSibling;e.insertBefore(t,r),t=i}},wc=(e,t,n=null)=>{for(;t!==n;){const r=t.nextSibling;e.removeChild(t),t=r}};/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const _n={},ch={};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const _r=`{{lit-${String(Math.random()).slice(2)}}}`,uh=`<!--${_r}-->`,dh=new RegExp(`${_r}|${uh}`),Bo="$lit$";class Bw{constructor(t,n){this.parts=[],this.element=n;const r=[],i=[],o=document.createTreeWalker(n.content,133,null,!1);let a=0,c=-1,d=0;const{strings:p,values:{length:m}}=t;for(;d<m;){const g=o.nextNode();if(g===null){o.currentNode=i.pop();continue}if(c++,g.nodeType===1){if(g.hasAttributes()){const y=g.attributes,{length:b}=y;let C=0;for(let w=0;w<b;w++)fh(y[w].name,Bo)&&C++;for(;C-- >0;){const w=p[d],E=Cc.exec(w)[2],T=E.toLowerCase()+Bo,I=g.getAttribute(T);g.removeAttribute(T);const _=I.split(dh);this.parts.push({type:"attribute",index:c,name:E,strings:_}),d+=_.length-1}}g.tagName==="TEMPLATE"&&(i.push(g),o.currentNode=g.content)}else if(g.nodeType===3){const y=g.data;if(y.indexOf(_r)>=0){const b=g.parentNode,C=y.split(dh),w=C.length-1;for(let E=0;E<w;E++){let T,I=C[E];if(I==="")T=Vn();else{const _=Cc.exec(I);_!==null&&fh(_[2],Bo)&&(I=I.slice(0,_.index)+_[1]+_[2].slice(0,-Bo.length)+_[3]),T=document.createTextNode(I)}b.insertBefore(T,g),this.parts.push({type:"node",index:++c})}C[w]===""?(b.insertBefore(Vn(),g),r.push(g)):g.data=C[w],d+=w}}else if(g.nodeType===8)if(g.data===_r){const y=g.parentNode;(g.previousSibling===null||c===a)&&(c++,y.insertBefore(Vn(),g)),a=c,this.parts.push({type:"node",index:c}),g.nextSibling===null?g.data="":(r.push(g),c--),d++}else{let y=-1;for(;(y=g.data.indexOf(_r,y+1))!==-1;)this.parts.push({type:"node",index:-1}),d++}}for(const g of r)g.parentNode.removeChild(g)}}const fh=(e,t)=>{const n=e.length-t.length;return n>=0&&e.slice(n)===t},Uw=e=>e.index!==-1,Vn=()=>document.createComment(""),Cc=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class kc{constructor(t,n,r){this.__parts=[],this.template=t,this.processor=n,this.options=r}update(t){let n=0;for(const r of this.__parts)r!==void 0&&r.setValue(t[n]),n++;for(const r of this.__parts)r!==void 0&&r.commit()}_clone(){const t=lh?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],r=this.template.parts,i=document.createTreeWalker(t,133,null,!1);let o=0,a=0,c,d=i.nextNode();for(;o<r.length;){if(c=r[o],!Uw(c)){this.__parts.push(void 0),o++;continue}for(;a<c.index;)a++,d.nodeName==="TEMPLATE"&&(n.push(d),i.currentNode=d.content),(d=i.nextNode())===null&&(i.currentNode=n.pop(),d=i.nextNode());if(c.type==="node"){const p=this.processor.handleTextExpression(this.options);p.insertAfterNode(d.previousSibling),this.__parts.push(p)}else this.__parts.push(...this.processor.handleAttributeExpressions(d,c.name,c.strings,this.options));o++}return lh&&(document.adoptNode(t),customElements.upgrade(t)),t}}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const hh=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:e=>e}),zw=` ${_r} `;class Uo{constructor(t,n,r,i){this.strings=t,this.values=n,this.type=r,this.processor=i}getHTML(){const t=this.strings.length-1;let n="",r=!1;for(let i=0;i<t;i++){const o=this.strings[i],a=o.lastIndexOf("<!--");r=(a>-1||r)&&o.indexOf("-->",a+1)===-1;const c=Cc.exec(o);c===null?n+=o+(r?zw:uh):n+=o.substr(0,c.index)+c[1]+c[2]+Bo+c[3]+_r}return n+=this.strings[t],n}getTemplateElement(){const t=document.createElement("template");let n=this.getHTML();return hh!==void 0&&(n=hh.createHTML(n)),t.innerHTML=n,t}}class jw extends Uo{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const t=super.getTemplateElement(),n=t.content,r=n.firstChild;return n.removeChild(r),xc(n,r.firstChild),t}}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const ts=e=>e===null||!(typeof e=="object"||typeof e=="function"),$c=e=>Array.isArray(e)||!!(e&&e[Symbol.iterator]);class ph{constructor(t,n,r){this.dirty=!0,this.element=t,this.name=n,this.strings=r,this.parts=[];for(let i=0;i<r.length-1;i++)this.parts[i]=this._createPart()}_createPart(){return new ns(this)}_getValue(){const t=this.strings,n=t.length-1,r=this.parts;if(n===1&&t[0]===""&&t[1]===""){const o=r[0].value;if(typeof o=="symbol")return String(o);if(typeof o=="string"||!$c(o))return o}let i="";for(let o=0;o<n;o++){i+=t[o];const a=r[o];if(a!==void 0){const c=a.value;if(ts(c)||!$c(c))i+=typeof c=="string"?c:String(c);else for(const d of c)i+=typeof d=="string"?d:String(d)}}return i+=t[n],i}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class ns{constructor(t){this.value=void 0,this.committer=t}setValue(t){t!==_n&&(!ts(t)||t!==this.value)&&(this.value=t,Po(t)||(this.committer.dirty=!0))}commit(){for(;Po(this.value);){const t=this.value;this.value=_n,t(this)}this.value!==_n&&this.committer.commit()}}class Ar{constructor(t){this.value=void 0,this.__pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(Vn()),this.endNode=t.appendChild(Vn())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t.__insert(this.startNode=Vn()),t.__insert(this.endNode=Vn())}insertAfterPart(t){t.__insert(this.startNode=Vn()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this.__pendingValue=t}commit(){if(this.startNode.parentNode===null)return;for(;Po(this.__pendingValue);){const n=this.__pendingValue;this.__pendingValue=_n,n(this)}const t=this.__pendingValue;t!==_n&&(ts(t)?t!==this.value&&this.__commitText(t):t instanceof Uo?this.__commitTemplateResult(t):t instanceof Node?this.__commitNode(t):$c(t)?this.__commitIterable(t):t===ch?(this.value=ch,this.clear()):this.__commitText(t))}__insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}__commitNode(t){this.value!==t&&(this.clear(),this.__insert(t),this.value=t)}__commitText(t){const n=this.startNode.nextSibling;t=t??"";const r=typeof t=="string"?t:String(t);n===this.endNode.previousSibling&&n.nodeType===3?n.data=r:this.__commitNode(document.createTextNode(r)),this.value=t}__commitTemplateResult(t){const n=this.options.templateFactory(t);if(this.value instanceof kc&&this.value.template===n)this.value.update(t.values);else{const r=new kc(n,t.processor,this.options),i=r._clone();r.update(t.values),this.__commitNode(i),this.value=r}}__commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const n=this.value;let r=0,i;for(const o of t)i=n[r],i===void 0&&(i=new Ar(this.options),n.push(i),r===0?i.appendIntoPart(this):i.insertAfterPart(n[r-1])),i.setValue(o),i.commit(),r++;r<n.length&&(n.length=r,this.clear(i&&i.endNode))}clear(t=this.startNode){wc(this.startNode.parentNode,t.nextSibling,this.endNode)}}class Fw{constructor(t,n,r){if(this.value=void 0,this.__pendingValue=void 0,r.length!==2||r[0]!==""||r[1]!=="")throw new Error("Boolean attributes can only contain a single expression");this.element=t,this.name=n,this.strings=r}setValue(t){this.__pendingValue=t}commit(){for(;Po(this.__pendingValue);){const n=this.__pendingValue;this.__pendingValue=_n,n(this)}if(this.__pendingValue===_n)return;const t=!!this.__pendingValue;this.value!==t&&(t?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=t),this.__pendingValue=_n}}class Hw extends ph{constructor(t,n,r){super(t,n,r),this.single=r.length===2&&r[0]===""&&r[1]===""}_createPart(){return new Tc(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class Tc extends ns{}let mh=!1;(()=>{try{const e={get capture(){return mh=!0,!1}};window.addEventListener("test",e,e),window.removeEventListener("test",e,e)}catch{}})();class Gw{constructor(t,n,r){this.value=void 0,this.__pendingValue=void 0,this.element=t,this.eventName=n,this.eventContext=r,this.__boundHandleEvent=i=>this.handleEvent(i)}setValue(t){this.__pendingValue=t}commit(){for(;Po(this.__pendingValue);){const o=this.__pendingValue;this.__pendingValue=_n,o(this)}if(this.__pendingValue===_n)return;const t=this.__pendingValue,n=this.value,r=t==null||n!=null&&(t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive),i=t!=null&&(n==null||r);r&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),i&&(this.__options=Vw(t),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=t,this.__pendingValue=_n}handleEvent(t){typeof this.value=="function"?this.value.call(this.eventContext||this.element,t):this.value.handleEvent(t)}}const Vw=e=>e&&(mh?{capture:e.capture,passive:e.passive,once:e.once}:e.capture);/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class Yw{handleAttributeExpressions(t,n,r,i){const o=n[0];return o==="."?new Hw(t,n.slice(1),r).parts:o==="@"?[new Gw(t,n.slice(1),i.eventContext)]:o==="?"?[new Fw(t,n.slice(1),r)]:new ph(t,n,r).parts}handleTextExpression(t){return new Ar(t)}}const gh=new Yw;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function Xw(e){let t=vh.get(e.type);t===void 0&&(t={stringsArray:new WeakMap,keyString:new Map},vh.set(e.type,t));let n=t.stringsArray.get(e.strings);if(n!==void 0)return n;const r=e.strings.join(_r);return n=t.keyString.get(r),n===void 0&&(n=new Bw(e,e.getTemplateElement()),t.keyString.set(r,n)),t.stringsArray.set(e.strings,n),n}const vh=new Map;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const yh=new WeakMap,Kw=(e,t,n)=>{let r=yh.get(t);r===void 0&&(wc(t,t.firstChild),yh.set(t,r=new Ar(Object.assign({templateFactory:Xw},n))),r.appendInto(t)),r.setValue(e),r.commit()};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */typeof window<"u"&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");const V=(e,...t)=>new Uo(e,t,"html",gh),pt=(e,...t)=>new jw(e,t,"svg",gh);var Ww=typeof global=="object"&&global&&global.Object===Object&&global;const Zw=Ww;var Qw=typeof self=="object"&&self&&self.Object===Object&&self,qw=Zw||Qw||Function("return this")();const bh=qw;var Jw=bh.Symbol;const ji=Jw;var xh=Object.prototype,eC=xh.hasOwnProperty,tC=xh.toString,zo=ji?ji.toStringTag:void 0;function nC(e){var t=eC.call(e,zo),n=e[zo];try{e[zo]=void 0;var r=!0}catch{}var i=tC.call(e);return r&&(t?e[zo]=n:delete e[zo]),i}var rC=Object.prototype,iC=rC.toString;function oC(e){return iC.call(e)}var aC="[object Null]",sC="[object Undefined]",wh=ji?ji.toStringTag:void 0;function lC(e){return e==null?e===void 0?sC:aC:wh&&wh in Object(e)?nC(e):oC(e)}function cC(e){return e!=null&&typeof e=="object"}var uC="[object Symbol]";function Ch(e){return typeof e=="symbol"||cC(e)&&lC(e)==uC}function dC(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var fC=Array.isArray;const hC=fC;var pC=1/0,kh=ji?ji.prototype:void 0,$h=kh?kh.toString:void 0;function Th(e){if(typeof e=="string")return e;if(hC(e))return dC(e,Th)+"";if(Ch(e))return $h?$h.call(e):"";var t=e+"";return t=="0"&&1/e==-pC?"-0":t}var mC=/\s/;function gC(e){for(var t=e.length;t--&&mC.test(e.charAt(t)););return t}var vC=/^\s+/;function yC(e){return e&&e.slice(0,gC(e)+1).replace(vC,"")}function Eh(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ih=NaN,bC=/^[-+]0x[0-9a-f]+$/i,xC=/^0b[01]+$/i,wC=/^0o[0-7]+$/i,CC=parseInt;function Sh(e){if(typeof e=="number")return e;if(Ch(e))return Ih;if(Eh(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Eh(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=yC(e);var n=xC.test(e);return n||wC.test(e)?CC(e.slice(2),n?2:8):bC.test(e)?Ih:+e}var _h=1/0,kC=17976931348623157e292;function $C(e){if(!e)return e===0?e:0;if(e=Sh(e),e===_h||e===-_h){var t=e<0?-1:1;return t*kC}return e===e?e:0}function TC(e){var t=$C(e),n=t%1;return t===t?n?t-n:t:0}function Fi(e){return e==null?"":Th(e)}function EC(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function IC(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:EC(e,t,n)}var SC="\\ud800-\\udfff",_C="\\u0300-\\u036f",AC="\\ufe20-\\ufe2f",NC="\\u20d0-\\u20ff",OC=_C+AC+NC,MC="\\ufe0e\\ufe0f",DC="\\u200d",RC=RegExp("["+DC+SC+OC+MC+"]");function Ah(e){return RC.test(e)}function LC(e){return e.split("")}var Nh="\\ud800-\\udfff",PC="\\u0300-\\u036f",BC="\\ufe20-\\ufe2f",UC="\\u20d0-\\u20ff",zC=PC+BC+UC,jC="\\ufe0e\\ufe0f",FC="["+Nh+"]",Ec="["+zC+"]",Ic="\\ud83c[\\udffb-\\udfff]",HC="(?:"+Ec+"|"+Ic+")",Oh="[^"+Nh+"]",Mh="(?:\\ud83c[\\udde6-\\uddff]){2}",Dh="[\\ud800-\\udbff][\\udc00-\\udfff]",GC="\\u200d",Rh=HC+"?",Lh="["+jC+"]?",VC="(?:"+GC+"(?:"+[Oh,Mh,Dh].join("|")+")"+Lh+Rh+")*",YC=Lh+Rh+VC,XC="(?:"+[Oh+Ec+"?",Ec,Mh,Dh,FC].join("|")+")",KC=RegExp(Ic+"(?="+Ic+")|"+XC+YC,"g");function WC(e){return e.match(KC)||[]}function ZC(e){return Ah(e)?WC(e):LC(e)}function QC(e){return function(t){t=Fi(t);var n=Ah(t)?ZC(t):void 0,r=n?n[0]:t.charAt(0),i=n?IC(n,1).join(""):t.slice(1);return r[e]()+i}}var qC=QC("toUpperCase");const Ph=qC;function JC(e){return Ph(Fi(e).toLowerCase())}function ek(e,t,n,r){var i=-1,o=e==null?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function tk(e){return function(t){return e==null?void 0:e[t]}}var nk={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},rk=tk(nk);const ik=rk;var ok=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ak="\\u0300-\\u036f",sk="\\ufe20-\\ufe2f",lk="\\u20d0-\\u20ff",ck=ak+sk+lk,uk="["+ck+"]",dk=RegExp(uk,"g");function fk(e){return e=Fi(e),e&&e.replace(ok,ik).replace(dk,"")}var hk=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function pk(e){return e.match(hk)||[]}var mk=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function gk(e){return mk.test(e)}var Bh="\\ud800-\\udfff",vk="\\u0300-\\u036f",yk="\\ufe20-\\ufe2f",bk="\\u20d0-\\u20ff",xk=vk+yk+bk,Uh="\\u2700-\\u27bf",zh="a-z\\xdf-\\xf6\\xf8-\\xff",wk="\\xac\\xb1\\xd7\\xf7",Ck="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",kk="\\u2000-\\u206f",$k=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",jh="A-Z\\xc0-\\xd6\\xd8-\\xde",Tk="\\ufe0e\\ufe0f",Fh=wk+Ck+kk+$k,Hh="['’]",Gh="["+Fh+"]",Ek="["+xk+"]",Vh="\\d+",Ik="["+Uh+"]",Yh="["+zh+"]",Xh="[^"+Bh+Fh+Vh+Uh+zh+jh+"]",Sk="\\ud83c[\\udffb-\\udfff]",_k="(?:"+Ek+"|"+Sk+")",Ak="[^"+Bh+"]",Kh="(?:\\ud83c[\\udde6-\\uddff]){2}",Wh="[\\ud800-\\udbff][\\udc00-\\udfff]",Hi="["+jh+"]",Nk="\\u200d",Zh="(?:"+Yh+"|"+Xh+")",Ok="(?:"+Hi+"|"+Xh+")",Qh="(?:"+Hh+"(?:d|ll|m|re|s|t|ve))?",qh="(?:"+Hh+"(?:D|LL|M|RE|S|T|VE))?",Jh=_k+"?",ep="["+Tk+"]?",Mk="(?:"+Nk+"(?:"+[Ak,Kh,Wh].join("|")+")"+ep+Jh+")*",Dk="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Rk="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Lk=ep+Jh+Mk,Pk="(?:"+[Ik,Kh,Wh].join("|")+")"+Lk,Bk=RegExp([Hi+"?"+Yh+"+"+Qh+"(?="+[Gh,Hi,"$"].join("|")+")",Ok+"+"+qh+"(?="+[Gh,Hi+Zh,"$"].join("|")+")",Hi+"?"+Zh+"+"+Qh,Hi+"+"+qh,Rk,Dk,Vh,Pk].join("|"),"g");function Uk(e){return e.match(Bk)||[]}function zk(e,t,n){return e=Fi(e),t=n?void 0:t,t===void 0?gk(e)?Uk(e):pk(e):e.match(t)||[]}var jk="['’]",Fk=RegExp(jk,"g");function Sc(e){return function(t){return ek(zk(fk(t).replace(Fk,"")),e,"")}}var Hk=Sc(function(e,t,n){return t=t.toLowerCase(),e+(n?JC(t):t)});const li=Hk;var Gk=bh.isFinite,Vk=Math.min;function Yk(e){var t=Math[e];return function(n,r){if(n=Sh(n),r=r==null?0:Vk(TC(r),292),r&&Gk(n)){var i=(Fi(n)+"e").split("e"),o=t(i[0]+"e"+(+i[1]+r));return i=(Fi(o)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return t(n)}}var Xk=Sc(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});const _c=Xk;var Kk=Yk("round");const jo=Kk;var Wk=Sc(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});const Zk=Wk;var Qk=Object.defineProperty,qk=(e,t,n)=>t in e?Qk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cn=(e,t,n)=>(qk(e,typeof t!="symbol"?t+"":t,n),n);const rs=e=>!!e&&typeof e=="object",Jk=e=>Array.isArray(e),e$=e=>e===void 0,Nr=(e,t,n=t&&t.closest(e))=>!t||t===document||t===window?null:n||Nr(e,t.getRootNode().host),t$=(e,t)=>e.length?e.reduce((n,r)=>{var i;return(n==null?void 0:n.querySelector(r))||((i=n==null?void 0:n.shadowRoot)==null?void 0:i.querySelector(r))},t):null;function n$(e,t){return Nr(e,t).value}const is=new WeakMap,os=new WeakMap,tp=new WeakMap,as=new WeakMap,Fo=new WeakMap,ss=[],ls=[];let lr=null,Ac=!1,Nc=!1;function Oc(e){return lr=e,e(),lr=null,()=>np(e)}function np(e){const t=Fo.get(e);t==null||t.forEach(({raw:n})=>{const r=os.get(n);r&&r.includes(e)&&r.splice(r.indexOf(e),1)}),t&&Fo.delete(e)}function r$(e){if(!lr)return;const t=os.get(e);t?t.includes(lr)||t.push(lr):os.set(e,[lr])}function i$(e,t){if(!lr)return;const n=Fo.get(lr);if(n){const r=n.find(i=>i.raw===e);r?r.keys.includes(t)||r.keys.push(t):n.push({raw:e,keys:[t]})}else Fo.set(lr,[{raw:e,keys:[t]}])}function o$(e,t,n){const r=Fo.get(n);return r?r.some(i=>i.raw===e&&i.keys.includes(t)):!1}const a$=(e,t)=>{var n;return(n=os.get(e))==null?void 0:n.forEach(r=>{o$(e,t,r)&&(ss.includes(r)||ss.push(r),Ac||(queueMicrotask(s$),Ac=!0))})};function s$(){for(;ss.length;){const e=ss.shift();np(e),Oc(e)}Ac=!1}function Ce(e){const t=new Proxy(e,{get(n,r,i){const o=Reflect.get(n,r,i);return o instanceof RegExp?o:(r$(e),i$(e,r),rs(o)&&!tp.has(o)?is.has(o)?is.get(o):Ce(o):o)},set(n,r,i,o){const a=Reflect.get(n,r,o),c=Reflect.set(n,r,i,o);return(!Jk(n)&&a!==i||r==="length")&&(a$(n,r),l$(n,r)),c}});return is.set(e,t),tp.set(t,e),t}function l$(e,t){const n=is.get(e);if(!n||!as.get(n))return;const r=ls.find(i=>i.proxy===n);r?r.keys.includes(t)||r.keys.push(t):ls.push({proxy:n,keys:[t]}),Nc||(queueMicrotask(c$),Nc=!0)}function c$(){for(;ls.length;){const e=ls.shift(),t=as.get(e.proxy);e.keys.forEach(n=>t==null?void 0:t.next(n))}Nc=!1}function u$(){const e=[];return{next:t=>e.forEach(n=>n(t)),subscribe:t=>(e.push(t),()=>{e.includes(t)&&e.splice(e.indexOf(t),1)})}}function ue(e,t){let n=as.get(e);return n||(n=u$(),as.set(e,n)),n.subscribe(t)}const d$=window.ShadowRoot&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,rp=e=>d$&&!!e.shadow&&!!e.style,f$=e=>!rp(e)&&!!e.style,Mc=Symbol("beforeMount"),Dc=Symbol("mounted"),Rc=Symbol("unmounted"),Lc=Symbol("beforeFirstUpdate"),Pc=Symbol("firstUpdated"),Bc=Symbol("beforeUpdate"),Uc=Symbol("updated"),Gi=Symbol("query"),h$=Symbol("queryAll"),cs=Symbol("unsubscribe"),Ho=Symbol("renderRoot"),zc=Symbol("template"),jc=Symbol("style"),ci=Symbol("props");let cr=null;const ui=e=>t=>{cr&&(cr[e]??(cr[e]=[])).push(t)},ip=e=>t=>{const n={value:null};if(cr){const r=cr[Ho],i=()=>n.value=e===Gi?r.querySelector(t):[...r.querySelectorAll(t)];(cr[Gi]??(cr[Gi]=[])).push(i)}return n},Pe=ui(Mc),Vi=ui(Dc),ur=ui(Rc),Fc=ui(Lc),p$=ui(Pc),us=ui(Bc),Go=ui(Uc),Rt=ip(Gi),ds=ip(h$);function fe(e,t){var n,r,i,o,a,c,d,p,m,g,y,b,C,w;t.shadow??(t.shadow="open");const E=t.observedProps??[],T=E.map(O=>rs(O)?O.name:O),I=E.filter(O=>rs(O)),_=rp(t)?new CSSStyleSheet:null;_&&_.replaceSync(t.style||"");const k=(w=class extends HTMLElement{constructor(){if(super(),cn(this,n,null),cn(this,r,null),cn(this,i,null),cn(this,o,null),cn(this,a,null),cn(this,c,null),cn(this,d,null),cn(this,p,null),cn(this,m,[]),cn(this,g,this),cn(this,y),cn(this,b,null),cn(this,C,Ce({})),I.forEach(O=>e$(O.default)||Reflect.set(this[ci],li(O.name),O.default)),t.shadow&&(this[Ho]=this.attachShadow({mode:t.shadow})),f$(t)){const O=document.createElement("style");O.textContent=t.style||"",this[jc]=O}_&&(this[Ho].adoptedStyleSheets=[_]),cr=this,this[zc]=t.render.call(this,this[ci],this),cr=null}static get observedAttributes(){return Array.from(new Set([...T,...T.map(O=>_c(O))]))}connectedCallback(){var O,M;t.styleMap&&Object.assign(this.style,t.styleMap),(O=this[Mc])==null||O.forEach(P=>P());let D=!1;this[cs].push(Oc(()=>{var P,Y,H,X,j;D?(P=this[Bc])==null||P.forEach(F=>F()):(Y=this[Lc])==null||Y.forEach(F=>F()),Kw(V`${this[jc]}${this[zc]()}`,this[Ho]),(H=this[Gi])==null||H.forEach(F=>F()),D?(X=this[Uc])==null||X.forEach(F=>F()):((j=this[Pc])==null||j.forEach(F=>F()),D=!0)})),(M=this[Dc])==null||M.forEach(P=>P())}disconnectedCallback(){var O;this[cs].forEach(M=>M()),this[cs]=[],(O=this[Rc])==null||O.forEach(M=>M())}attributeChangedCallback(O,M,D){const P=E.find(Y=>rs(Y)&&li(Y.name)===li(O));P&&P.type?Reflect.set(this[ci],li(O),P.type===Boolean?D==="true"||D==="":P.type(D)):Reflect.set(this[ci],li(O),D)}},n=Mc,r=Dc,i=Rc,o=Lc,a=Pc,c=Bc,d=Uc,p=Gi,m=cs,g=Ho,y=zc,b=jc,C=ci,w);T.forEach(O=>{Object.defineProperty(k.prototype,O,{get(){return Reflect.get(this[ci],O)},set(M){Reflect.set(this[ci],O,M)}})}),customElements.define(e,k)}const m$=16,g$=9,fs=1200,op=fs/m$*g$,Qt=13,be=60,v$=1.5,Hc=15,Gc=22,Vc=34,ap=9,sp=12,qt=5,Vo=19,Yc=Vo+v$,Yi=1,Or=10,y$=47,b$=30,hs=200,ps=100,ms=50,gs=127,vs=100,Yo=10,Xi=5,lp=40,Mr=150,Ki=20,Wi=30,Xc=2e3,Kc=2e4,x$=1,cp=.1,w$=120;function Je(e){return e!=null&&typeof e=="object"&&e["@@functional/placeholder"]===!0}function jt(e){return function t(n){return arguments.length===0||Je(n)?t:e.apply(this,arguments)}}function Ft(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return Je(n)?t:jt(function(i){return e(n,i)});default:return Je(n)&&Je(r)?t:Je(n)?jt(function(i){return e(i,r)}):Je(r)?jt(function(i){return e(n,i)}):e(n,r)}}}function C$(e,t){e=e||[],t=t||[];var n,r=e.length,i=t.length,o=[];for(n=0;n<r;)o[o.length]=e[n],n+=1;for(n=0;n<i;)o[o.length]=t[n],n+=1;return o}function ys(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(n){return t.apply(this,arguments)};case 2:return function(n,r){return t.apply(this,arguments)};case 3:return function(n,r,i){return t.apply(this,arguments)};case 4:return function(n,r,i,o){return t.apply(this,arguments)};case 5:return function(n,r,i,o,a){return t.apply(this,arguments)};case 6:return function(n,r,i,o,a,c){return t.apply(this,arguments)};case 7:return function(n,r,i,o,a,c,d){return t.apply(this,arguments)};case 8:return function(n,r,i,o,a,c,d,p){return t.apply(this,arguments)};case 9:return function(n,r,i,o,a,c,d,p,m){return t.apply(this,arguments)};case 10:return function(n,r,i,o,a,c,d,p,m,g){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function up(e,t,n){return function(){for(var r=[],i=0,o=e,a=0;a<t.length||i<arguments.length;){var c;a<t.length&&(!Je(t[a])||i>=arguments.length)?c=t[a]:(c=arguments[i],i+=1),r[a]=c,Je(c)||(o-=1),a+=1}return o<=0?n.apply(this,r):ys(o,up(e,r,n))}}var k$=Ft(function(t,n){return t===1?jt(n):ys(t,up(t,[],n))});const $$=k$;function di(e){return function t(n,r,i){switch(arguments.length){case 0:return t;case 1:return Je(n)?t:Ft(function(o,a){return e(n,o,a)});case 2:return Je(n)&&Je(r)?t:Je(n)?Ft(function(o,a){return e(o,r,a)}):Je(r)?Ft(function(o,a){return e(n,o,a)}):jt(function(o){return e(n,r,o)});default:return Je(n)&&Je(r)&&Je(i)?t:Je(n)&&Je(r)?Ft(function(o,a){return e(o,a,i)}):Je(n)&&Je(i)?Ft(function(o,a){return e(o,r,a)}):Je(r)&&Je(i)?Ft(function(o,a){return e(n,o,a)}):Je(n)?jt(function(o){return e(o,r,i)}):Je(r)?jt(function(o){return e(n,o,i)}):Je(i)?jt(function(o){return e(n,r,o)}):e(n,r,i)}}}var T$=di(function(t,n,r){if(t>=r.length||t<-r.length)return r;var i=t<0?r.length:0,o=i+t,a=C$(r);return a[o]=n(r[o]),a});const E$=T$,Xo=Array.isArray||function(t){return t!=null&&t.length>=0&&Object.prototype.toString.call(t)==="[object Array]"};function I$(e){return e!=null&&typeof e["@@transducer/step"]=="function"}function S$(e,t,n){return function(){if(arguments.length===0)return n();var r=Array.prototype.slice.call(arguments,0),i=r.pop();if(!Xo(i)){for(var o=0;o<e.length;){if(typeof i[e[o]]=="function")return i[e[o]].apply(i,r);o+=1}if(I$(i)){var a=t.apply(null,r);return a(i)}}return n.apply(this,arguments)}}function _$(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}const A$={init:function(){return this.xf["@@transducer/init"]()},result:function(e){return this.xf["@@transducer/result"](e)}};function N$(e){return Object.prototype.toString.call(e)==="[object String]"}var O$=jt(function(t){return Xo(t)?!0:!t||typeof t!="object"||N$(t)?!1:t.nodeType===1?!!t.length:t.length===0?!0:t.length>0?t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1):!1});const M$=O$;var D$=function(){function e(t){this.f=t}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(t){return t},e.prototype["@@transducer/step"]=function(t,n){return this.f(t,n)},e}();function R$(e){return new D$(e)}var L$=Ft(function(t,n){return ys(t.length,function(){return t.apply(n,arguments)})});const P$=L$;function B$(e,t,n){for(var r=0,i=n.length;r<i;){if(t=e["@@transducer/step"](t,n[r]),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r+=1}return e["@@transducer/result"](t)}function dp(e,t,n){for(var r=n.next();!r.done;){if(t=e["@@transducer/step"](t,r.value),t&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}r=n.next()}return e["@@transducer/result"](t)}function fp(e,t,n,r){return e["@@transducer/result"](n[r](P$(e["@@transducer/step"],e),t))}var hp=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function U$(e,t,n){if(typeof e=="function"&&(e=R$(e)),M$(n))return B$(e,t,n);if(typeof n["fantasy-land/reduce"]=="function")return fp(e,t,n,"fantasy-land/reduce");if(n[hp]!=null)return dp(e,t,n[hp]());if(typeof n.next=="function")return dp(e,t,n);if(typeof n.reduce=="function")return fp(e,t,n,"reduce");throw new TypeError("reduce: list must be array or iterable")}function bs(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var pp=Object.prototype.toString,z$=function(){return pp.call(arguments)==="[object Arguments]"?function(t){return pp.call(t)==="[object Arguments]"}:function(t){return bs("callee",t)}}();const j$=z$;var F$=!{toString:null}.propertyIsEnumerable("toString"),mp=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],gp=function(){return arguments.propertyIsEnumerable("length")}(),H$=function(t,n){for(var r=0;r<t.length;){if(t[r]===n)return!0;r+=1}return!1},G$=jt(typeof Object.keys=="function"&&!gp?function(t){return Object(t)!==t?[]:Object.keys(t)}:function(t){if(Object(t)!==t)return[];var n,r,i=[],o=gp&&j$(t);for(n in t)bs(n,t)&&(!o||n!=="length")&&(i[i.length]=n);if(F$)for(r=mp.length-1;r>=0;)n=mp[r],bs(n,t)&&!H$(i,n)&&(i[i.length]=n),r-=1;return i});const vp=G$,yp=Number.isInteger||function(t){return t<<0===t};var V$=di(U$);const Y$=V$;var X$=jt(function(t){return function(){return t}});const K$=X$;var W$=di(function(t,n,r){var i={};for(var o in r)i[o]=r[o];return i[t]=n,i});const Z$=W$;var Q$=jt(function(t){return $$(t.length,t)});const xs=Q$;var q$=jt(function(t){return t===null?"Null":t===void 0?"Undefined":Object.prototype.toString.call(t).slice(8,-1)});const bp=q$;function J$(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function xp(e,t){return function(){var n=arguments.length;if(n===0)return t();var r=arguments[n-1];return Xo(r)||typeof r[e]!="function"?t.apply(this,arguments):r[e].apply(r,Array.prototype.slice.call(arguments,0,n-1))}}var eT=di(xp("slice",function(t,n,r){return Array.prototype.slice.call(r,t,n)})),tT=jt(xp("tail",eT(1,1/0)));const nT=tT;function Wc(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return ys(arguments[0].length,Y$(J$,arguments[0],nT(arguments)))}function rT(e){return e}var iT=jt(rT);const oT=iT;function wp(e){for(var t=[],n;!(n=e.next()).done;)t.push(n.value);return t}function Cp(e,t,n){for(var r=0,i=n.length;r<i;){if(e(t,n[r]))return!0;r+=1}return!1}function aT(e){var t=String(e).match(/^function (\w*)/);return t==null?"":t[1]}function sT(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}const Zc=typeof Object.is=="function"?Object.is:sT;function kp(e,t,n,r){var i=wp(e),o=wp(t);function a(c,d){return Qc(c,d,n.slice(),r.slice())}return!Cp(function(c,d){return!Cp(a,d,c)},o,i)}function Qc(e,t,n,r){if(Zc(e,t))return!0;var i=bp(e);if(i!==bp(t)||e==null||t==null)return!1;if(typeof e["fantasy-land/equals"]=="function"||typeof t["fantasy-land/equals"]=="function")return typeof e["fantasy-land/equals"]=="function"&&e["fantasy-land/equals"](t)&&typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](e);if(typeof e.equals=="function"||typeof t.equals=="function")return typeof e.equals=="function"&&e.equals(t)&&typeof t.equals=="function"&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if(typeof e.constructor=="function"&&aT(e.constructor)==="Promise")return e===t;break;case"Boolean":case"Number":case"String":if(!(typeof e==typeof t&&Zc(e.valueOf(),t.valueOf())))return!1;break;case"Date":if(!Zc(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(!(e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.sticky===t.sticky&&e.unicode===t.unicode))return!1;break}for(var o=n.length-1;o>=0;){if(n[o]===e)return r[o]===t;o-=1}switch(i){case"Map":return e.size!==t.size?!1:kp(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size!==t.size?!1:kp(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=vp(e);if(a.length!==vp(t).length)return!1;var c=n.concat([e]),d=r.concat([t]);for(o=a.length-1;o>=0;){var p=a[o];if(!(bs(p,t)&&Qc(t[p],e[p],c,d)))return!1;o-=1}return!0}var lT=Ft(function(t,n){return Qc(t,n,[],[])});const $p=lT;function cT(e,t,n){var r,i;if(typeof e.indexOf=="function")switch(typeof t){case"number":if(t===0){for(r=1/t;n<e.length;){if(i=e[n],i===0&&1/i===r)return n;n+=1}return-1}else if(t!==t){for(;n<e.length;){if(i=e[n],typeof i=="number"&&i!==i)return n;n+=1}return-1}return e.indexOf(t,n);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,n);case"object":if(t===null)return e.indexOf(t,n)}for(;n<e.length;){if($p(e[n],t))return n;n+=1}return-1}function Tp(e,t){return cT(t,e,0)>=0}var uT=function(){function e(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return e.prototype.add=function(t){return!Ep(t,!0,this)},e.prototype.has=function(t){return Ep(t,!1,this)},e}();function Ep(e,t,n){var r=typeof e,i,o;switch(r){case"string":case"number":return e===0&&1/e===-1/0?n._items["-0"]?!0:(t&&(n._items["-0"]=!0),!1):n._nativeSet!==null?t?(i=n._nativeSet.size,n._nativeSet.add(e),o=n._nativeSet.size,o===i):n._nativeSet.has(e):r in n._items?e in n._items[r]?!0:(t&&(n._items[r][e]=!0),!1):(t&&(n._items[r]={},n._items[r][e]=!0),!1);case"boolean":if(r in n._items){var a=e?1:0;return n._items[r][a]?!0:(t&&(n._items[r][a]=!0),!1)}else return t&&(n._items[r]=e?[!1,!0]:[!0,!1]),!1;case"function":return n._nativeSet!==null?t?(i=n._nativeSet.size,n._nativeSet.add(e),o=n._nativeSet.size,o===i):n._nativeSet.has(e):r in n._items?Tp(e,n._items[r])?!0:(t&&n._items[r].push(e),!1):(t&&(n._items[r]=[e]),!1);case"undefined":return n._items[r]?!0:(t&&(n._items[r]=!0),!1);case"object":if(e===null)return n._items.null?!0:(t&&(n._items.null=!0),!1);default:return r=Object.prototype.toString.call(e),r in n._items?Tp(e,n._items[r])?!0:(t&&n._items[r].push(e),!1):(t&&(n._items[r]=[e]),!1)}}const dT=uT;var fT=Ft(function(t,n){var r={};for(var i in n)r[i]=n[i];return delete r[t],r});const hT=fT;var pT=di(function(t,n,r){var i=Array.prototype.slice.call(r,0);return i.splice(t,n),i});const mT=pT;var gT=di(function(t,n,r){return E$(t,K$(n),r)});const vT=gT;var yT=Ft(function e(t,n){switch(t.length){case 0:return n;case 1:return yp(t[0])&&Xo(n)?mT(t[0],1,n):hT(t[0],n);default:var r=t[0],i=Array.prototype.slice.call(t,1);return n[r]==null?n:yp(r)&&Xo(n)?vT(r,e(i,n[r]),n):Z$(r,e(i,n[r]),n)}});const dr=yT;var bT=function(){function e(t,n){this.xf=n,this.f=t,this.idx=-1,this.found=!1}return e.prototype["@@transducer/init"]=A$.init,e.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,-1)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,n){return this.idx+=1,this.f(n)&&(this.found=!0,t=_$(this.xf["@@transducer/step"](t,this.idx))),t},e}(),xT=Ft(function(t,n){return new bT(t,n)}),wT=Ft(S$([],xT,function(t,n){for(var r=0,i=n.length;r<i;){if(t(n[r]))return r;r+=1}return-1}));const ws=wT;var CT=Ft(function(t,n){for(var r=new dT,i=[],o=0,a,c;o<n.length;)c=n[o],a=t(c),r.add(a)&&i.push(c),o+=1;return i}),kT=CT(oT);const Cs=kT;function Ip(e){return Object.prototype.toString.call(e)==="[object Number]"}var $T=Ft(function(t,n){for(var r={},i={},o=0,a=t.length;o<a;)i[t[o]]=1,o+=1;for(var c in n)i.hasOwnProperty(c)||(r[c]=n[c]);return r});const TT=$T;var ET=di(function(t,n,r){return $p(n,r[t])});const ks=ET;var IT=Ft(function(t,n){if(!(Ip(t)&&Ip(n)))throw new TypeError("Both arguments to range must be numbers");for(var r=[],i=t;i<n;)r.push(i),i+=1;return r});const Sp=IT;let $s;const ST=new Uint8Array(16);function _T(){if(!$s&&($s=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$s))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $s(ST)}const Lt=[];for(let e=0;e<256;++e)Lt.push((e+256).toString(16).slice(1));function AT(e,t=0){return Lt[e[t+0]]+Lt[e[t+1]]+Lt[e[t+2]]+Lt[e[t+3]]+"-"+Lt[e[t+4]]+Lt[e[t+5]]+"-"+Lt[e[t+6]]+Lt[e[t+7]]+"-"+Lt[e[t+8]]+Lt[e[t+9]]+"-"+Lt[e[t+10]]+Lt[e[t+11]]+Lt[e[t+12]]+Lt[e[t+13]]+Lt[e[t+14]]+Lt[e[t+15]]}const _p={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Be(e,t,n){if(_p.randomUUID&&!t&&!e)return _p.randomUUID();e=e||{};const r=e.random||(e.rng||_T)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return AT(r)}const NT=Wc(li,Ph);function Ap(){const e=[];return{push:(...r)=>e.push(...r),destroy:()=>{for(;e.length;){const r=e.shift();Np(r)?r():r.unsubscribe()}}}}const It=e=>JSON.parse(JSON.stringify(e)),Dr=e=>Array.isArray(e),Zi=xs((e,t)=>typeof t===e),fi=e=>!!e&&Zi("object",e),Np=Zi("function"),xt=Zi("string");Zi("undefined");const Jt=Zi("number"),Qi=Zi("boolean"),qi=xs((e,t)=>e.some(n=>n.test(t))),Ts=()=>{},B=(e,t)=>e.find(n=>n.id===t),Ae=(e,t)=>ws(ks("id",t))(e),Op=(e,t)=>e<t?Sp(e,t+1):Sp(t,e+1);function*Ko(e){for(const t of e)t&&t[Symbol.iterator]?yield*Ko(t):yield t}const fr=(e,t)=>n=>Math.min(Math.max(n,e),t);function en(e,t,n,r=1){let i=!0;for(const o of e)if(n===o.name&&o.id!==t&&n!==""){i=!1;break}return i?n:en(e,t,n.replace(/[0-9]/g,"")+r,r+1)}const OT=()=>({canvas:"#282828",table:"#191919",tableActive:"#14496d",focus:"#00a9ff",keyPK:"#B4B400",keyFK:"#dda8b1",keyPFK:"#60b9c4",font:"#a2a2a2",fontActive:"white",fontPlaceholder:"#6D6D6D",contextmenu:"#191919",contextmenuActive:"#383d41",edit:"#ffc107",columnSelect:"#232a2f",columnActive:"#372908",minimapShadow:"black",scrollbarThumb:"#6D6D6D",scrollbarThumbActive:"#a2a2a2",menubar:"black",visualization:"#191919",diffAdd:"#74c56a2a",diffModify:"#ebd4703d",diffRemove:"#dda8b12a"}),MT=(e,t)=>Object.keys(e).filter(n=>xt(t[n])).forEach(n=>e[n]=t[n]),DT=e=>Object.keys(e).map(t=>`--vuerd-color-${_c(t)}: var(--vuerd-theme-${_c(t)}, ${e[t]});`).join("");fe("vuerd-provider",{render:(e,t)=>()=>V`
    <style type="text/css">
      @import url('https://fonts.googleapis.com/css2?family=Noto+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap');
      :host {
        --vuerd-font-family: 'Noto Sans', sans-serif;
        font-size: ${Qt}px;
        font-family: var(--vuerd-font-family) !important;
        ${DT(t.value.theme)};
      }
    </style>
    <slot></slot>
  `});const RT=e=>n$("vuerd-provider",e);/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Mp=new WeakMap,ye=Lo(e=>t=>{if(!(t instanceof ns)||t instanceof Tc||t.committer.name!=="style"||t.committer.parts.length>1)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");const{committer:n}=t,{style:r}=n.element;let i=Mp.get(t);i===void 0&&(r.cssText=n.strings.join(" "),Mp.set(t,i=new Set)),i.forEach(o=>{o in e||(i.delete(o),o.indexOf("-")===-1?r[o]=null:r.removeProperty(o))});for(const o in e)i.add(o),o.indexOf("-")===-1?r[o]=e[o]:r.setProperty(o,e[o])});/*!
 * Font Awesome Free 5.15.4 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */var LT={prefix:"fas",iconName:"check",icon:[512,512,[],"f00c","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"]},PT={prefix:"fas",iconName:"chevron-right",icon:[320,512,[],"f054","M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"]},BT={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"]},UT={prefix:"fas",iconName:"cog",icon:[512,512,[],"f013","M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"]},zT={prefix:"fas",iconName:"columns",icon:[512,512,[],"f0db","M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64V160h160v256zm224 0H288V160h160v256z"]},jT={prefix:"fas",iconName:"eye",icon:[576,512,[],"f06e","M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"]},FT={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"]},HT={prefix:"fas",iconName:"file-code",icon:[384,512,[],"f1c9","M384 121.941V128H256V0h6.059c6.365 0 12.47 2.529 16.971 7.029l97.941 97.941A24.005 24.005 0 0 1 384 121.941zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zM123.206 400.505a5.4 5.4 0 0 1-7.633.246l-64.866-60.812a5.4 5.4 0 0 1 0-7.879l64.866-60.812a5.4 5.4 0 0 1 7.633.246l19.579 20.885a5.4 5.4 0 0 1-.372 7.747L101.65 336l40.763 35.874a5.4 5.4 0 0 1 .372 7.747l-19.579 20.884zm51.295 50.479l-27.453-7.97a5.402 5.402 0 0 1-3.681-6.692l61.44-211.626a5.402 5.402 0 0 1 6.692-3.681l27.452 7.97a5.4 5.4 0 0 1 3.68 6.692l-61.44 211.626a5.397 5.397 0 0 1-6.69 3.681zm160.792-111.045l-64.866 60.812a5.4 5.4 0 0 1-7.633-.246l-19.58-20.885a5.4 5.4 0 0 1 .372-7.747L284.35 336l-40.763-35.874a5.4 5.4 0 0 1-.372-7.747l19.58-20.885a5.4 5.4 0 0 1 7.633-.246l64.866 60.812a5.4 5.4 0 0 1-.001 7.879z"]},GT={prefix:"fas",iconName:"file-export",icon:[576,512,[],"f56e","M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"]},VT={prefix:"fas",iconName:"file-image",icon:[384,512,[],"f1c5","M384 121.941V128H256V0h6.059a24 24 0 0 1 16.97 7.029l97.941 97.941a24.002 24.002 0 0 1 7.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"]},YT={prefix:"fas",iconName:"file-import",icon:[512,512,[],"f56f","M16 288c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h112v-64zm489-183L407.1 7c-4.5-4.5-10.6-7-17-7H384v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H152c-13.3 0-24 10.7-24 24v264h128v-65.2c0-14.3 17.3-21.4 27.4-11.3L379 308c6.6 6.7 6.6 17.4 0 24l-95.7 96.4c-10.1 10.1-27.4 3-27.4-11.3V352H128v136c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H376c-13.2 0-24-10.8-24-24z"]},XT={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"]},KT={prefix:"fas",iconName:"key",icon:[512,512,[],"f084","M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"]},WT={prefix:"fas",iconName:"list",icon:[512,512,[],"f03a","M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"]},ZT={prefix:"fas",iconName:"mouse-pointer",icon:[320,512,[],"f245","M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"]},QT={prefix:"fas",iconName:"palette",icon:[512,512,[],"f53f","M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"]},qT={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},JT={prefix:"fas",iconName:"project-diagram",icon:[640,512,[],"f542","M384 320H256c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32zM192 32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v128c0 17.67 14.33 32 32 32h95.72l73.16 128.04C211.98 300.98 232.4 288 256 288h.28L192 175.51V128h224V64H192V32zM608 0H480c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h128c17.67 0 32-14.33 32-32V32c0-17.67-14.33-32-32-32z"]},eE={prefix:"fas",iconName:"question",icon:[384,512,[],"f128","M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"]},tE={prefix:"fas",iconName:"redo-alt",icon:[512,512,[],"f2f9","M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"]},nE={prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},rE={prefix:"fas",iconName:"sticky-note",icon:[448,512,[],"f249","M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"]},iE={prefix:"fas",iconName:"sync-alt",icon:[512,512,[],"f2f1","M370.72 133.28C339.458 104.008 298.888 87.962 255.848 88c-77.458.068-144.328 53.178-162.791 126.85-1.344 5.363-6.122 9.15-11.651 9.15H24.103c-7.498 0-13.194-6.807-11.807-14.176C33.933 94.924 134.813 8 256 8c66.448 0 126.791 26.136 171.315 68.685L463.03 40.97C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.749zM32 296h134.059c21.382 0 32.09 25.851 16.971 40.971l-41.75 41.75c31.262 29.273 71.835 45.319 114.876 45.28 77.418-.07 144.315-53.144 162.787-126.849 1.344-5.363 6.122-9.15 11.651-9.15h57.304c7.498 0 13.194 6.807 11.807 14.176C478.067 417.076 377.187 504 256 504c-66.448 0-126.791-26.136-171.315-68.685L48.97 471.03C33.851 486.149 8 475.441 8 454.059V320c0-13.255 10.745-24 24-24z"]},oE={prefix:"fas",iconName:"table",icon:[512,512,[],"f0ce","M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64v-96h160v96zm0-160H64v-96h160v96zm224 160H288v-96h160v96zm0-160H288v-96h160v96z"]},aE={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},sE={prefix:"fas",iconName:"tree",icon:[384,512,[],"f1bb","M378.31 378.49L298.42 288h30.63c9.01 0 16.98-5 20.78-13.06 3.8-8.04 2.55-17.26-3.28-24.05L268.42 160h28.89c9.1 0 17.3-5.35 20.86-13.61 3.52-8.13 1.86-17.59-4.24-24.08L203.66 4.83c-6.03-6.45-17.28-6.45-23.32 0L70.06 122.31c-6.1 6.49-7.75 15.95-4.24 24.08C69.38 154.65 77.59 160 86.69 160h28.89l-78.14 90.91c-5.81 6.78-7.06 15.99-3.27 24.04C37.97 283 45.93 288 54.95 288h30.63L5.69 378.49c-6 6.79-7.36 16.09-3.56 24.26 3.75 8.05 12 13.25 21.01 13.25H160v24.45l-30.29 48.4c-5.32 10.64 2.42 23.16 14.31 23.16h95.96c11.89 0 19.63-12.52 14.31-23.16L224 440.45V416h136.86c9.01 0 17.26-5.2 21.01-13.25 3.8-8.17 2.44-17.47-3.56-24.26z"]},lE={prefix:"fas",iconName:"undo-alt",icon:[512,512,[],"f2ea","M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"]},cE="M12,11A1,1 0 0,1 13,12A1,1 0 0,1 12,13A1,1 0 0,1 11,12A1,1 0 0,1 12,11M4.22,4.22C5.65,2.79 8.75,3.43 12,5.56C15.25,3.43 18.35,2.79 19.78,4.22C21.21,5.65 20.57,8.75 18.44,12C20.57,15.25 21.21,18.35 19.78,19.78C18.35,21.21 15.25,20.57 12,18.44C8.75,20.57 5.65,21.21 4.22,19.78C2.79,18.35 3.43,15.25 5.56,12C3.43,8.75 2.79,5.65 4.22,4.22M15.54,8.46C16.15,9.08 16.71,9.71 17.23,10.34C18.61,8.21 19.11,6.38 18.36,5.64C17.62,4.89 15.79,5.39 13.66,6.77C14.29,7.29 14.92,7.85 15.54,8.46M8.46,15.54C7.85,14.92 7.29,14.29 6.77,13.66C5.39,15.79 4.89,17.62 5.64,18.36C6.38,19.11 8.21,18.61 10.34,17.23C9.71,16.71 9.08,16.15 8.46,15.54M5.64,5.64C4.89,6.38 5.39,8.21 6.77,10.34C7.29,9.71 7.85,9.08 8.46,8.46C9.08,7.85 9.71,7.29 10.34,6.77C8.21,5.39 6.38,4.89 5.64,5.64M9.88,14.12C10.58,14.82 11.3,15.46 12,16.03C12.7,15.46 13.42,14.82 14.12,14.12C14.82,13.42 15.46,12.7 16.03,12C15.46,11.3 14.82,10.58 14.12,9.88C13.42,9.18 12.7,8.54 12,7.97C11.3,8.54 10.58,9.18 9.88,9.88C9.18,10.58 8.54,11.3 7.97,12C8.54,12.7 9.18,13.42 9.88,14.12M18.36,18.36C19.11,17.62 18.61,15.79 17.23,13.66C16.71,14.29 16.15,14.92 15.54,15.54C14.92,16.15 14.29,16.71 13.66,17.23C15.79,18.61 17.62,19.11 18.36,18.36Z",uE="M7.2,11.2C8.97,11.2 10.4,12.63 10.4,14.4C10.4,16.17 8.97,17.6 7.2,17.6C5.43,17.6 4,16.17 4,14.4C4,12.63 5.43,11.2 7.2,11.2M14.8,16A2,2 0 0,1 16.8,18A2,2 0 0,1 14.8,20A2,2 0 0,1 12.8,18A2,2 0 0,1 14.8,16M15.2,4A4.8,4.8 0 0,1 20,8.8C20,11.45 17.85,13.6 15.2,13.6A4.8,4.8 0 0,1 10.4,8.8C10.4,6.15 12.55,4 15.2,4Z",dE="M15,4V6H18V18H15V20H20V4M4,4V20H9V18H6V6H9V4H4Z",fE="M5,3H7V5H5V10A2,2 0 0,1 3,12A2,2 0 0,1 5,14V19H7V21H5C3.93,20.73 3,20.1 3,19V15A2,2 0 0,0 1,13H0V11H1A2,2 0 0,0 3,9V5A2,2 0 0,1 5,3M19,3A2,2 0 0,1 21,5V9A2,2 0 0,0 23,11H24V13H23A2,2 0 0,0 21,15V19A2,2 0 0,1 19,21H17V19H19V14A2,2 0 0,1 21,12A2,2 0 0,1 19,10V5H17V3H19M12,15A1,1 0 0,1 13,16A1,1 0 0,1 12,17A1,1 0 0,1 11,16A1,1 0 0,1 12,15M8,15A1,1 0 0,1 9,16A1,1 0 0,1 8,17A1,1 0 0,1 7,16A1,1 0 0,1 8,15M16,15A1,1 0 0,1 17,16A1,1 0 0,1 16,17A1,1 0 0,1 15,16A1,1 0 0,1 16,15Z",hE="M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M4,9V12C4,14.21 7.58,16 12,16C16.42,16 20,14.21 20,12V9C20,11.21 16.42,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C16.42,21 20,19.21 20,17V14C20,16.21 16.42,18 12,18C7.58,18 4,16.21 4,14Z",pE="M12,3C7.58,3 4,4.79 4,7C4,9.21 7.58,11 12,11C12.5,11 13,10.97 13.5,10.92V9.5H16.39L15.39,8.5L18.9,5C17.5,3.8 14.94,3 12,3M18.92,7.08L17.5,8.5L20,11H15V13H20L17.5,15.5L18.92,16.92L23.84,12M4,9V12C4,14.21 7.58,16 12,16C13.17,16 14.26,15.85 15.25,15.63L16.38,14.5H13.5V12.92C13,12.97 12.5,13 12,13C7.58,13 4,11.21 4,9M4,14V17C4,19.21 7.58,21 12,21C14.94,21 17.5,20.2 18.9,19L17,17.1C15.61,17.66 13.9,18 12,18C7.58,18 4,16.21 4,14Z",mE="M12,3C8.59,3 5.69,4.07 4.54,5.57L9.79,10.82C10.5,10.93 11.22,11 12,11C16.42,11 20,9.21 20,7C20,4.79 16.42,3 12,3M3.92,7.08L2.5,8.5L5,11H0V13H5L2.5,15.5L3.92,16.92L8.84,12M20,9C20,11.21 16.42,13 12,13C11.34,13 10.7,12.95 10.09,12.87L7.62,15.34C8.88,15.75 10.38,16 12,16C16.42,16 20,14.21 20,12M20,14C20,16.21 16.42,18 12,18C9.72,18 7.67,17.5 6.21,16.75L4.53,18.43C5.68,19.93 8.59,21 12,21C16.42,21 20,19.21 20,17",gE="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",vE="M20.06,18C20,17.83 19.91,17.54 19.86,17.11C19.19,17.81 18.38,18.16 17.45,18.16C16.62,18.16 15.93,17.92 15.4,17.45C14.87,17 14.6,16.39 14.6,15.66C14.6,14.78 14.93,14.1 15.6,13.61C16.27,13.12 17.21,12.88 18.43,12.88H19.83V12.24C19.83,11.75 19.68,11.36 19.38,11.07C19.08,10.78 18.63,10.64 18.05,10.64C17.53,10.64 17.1,10.76 16.75,11C16.4,11.25 16.23,11.54 16.23,11.89H14.77C14.77,11.46 14.92,11.05 15.22,10.65C15.5,10.25 15.93,9.94 16.44,9.71C16.95,9.5 17.5,9.36 18.13,9.36C19.11,9.36 19.87,9.6 20.42,10.09C20.97,10.58 21.26,11.25 21.28,12.11V16C21.28,16.8 21.38,17.42 21.58,17.88V18H20.06M17.66,16.88C18.11,16.88 18.54,16.77 18.95,16.56C19.35,16.35 19.65,16.07 19.83,15.73V14.16H18.7C16.93,14.16 16.04,14.63 16.04,15.57C16.04,16 16.19,16.3 16.5,16.53C16.8,16.76 17.18,16.88 17.66,16.88M5.46,13.71H9.53L7.5,8.29L5.46,13.71M6.64,6H8.36L13.07,18H11.14L10.17,15.43H4.82L3.86,18H1.93L6.64,6Z",yE="M17.5,12A1.5,1.5 0 0,1 16,10.5A1.5,1.5 0 0,1 17.5,9A1.5,1.5 0 0,1 19,10.5A1.5,1.5 0 0,1 17.5,12M14.5,8A1.5,1.5 0 0,1 13,6.5A1.5,1.5 0 0,1 14.5,5A1.5,1.5 0 0,1 16,6.5A1.5,1.5 0 0,1 14.5,8M9.5,8A1.5,1.5 0 0,1 8,6.5A1.5,1.5 0 0,1 9.5,5A1.5,1.5 0 0,1 11,6.5A1.5,1.5 0 0,1 9.5,8M6.5,12A1.5,1.5 0 0,1 5,10.5A1.5,1.5 0 0,1 6.5,9A1.5,1.5 0 0,1 8,10.5A1.5,1.5 0 0,1 6.5,12M12,3A9,9 0 0,0 3,12A9,9 0 0,0 12,21A1.5,1.5 0 0,0 13.5,19.5C13.5,19.11 13.35,18.76 13.11,18.5C12.88,18.23 12.73,17.88 12.73,17.5A1.5,1.5 0 0,1 14.23,16H16A5,5 0 0,0 21,11C21,6.58 16.97,3 12,3Z",bE="M3 3H17C18.11 3 19 3.9 19 5V12.08C17.45 11.82 15.92 12.18 14.68 13H11V17H12.08C11.97 17.68 11.97 18.35 12.08 19H3C1.9 19 1 18.11 1 17V5C1 3.9 1.9 3 3 3M3 7V11H9V7H3M11 7V11H17V7H11M3 13V17H9V13H3M22.78 19.32L21.71 18.5C21.73 18.33 21.75 18.17 21.75 18S21.74 17.67 21.71 17.5L22.77 16.68C22.86 16.6 22.89 16.47 22.83 16.36L21.83 14.63C21.77 14.5 21.64 14.5 21.5 14.5L20.28 15C20 14.82 19.74 14.65 19.43 14.53L19.24 13.21C19.23 13.09 19.12 13 19 13H17C16.88 13 16.77 13.09 16.75 13.21L16.56 14.53C16.26 14.66 15.97 14.82 15.71 15L14.47 14.5C14.36 14.5 14.23 14.5 14.16 14.63L13.16 16.36C13.1 16.47 13.12 16.6 13.22 16.68L14.28 17.5C14.26 17.67 14.25 17.83 14.25 18S14.26 18.33 14.28 18.5L13.22 19.32C13.13 19.4 13.1 19.53 13.16 19.64L14.16 21.37C14.22 21.5 14.35 21.5 14.47 21.5L15.71 21C15.97 21.18 16.25 21.35 16.56 21.47L16.75 22.79C16.77 22.91 16.87 23 17 23H19C19.12 23 19.23 22.91 19.25 22.79L19.44 21.47C19.74 21.34 20 21.18 20.28 21L21.5 21.5C21.64 21.5 21.77 21.5 21.84 21.37L22.84 19.64C22.9 19.53 22.87 19.4 22.78 19.32M18 19.5C17.17 19.5 16.5 18.83 16.5 18S17.18 16.5 18 16.5 19.5 17.17 19.5 18 18.84 19.5 18 19.5Z",xE="M15,3V7.59L7.59,15H3V21H9V16.42L16.42,9H21V3M17,5H19V7H17M5,17H7V19H5",wE="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z";const un=(e,t)=>({prefix:"mdi",iconName:e,icon:[24,24,,,t]}),Dp=[KT,oE,rE,qT,aE,PT,LT,WT,tE,lE,nE,XT,eE,JT,VT,GT,jT,FT,YT,HT,UT,ZT,BT,iE,sE,QT,zT,un("code-json",fE),un("database",hE),un("database-import",mE),un("database-export",pE),un("palette",yE),un("format-letter-case",vE),un("table-cog",bE),un("code-brackets",dE),un("xml",wE),un("dots-vertical",gE),un("vector-line",xE),un("atom",cE)],Rp=Ce({}),Lp=e=>e.reduce((t,n)=>(t[`${n.prefix}-${n.iconName}`]=n,t),Rp);Lp(Dp);const CE=(e,t)=>Rp[`${e}-${t}`],Pp=(...e)=>{Dp.push(...e),Lp(e)},kE={ZeroOneN:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6Q0RFRDI1RjI0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Q0RFRDI1RjM0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCQTE2QzQzRDQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCQTE2QzQzRTQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnTT5ywAAAJMSURBVHja7Fc9T2JBFB3MZq1IqLSgsRM6G6TcAmK7VNoRK4yBxE6XP/CsNxBohc6G5w+AoCU0aEWpBfAD4AeM55AZMjvvg2dClsRwkxOeb+7ce+6dmTPPmJRSbNP2xJZtR2DrBH6k0+ndEkSxBHAD9AGpMAJc4Lfh1zDGn4GLgHglNb8kqANhSKVSTiaTkY7jyMFgILWNx2PZ7XZluVyW8BkBJWA1PhwO+f7ZinUO9DmH8xl3XfIGnefzuQwzBsvlcjKIAH4PWAh9zCLq9Xp48mq16knGwASTmkaShULBQ0B1ZlSr1TyFtFqtwOS3xWLxH2eyZctUUOKVFTGRtslk4iHAODZZ/k2yLDKIwLsZjJ2gM3Bo+V0wieu6vsvCCu0ucS+RPHC1vId8kp+YrWRwvHsIWaosO7Nun3DDqn1yD+zr+RQiz3WYz+dXz6iCP82g84lKB4jxF0Rv0G7P+Gw2E6ha9Ho9/eoPsRJAucbUzl53Wi79NmwU25QSJuLx+ObugkqlInD+l8+oTsAny1aHxDlKJpOBgzhBot1ui8Vi4R3cwCY8jbIJeap4JOHvAmd6flDQj+l06ncMD/yktdPp+AoW59nEeBqUnjjAzyACd7YQUcnUxL7CyJZWk7QWIs6xdcLQg6cvSzETEl+Q4iyXkAWZBHU3/stlpLvKpaWkm0sb5Tq+19exqfvWdbyU1gjX8SGLIlnKNJ9jPGYRP0gugQLwS717Az6AB+DJ+CC5Vs8vSkEffeIdK79mVALf95swtvvXbEdg2wQ+BRgAvLABcxKvek4AAAAASUVORK5CYII=",ZeroOne:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QkExNkM0M0I0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkExNkM0M0M0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCQTE2QzQzOTQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCQTE2QzQzQTQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PomEhhsAAAKSSURBVHja7FexbhpBED0ipFRI7ixBQwlV0nCUWKJIydEkFSRpHCGQ0iXgBqfBbQrAShXzA4BLJJCdEip3UDoSUFvwAZv30B5a1ncHBiSk2CONdrU3O/N2dt6w+IQQxiHllXFgeQFwcAD+aDT6zDPwBNsjaAoaVtbuoNcee46hOSi5/hd6pRv41vUBXJFJJ4FA4FMymTRCodDy22g0Mnq93gOml8Ph8Mxhb71QKOQYYzqdGq1W6zPsVkHwo5tGIpFvsVhMNJtN4Saz2UwUi0UB299QU9u/tBsMBrS51WN4BrcsS4zHY7GJEKQOYmsAMIzz5GrwyWQiSqWSwDXQkchms6LRaCwyoIPYB4Ar3NdyM+cEhPXv0LC0OYH+ZJZUEASG9fdbA2AAnlI9uQwedwF7waC29Pt92t5sCoCN6FzSZCmsdluq1aoxn8+LqN6+E0uwXoKPKNiQ4j7TNA0w5gRLZRdWraz7QZOyTkU6saXb7XL4taZH3IGSKRs4asVA5s5Vg2AwaOTz+QSmCZ2GniLTuI6uFpyLbcRfq9UeHYcZwL0v5mw8SFsYqb73yMBb9Tel3W4zA4s5gC1G2Yget2Lc8Q99MZ1Ol20AmLMOTjE9c7nT1xgstW4qlQrrhn7LNgACgp8/mN56dkKk84hVb1OLo+T+qUv66wi4QlnSeNc+cAG0y81IvyDfZaf7CE1Av5JubE6qSLDxXQEc05ib9HbLvp/JZARPTc6rQjDMyL5+Cz7wKkDDjapZD74zAOngHbRN57wGJyFAmfa6w/71ndCruyBoB0MHlf4FxZUDJd+o7wF8Z7Vfy/dAx8HFJWies1ng+CABqqe8oMIOL6KHDV5ElPt9APj/HqW+l/+Gzx7APwEGACfjkeXK58xsAAAAAElFTkSuQmCC",ZeroN:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDc5MkNFMEM0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDc5MkNFMEQ0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NzkyQ0UwQTQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0NzkyQ0UwQjQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpR0ImIAAALlSURBVHja7Fe/jxJBGF0MyVUk2HgJFJ6NQqUNWEoCkfKWxusozxBI7Eiw8ardKy/hxyVWQqcF8AdA9Eqg8DqwuwJI7Aj8AeN7OEuGhd09tCBRvuTLzA4z37z53rxvF58QQtunPdD2bAcA/mg0+p9nYMf5Qfhz5fnmbwH47iND0PQaTS4QCOiRSGQ1PhgMZmja8OvhcNi/z4aIdc5Ycs1HjQCcHJu9hH/KZrOi0+kIu83nc9FsNkUymRSYZ3jEegqv6bousLHI5/NcU3RbkIa3W62W8DICKZVKDFhziFWMxWKiXq+v1ozHY8Exv0OajpmmSqVyitOtxrvdrjYajZZ90KGlUiktFAot+4ZhcDiHtTOc8L1KHWLoAKiFw+FVrOl0+rvjgNjA5msnJA3MCPxC+hX8DhuvzZN0kDqDfTt1nCPT/w1+tm3zIFPDidYC8oZxc8vcI6ZdBUHKMPadY1YMy0gBY6uxfHhIMBEKAw+BvIUMLB+q1aqG/iXSWnKg6wjND9DzmHQsFgttMploqlpIm2maWr/fv8bj5zUZMrV2KWYymaXTyDMCPgGAOxdpXRQKhQ9I7cZv2FSzDrPVvG44TiLc5CWp0Mnrn5gfxWQDFG8r02nddpwwiAzMXOrLC6d3CtNPWhxLMSjYKKcYe0XZ0OLxOOVHOX1xA6Bybj8MKWg0GjdOFNjTeUL5WNbr9UjDV3jcIf3nVIllrHK8V2xVYxypphr8kbXeidO2ql+WWwnijQrU0rq6mdT4W/gta4ldiuVy2ZJi0Q1AmoHVxTyBDL50/m7XOkETvIxxTL1zHpSwBoJlWBa2mtvNNpky+wmcjJvIk6Vtcc5Y9QjeHovxveRlbiun9tLKVFul1S2W+kJiywx4fg9AXmm+UDD5lIqg3HizwftSYgBHmV1izhXGfnrEeobmHeLkuB7rIj4n+WyTGjwh2xP4rXR+kMx2/BBKyLWzXQD8mx+lvsNfswOAfQP4JcAAK/At0HQvwB8AAAAASUVORK5CYII=",OneOnly:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUJCNTBCRDA0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkExNkM0MzQ0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQkI1MEJDRTQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQkI1MEJDRjQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pur5d4QAAAE1SURBVHjaYvz//z/DQAImhgEGow4YcAewaGpqjvAQoJI5CUAsD2VPB+JXULY4EGcCMSivPwTiBRgOuH79OkU2A6MwITAwcL6UlBSYP3XqVHGgmVlQufqcnJxMUFnz7NkzhvXr1zMA5VAdAZKkBGtoaBw4derUfxgA8v8jycHFQWpAatH1j2bDUQeACqIGaDahGgClfmLlWIDZpJ7SKhmWBUEgOzsbRDVgUwOUswcy7ZHFGf8PcIOABVhwUGwIsCBiQCqIUOSgIQIviNABI7BwaKDQfodFixbZm5qawuIYRDVC5ephJe3p06cZ4uLiDgKZB0ZLwtGCaNg1SBYAs5c9MJExIDVI4GxgtgQ1SBiePn3KgK1BAsqG1GoRKSA54CVaiwgEHtDSAUM3DTCO9g1HvAMAAgwAvvwYPnW1JuQAAAAASUVORK5CYII=",OneN:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QkExNkM0Mzc0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkExNkM0Mzg0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCQTE2QzQzNTQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCQTE2QzQzNjQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+BFx8AAAIISURBVHja7Fc9TwJBEF0MLYkdBgot4QdwLSaQSAmNdkCrR61CI9Ud1oCUIB0NYElBtJU/QIkmQKIVgcpqfXPekQNBYu7WM4FJJvs1x87Ovnk7uDjnzEnZYw7LzgHHHXAFAoHtjoDbpt9JQw/1fgX6vsH+CDohdVnlgWAwmE4kElWfz6eNy+Vypd/vX6yx9aK58fv959PplM1mswNGDlhRYOip1+txQzDma+wuoYNSqaTZUYvxnXAHMJag1WQyyYfDITdLJBLhbpEAQ8gVj8eThTBc03weoWeqqrLRaFQREgHoKfQRG3Pc9cKpW60WD4VCZKPS90IiAJA1FEVhkiTN58bjMaNIwNl7yhQA9VlLQ4Qpj9a2J1GWZZbJZBbmkBkMoHtFt6pPxbBvTGNCHZWWNqX7xalXriHkdNfrqZg7XBC4KTxWhSJgENGy0Onb7faPj1He4v7H9Xo9DGRrg1QqpaWY2SEAj+Vyua+0W6ZpQWn4YjCeWYrFIq0NiBWN70U54CWajcfj3LxGQmxIrEjsSCwplIrRP6N1cMI3Qmo2mxohCa0HQDYNNCfASAG8z7rd7nwtGo3+TUECJz6gWfB/DAT1QCAlViSgYq5gBxXXQDZhQrqpIFnlSAdNBwx4BWwUsPk15m7tqgnTepVjOPC2wX5fr4hse4xqv7Sf/J+yfPffcOsd+BRgAOvawAWTC+PMAAAAAElFTkSuQmCC",One:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUJCNTBCQ0M0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUJCNTBCQ0Q0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBQkI1MEJDQTQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBQkI1MEJDQjQ4NjQxMUU3QkRBMDg1MDlCNjg0QjgzMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnOhfCQAAADcSURBVHjaYvz//z/DQAImhgEGow4YcAewaGpqjvAQoJI5CUAsD2VPB+JXxGpkpLQcAEZhQmBg4HwpKSkwf+rUqdOvX7+eRbQBIAdQgjU0NA6cOnXqPwwA+f9J0T+aDUcdACqIGkBpkZqGAs2sJzobTpky5T+lWRGYDRmkpaXBbKB5JOll/D/ADQIWYMFBsSGgEEAqiEgLAWDB0UCh/Q6LFi2yNzU1hcU/iGocLQlHC6IR1SBZsH79entgQmRAapCQlA2p1SJSQHLAS3o3yRYM2TTAONo3HPEOAAgwAJh583IRUllDAAAAAElFTkSuQmCC",N:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDc5MkNFMDg0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDc5MkNFMDk0ODY0MTFFN0JEQTA4NTA5QjY4NEI4MzAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDozNDQwRjc3NTQ4M0MxMUU3QkRBMDg1MDlCNjg0QjgzMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDozNDQwRjc3NjQ4M0MxMUU3QkRBMDg1MDlCNjg0QjgzMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkbQDKwAAAGjSURBVHja7Jcxb4JQEMefLl272cjSUbYu0g+gSVemdpPZwKzRRSf4AGg70k8AfACTdqx+ibYJLp2MfoDr/wg0vJp2Al6TeskFeQ+4e/fufvdsEJFQKU2hWE4OKHeg0el0TlugQi6h5+kW1MkBXddbuMw0TRvu93txOBwumjUaH+Hy4jjOcLVaCcuyeHgmOAJVKpLcgAaDwYCSJKGi9Hq9yo273W6XwjCUDCP8NJlMCPP3VRm+hT6xETZWlCiKiJ3CvJfmX8mGW7wqDu16vZYMb7db4m3A/CP0On+HQTRHMpRVCiaS7Mq2bWlwuVyKxWLxjp/BEQkxQWWVYr/fF9/JipALrP5nFJPiA0EagbI+BsAI0zSlMV59HMe/NqN5mYg1DMPyPE+02+2vwc1mI6bTKTvzgNsP6Y0KSnAMfctySxLf97kKXqGj/PmqOJCWI7aDsHrJCaZhVo4BU7JqEt5Bn13XPQIS05GBVEcvOGPqsTE0IQnHtThQcOQGGnP4mYpZL/Bqc6CYpFkvGOcoVsEfPg3tVB7Jdn/nWH76b/jvHfgUYADeZNmzPgOYQQAAAABJRU5ErkJggg=="},Bp=e=>kE[e],Up=24,$E=1.5;fe("vuerd-icon",{observedProps:[{name:"prefix",default:"fas"},{name:"name",default:""},{name:"size",type:Number,default:Up},{name:"color",default:null}],shadow:!1,styleMap:{display:"inline-flex",height:"100%",alignItems:"center"},render:(e,t)=>()=>{const n=CE(e.prefix,e.name);if(!n)return pt``;const[r,i,,,o]=n.icon,a=$E*(e.size/Up);return pt`
      <svg
        class="vuerd-icon"
        style=${ye({width:`${a}rem`,height:`${a}rem`})} 
        viewBox="0 0 ${r} ${i}"
      >
        ${e.color?pt`<path d=${o} fill=${e.color}></path>`:pt`<path d=${o}></path>`}
      </svg>
    `}});/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */let TE=class{constructor(t){this.classes=new Set,this.changed=!1,this.element=t;const n=(t.getAttribute("class")||"").split(/\s+/);for(const r of n)this.classes.add(r)}add(t){this.classes.add(t),this.changed=!0}remove(t){this.classes.delete(t),this.changed=!0}commit(){if(this.changed){let t="";this.classes.forEach(n=>t+=n+" "),this.element.setAttribute("class",t)}}};const zp=new WeakMap,et=Lo(e=>t=>{if(!(t instanceof ns)||t instanceof Tc||t.committer.name!=="class"||t.committer.parts.length>1)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");const{committer:n}=t,{element:r}=n;let i=zp.get(t);i===void 0&&(r.setAttribute("class",n.strings.join(" ")),zp.set(t,i=new Set));const o=r.classList||new TE(r);i.forEach(a=>{a in e||(o.remove(a),i.delete(a))});for(const a in e){const c=e[a];c!=i.has(a)&&(c?(o.add(a),i.add(a)):(o.remove(a),i.delete(a)))}typeof o.commit=="function"&&o.commit()});function ke(e){const t={value:null};return Pe(()=>t.value=RT(e)),t}const pe=(e,...t)=>e.reduce((n,r,i)=>(i<t.length?n.push(r,t[i]??""):n.push(r),n),[]).join(""),EE=pe`
  .vuerd-sash {
    position: absolute;
  }
  .vuerd-sash.vertical {
    width: ${Xi}px;
    height: 100%;
    cursor: ew-resize;
  }
  .vuerd-sash.horizontal {
    width: 100%;
    height: ${Xi}px;
    cursor: ns-resize;
  }
  .vuerd-sash.edge {
    width: ${Xi}px;
    height: ${Xi}px;
  }
`,IE=["vertical","horizontal","edge"];fe("vuerd-sash",{observedProps:[{name:"vertical",type:Boolean,default:!1},{name:"horizontal",type:Boolean,default:!1},{name:"edge",type:Boolean,default:!1},{name:"cursor",default:"default"},{name:"top",type:Number,default:0},{name:"left",type:Number,default:0}],style:EE,render:(e,t)=>{const n=ke(t),r=()=>e.top===0&&!e.horizontal&&!e.edge?e.top:e.top-Xi/2,i=()=>e.left===0&&!e.vertical&&!e.edge?e.left:e.left-Xi/2,o=()=>Object.assign({"vuerd-sash":!0},IE.reduce((d,p)=>(d[p]=e[p],d),{})),a=()=>({top:`${r()}px`,left:`${i()}px`,cursor:e.edge?e.cursor:""}),c=()=>{const{drag$:d}=n.value.globalEvent;d.subscribe(p=>{p.event.type==="mousemove"&&p.event.preventDefault(),t.dispatchEvent(new CustomEvent("global-move",{detail:{movementX:p.movementX,movementY:p.movementY,x:p.x,y:p.y}}))})};return()=>V`
    <div
      class=${et(o())}
      style=${ye(a())}
      @mousedown=${c}
    ></div>
  `}});var wn="top",An="bottom",Nn="right",Cn="left",qc="auto",Wo=[wn,An,Nn,Cn],Ji="start",Jc="end",SE="clippingParents",jp="viewport",Zo="popper",_E="reference",Fp=Wo.reduce(function(e,t){return e.concat([t+"-"+Ji,t+"-"+Jc])},[]),Hp=[].concat(Wo,[qc]).reduce(function(e,t){return e.concat([t,t+"-"+Ji,t+"-"+Jc])},[]),AE="beforeRead",NE="read",OE="afterRead",ME="beforeMain",DE="main",RE="afterMain",LE="beforeWrite",PE="write",BE="afterWrite",UE=[AE,NE,OE,ME,DE,RE,LE,PE,BE];function Yn(e){return e?(e.nodeName||"").toLowerCase():null}function On(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Qo(e){var t=On(e).Element;return e instanceof t||e instanceof Element}function dn(e){var t=On(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Gp(e){if(typeof ShadowRoot>"u")return!1;var t=On(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function zE(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},i=t.attributes[n]||{},o=t.elements[n];!dn(o)||!Yn(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(a){var c=i[a];c===!1?o.removeAttribute(a):o.setAttribute(a,c===!0?"":c)}))})}function jE(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var i=t.elements[r],o=t.attributes[r]||{},a=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),c=a.reduce(function(d,p){return d[p]="",d},{});!dn(i)||!Yn(i)||(Object.assign(i.style,c),Object.keys(o).forEach(function(d){i.removeAttribute(d)}))})}}const Vp={name:"applyStyles",enabled:!0,phase:"write",fn:zE,effect:jE,requires:["computeStyles"]};function Xn(e){return e.split("-")[0]}var Rr=Math.round;function eo(e,t){t===void 0&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;return dn(e)&&t&&(r=n.width/e.offsetWidth||1,i=n.height/e.offsetHeight||1),{width:Rr(n.width/r),height:Rr(n.height/i),top:Rr(n.top/i),right:Rr(n.right/r),bottom:Rr(n.bottom/i),left:Rr(n.left/r),x:Rr(n.left/r),y:Rr(n.top/i)}}function eu(e){var t=eo(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Yp(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Gp(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function hr(e){return On(e).getComputedStyle(e)}function FE(e){return["table","td","th"].indexOf(Yn(e))>=0}function Lr(e){return((Qo(e)?e.ownerDocument:e.document)||window.document).documentElement}function Es(e){return Yn(e)==="html"?e:e.assignedSlot||e.parentNode||(Gp(e)?e.host:null)||Lr(e)}function Xp(e){return!dn(e)||hr(e).position==="fixed"?null:e.offsetParent}function HE(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&dn(e)){var r=hr(e);if(r.position==="fixed")return null}for(var i=Es(e);dn(i)&&["html","body"].indexOf(Yn(i))<0;){var o=hr(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function qo(e){for(var t=On(e),n=Xp(e);n&&FE(n)&&hr(n).position==="static";)n=Xp(n);return n&&(Yn(n)==="html"||Yn(n)==="body"&&hr(n).position==="static")?t:n||HE(e)||t}function tu(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}var Pr=Math.max,Jo=Math.min,Is=Math.round;function Ss(e,t,n){return Pr(e,Jo(t,n))}function Kp(){return{top:0,right:0,bottom:0,left:0}}function Wp(e){return Object.assign({},Kp(),e)}function Zp(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var GE=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Wp(typeof t!="number"?t:Zp(t,Wo))};function VE(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,c=Xn(n.placement),d=tu(c),p=[Cn,Nn].indexOf(c)>=0,m=p?"height":"width";if(!(!o||!a)){var g=GE(i.padding,n),y=eu(o),b=d==="y"?wn:Cn,C=d==="y"?An:Nn,w=n.rects.reference[m]+n.rects.reference[d]-a[d]-n.rects.popper[m],E=a[d]-n.rects.reference[d],T=qo(o),I=T?d==="y"?T.clientHeight||0:T.clientWidth||0:0,_=w/2-E/2,k=g[b],O=I-y[m]-g[C],M=I/2-y[m]/2+_,D=Ss(k,M,O),P=d;n.modifiersData[r]=(t={},t[P]=D,t.centerOffset=D-M,t)}}function YE(e){var t=e.state,n=e.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||Yp(t.elements.popper,i)&&(t.elements.arrow=i))}const XE={name:"arrow",enabled:!0,phase:"main",fn:VE,effect:YE,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};var KE={top:"auto",right:"auto",bottom:"auto",left:"auto"};function WE(e){var t=e.x,n=e.y,r=window,i=r.devicePixelRatio||1;return{x:Is(Is(t*i)/i)||0,y:Is(Is(n*i)/i)||0}}function Qp(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.offsets,a=e.position,c=e.gpuAcceleration,d=e.adaptive,p=e.roundOffsets,m=p===!0?WE(o):typeof p=="function"?p(o):o,g=m.x,y=g===void 0?0:g,b=m.y,C=b===void 0?0:b,w=o.hasOwnProperty("x"),E=o.hasOwnProperty("y"),T=Cn,I=wn,_=window;if(d){var k=qo(n),O="clientHeight",M="clientWidth";k===On(n)&&(k=Lr(n),hr(k).position!=="static"&&(O="scrollHeight",M="scrollWidth")),k=k,i===wn&&(I=An,C-=k[O]-r.height,C*=c?1:-1),i===Cn&&(T=Nn,y-=k[M]-r.width,y*=c?1:-1)}var D=Object.assign({position:a},d&&KE);if(c){var P;return Object.assign({},D,(P={},P[I]=E?"0":"",P[T]=w?"0":"",P.transform=(_.devicePixelRatio||1)<2?"translate("+y+"px, "+C+"px)":"translate3d("+y+"px, "+C+"px, 0)",P))}return Object.assign({},D,(t={},t[I]=E?C+"px":"",t[T]=w?y+"px":"",t.transform="",t))}function ZE(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,a=o===void 0?!0:o,c=n.roundOffsets,d=c===void 0?!0:c,p={placement:Xn(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Qp(Object.assign({},p,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:d})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Qp(Object.assign({},p,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const QE={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:ZE,data:{}};var _s={passive:!0};function qE(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=i===void 0?!0:i,a=r.resize,c=a===void 0?!0:a,d=On(t.elements.popper),p=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&p.forEach(function(m){m.addEventListener("scroll",n.update,_s)}),c&&d.addEventListener("resize",n.update,_s),function(){o&&p.forEach(function(m){m.removeEventListener("scroll",n.update,_s)}),c&&d.removeEventListener("resize",n.update,_s)}}const JE={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:qE,data:{}};var e5={left:"right",right:"left",bottom:"top",top:"bottom"};function As(e){return e.replace(/left|right|bottom|top/g,function(t){return e5[t]})}var t5={start:"end",end:"start"};function qp(e){return e.replace(/start|end/g,function(t){return t5[t]})}function nu(e){var t=On(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function ru(e){return eo(Lr(e)).left+nu(e).scrollLeft}function n5(e){var t=On(e),n=Lr(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,c=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,c=r.offsetTop)),{width:i,height:o,x:a+ru(e),y:c}}function r5(e){var t,n=Lr(e),r=nu(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Pr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Pr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+ru(e),d=-r.scrollTop;return hr(i||n).direction==="rtl"&&(c+=Pr(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:c,y:d}}function iu(e){var t=hr(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Jp(e){return["html","body","#document"].indexOf(Yn(e))>=0?e.ownerDocument.body:dn(e)&&iu(e)?e:Jp(Es(e))}function ea(e,t){var n;t===void 0&&(t=[]);var r=Jp(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=On(r),a=i?[o].concat(o.visualViewport||[],iu(r)?r:[]):r,c=t.concat(a);return i?c:c.concat(ea(Es(a)))}function ou(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function i5(e){var t=eo(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function em(e,t){return t===jp?ou(n5(e)):dn(t)?i5(t):ou(r5(Lr(e)))}function o5(e){var t=ea(Es(e)),n=["absolute","fixed"].indexOf(hr(e).position)>=0,r=n&&dn(e)?qo(e):e;return Qo(r)?t.filter(function(i){return Qo(i)&&Yp(i,r)&&Yn(i)!=="body"}):[]}function a5(e,t,n){var r=t==="clippingParents"?o5(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce(function(c,d){var p=em(e,d);return c.top=Pr(p.top,c.top),c.right=Jo(p.right,c.right),c.bottom=Jo(p.bottom,c.bottom),c.left=Pr(p.left,c.left),c},em(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ta(e){return e.split("-")[1]}function tm(e){var t=e.reference,n=e.element,r=e.placement,i=r?Xn(r):null,o=r?ta(r):null,a=t.x+t.width/2-n.width/2,c=t.y+t.height/2-n.height/2,d;switch(i){case wn:d={x:a,y:t.y-n.height};break;case An:d={x:a,y:t.y+t.height};break;case Nn:d={x:t.x+t.width,y:c};break;case Cn:d={x:t.x-n.width,y:c};break;default:d={x:t.x,y:t.y}}var p=i?tu(i):null;if(p!=null){var m=p==="y"?"height":"width";switch(o){case Ji:d[p]=d[p]-(t[m]/2-n[m]/2);break;case Jc:d[p]=d[p]+(t[m]/2-n[m]/2);break}}return d}function na(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=r===void 0?e.placement:r,o=n.boundary,a=o===void 0?SE:o,c=n.rootBoundary,d=c===void 0?jp:c,p=n.elementContext,m=p===void 0?Zo:p,g=n.altBoundary,y=g===void 0?!1:g,b=n.padding,C=b===void 0?0:b,w=Wp(typeof C!="number"?C:Zp(C,Wo)),E=m===Zo?_E:Zo,T=e.elements.reference,I=e.rects.popper,_=e.elements[y?E:m],k=a5(Qo(_)?_:_.contextElement||Lr(e.elements.popper),a,d),O=eo(T),M=tm({reference:O,element:I,strategy:"absolute",placement:i}),D=ou(Object.assign({},I,M)),P=m===Zo?D:O,Y={top:k.top-P.top+w.top,bottom:P.bottom-k.bottom+w.bottom,left:k.left-P.left+w.left,right:P.right-k.right+w.right},H=e.modifiersData.offset;if(m===Zo&&H){var X=H[i];Object.keys(Y).forEach(function(j){var F=[Nn,An].indexOf(j)>=0?1:-1,ge=[wn,An].indexOf(j)>=0?"y":"x";Y[j]+=X[ge]*F})}return Y}function s5(e,t){t===void 0&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,c=n.flipVariations,d=n.allowedAutoPlacements,p=d===void 0?Hp:d,m=ta(r),g=m?c?Fp:Fp.filter(function(C){return ta(C)===m}):Wo,y=g.filter(function(C){return p.indexOf(C)>=0});y.length===0&&(y=g);var b=y.reduce(function(C,w){return C[w]=na(e,{placement:w,boundary:i,rootBoundary:o,padding:a})[Xn(w)],C},{});return Object.keys(b).sort(function(C,w){return b[C]-b[w]})}function l5(e){if(Xn(e)===qc)return[];var t=As(e);return[qp(e),t,qp(t)]}function c5(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,c=a===void 0?!0:a,d=n.fallbackPlacements,p=n.padding,m=n.boundary,g=n.rootBoundary,y=n.altBoundary,b=n.flipVariations,C=b===void 0?!0:b,w=n.allowedAutoPlacements,E=t.options.placement,T=Xn(E),I=T===E,_=d||(I||!C?[As(E)]:l5(E)),k=[E].concat(_).reduce(function(q,oe){return q.concat(Xn(oe)===qc?s5(t,{placement:oe,boundary:m,rootBoundary:g,padding:p,flipVariations:C,allowedAutoPlacements:w}):oe)},[]),O=t.rects.reference,M=t.rects.popper,D=new Map,P=!0,Y=k[0],H=0;H<k.length;H++){var X=k[H],j=Xn(X),F=ta(X)===Ji,ge=[wn,An].indexOf(j)>=0,Te=ge?"width":"height",ne=na(t,{placement:X,boundary:m,rootBoundary:g,altBoundary:y,padding:p}),ut=ge?F?Nn:Cn:F?An:wn;O[Te]>M[Te]&&(ut=As(ut));var dt=As(ut),Pt=[];if(o&&Pt.push(ne[j]<=0),c&&Pt.push(ne[ut]<=0,ne[dt]<=0),Pt.every(function(q){return q})){Y=X,P=!1;break}D.set(X,Pt)}if(P)for(var He=C?3:1,vn=function(oe){var xe=k.find(function(Ge){var Mt=D.get(Ge);if(Mt)return Mt.slice(0,oe).every(function(rt){return rt})});if(xe)return Y=xe,"break"},mt=He;mt>0;mt--){var G=vn(mt);if(G==="break")break}t.placement!==Y&&(t.modifiersData[r]._skip=!0,t.placement=Y,t.reset=!0)}}const u5={name:"flip",enabled:!0,phase:"main",fn:c5,requiresIfExists:["offset"],data:{_skip:!1}};function nm(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function rm(e){return[wn,Nn,An,Cn].some(function(t){return e[t]>=0})}function d5(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=na(t,{elementContext:"reference"}),c=na(t,{altBoundary:!0}),d=nm(a,r),p=nm(c,i,o),m=rm(d),g=rm(p);t.modifiersData[n]={referenceClippingOffsets:d,popperEscapeOffsets:p,isReferenceHidden:m,hasPopperEscaped:g},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":g})}const f5={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:d5};function h5(e,t,n){var r=Xn(e),i=[Cn,wn].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,a=o[0],c=o[1];return a=a||0,c=(c||0)*i,[Cn,Nn].indexOf(r)>=0?{x:c,y:a}:{x:a,y:c}}function p5(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=i===void 0?[0,0]:i,a=Hp.reduce(function(m,g){return m[g]=h5(g,t.rects,o),m},{}),c=a[t.placement],d=c.x,p=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=d,t.modifiersData.popperOffsets.y+=p),t.modifiersData[r]=a}const m5={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:p5};function g5(e){var t=e.state,n=e.name;t.modifiersData[n]=tm({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const v5={name:"popperOffsets",enabled:!0,phase:"read",fn:g5,data:{}};function y5(e){return e==="x"?"y":"x"}function b5(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=i===void 0?!0:i,a=n.altAxis,c=a===void 0?!1:a,d=n.boundary,p=n.rootBoundary,m=n.altBoundary,g=n.padding,y=n.tether,b=y===void 0?!0:y,C=n.tetherOffset,w=C===void 0?0:C,E=na(t,{boundary:d,rootBoundary:p,padding:g,altBoundary:m}),T=Xn(t.placement),I=ta(t.placement),_=!I,k=tu(T),O=y5(k),M=t.modifiersData.popperOffsets,D=t.rects.reference,P=t.rects.popper,Y=typeof w=="function"?w(Object.assign({},t.rects,{placement:t.placement})):w,H={x:0,y:0};if(M){if(o||c){var X=k==="y"?wn:Cn,j=k==="y"?An:Nn,F=k==="y"?"height":"width",ge=M[k],Te=M[k]+E[X],ne=M[k]-E[j],ut=b?-P[F]/2:0,dt=I===Ji?D[F]:P[F],Pt=I===Ji?-P[F]:-D[F],He=t.elements.arrow,vn=b&&He?eu(He):{width:0,height:0},mt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Kp(),G=mt[X],q=mt[j],oe=Ss(0,D[F],vn[F]),xe=_?D[F]/2-ut-oe-G-Y:dt-oe-G-Y,Ge=_?-D[F]/2+ut+oe+q+Y:Pt+oe+q+Y,Mt=t.elements.arrow&&qo(t.elements.arrow),rt=Mt?k==="y"?Mt.clientTop||0:Mt.clientLeft||0:0,ft=t.modifiersData.offset?t.modifiersData.offset[t.placement][k]:0,gt=M[k]+xe-ft-rt,Vt=M[k]+Ge-ft;if(o){var xr=Ss(b?Jo(Te,gt):Te,ge,b?Pr(ne,Vt):ne);M[k]=xr,H[k]=xr-ge}if(c){var wr=k==="x"?wn:Cn,Cr=k==="x"?An:Nn,yn=M[O],bn=yn+E[wr],tr=yn-E[Cr],rn=Ss(b?Jo(bn,gt):bn,yn,b?Pr(tr,Vt):tr);M[O]=rn,H[O]=rn-yn}}t.modifiersData[r]=H}}const x5={name:"preventOverflow",enabled:!0,phase:"main",fn:b5,requiresIfExists:["offset"]};function w5(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function C5(e){return e===On(e)||!dn(e)?nu(e):w5(e)}function k5(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return n!==1||r!==1}function $5(e,t,n){n===void 0&&(n=!1);var r=dn(t),i=dn(t)&&k5(t),o=Lr(t),a=eo(e,i),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!n)&&((Yn(t)!=="body"||iu(o))&&(c=C5(t)),dn(t)?(d=eo(t,!0),d.x+=t.clientLeft,d.y+=t.clientTop):o&&(d.x=ru(o))),{x:a.left+c.scrollLeft-d.x,y:a.top+c.scrollTop-d.y,width:a.width,height:a.height}}function T5(e){var t=new Map,n=new Set,r=[];e.forEach(function(o){t.set(o.name,o)});function i(o){n.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(c){if(!n.has(c)){var d=t.get(c);d&&i(d)}}),r.push(o)}return e.forEach(function(o){n.has(o.name)||i(o)}),r}function E5(e){var t=T5(e);return UE.reduce(function(n,r){return n.concat(t.filter(function(i){return i.phase===r}))},[])}function I5(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function S5(e){var t=e.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var im={placement:"bottom",modifiers:[],strategy:"absolute"};function om(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function _5(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,i=t.defaultOptions,o=i===void 0?im:i;return function(c,d,p){p===void 0&&(p=o);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},im,o),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},g=[],y=!1,b={state:m,setOptions:function(T){w(),m.options=Object.assign({},o,m.options,T),m.scrollParents={reference:Qo(c)?ea(c):c.contextElement?ea(c.contextElement):[],popper:ea(d)};var I=E5(S5([].concat(r,m.options.modifiers)));return m.orderedModifiers=I.filter(function(_){return _.enabled}),C(),b.update()},forceUpdate:function(){if(!y){var T=m.elements,I=T.reference,_=T.popper;if(om(I,_)){m.rects={reference:$5(I,qo(_),m.options.strategy==="fixed"),popper:eu(_)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(H){return m.modifiersData[H.name]=Object.assign({},H.data)});for(var k=0;k<m.orderedModifiers.length;k++){if(m.reset===!0){m.reset=!1,k=-1;continue}var O=m.orderedModifiers[k],M=O.fn,D=O.options,P=D===void 0?{}:D,Y=O.name;typeof M=="function"&&(m=M({state:m,options:P,name:Y,instance:b})||m)}}}},update:I5(function(){return new Promise(function(E){b.forceUpdate(),E(m)})}),destroy:function(){w(),y=!0}};if(!om(c,d))return b;b.setOptions(p).then(function(E){!y&&p.onFirstUpdate&&p.onFirstUpdate(E)});function C(){m.orderedModifiers.forEach(function(E){var T=E.name,I=E.options,_=I===void 0?{}:I,k=E.effect;if(typeof k=="function"){var O=k({state:m,name:T,instance:b,options:_}),M=function(){};g.push(O||M)}})}function w(){g.forEach(function(E){return E()}),g=[]}return b}}var A5=[JE,v5,QE,Vp,m5,u5,x5,XE,f5],am=_5({defaultModifiers:A5}),N5="tippy-box",sm="tippy-content",O5="tippy-backdrop",lm="tippy-arrow",cm="tippy-svg-arrow",hi={passive:!0,capture:!0},um=function(){return document.body};function au(e,t,n){if(Array.isArray(e)){var r=e[t];return r??(Array.isArray(n)?n[t]:n)}return e}function su(e,t){var n={}.toString.call(e);return n.indexOf("[object")===0&&n.indexOf(t+"]")>-1}function dm(e,t){return typeof e=="function"?e.apply(void 0,t):e}function fm(e,t){if(t===0)return e;var n;return function(r){clearTimeout(n),n=setTimeout(function(){e(r)},t)}}function M5(e,t){var n=Object.assign({},e);return t.forEach(function(r){delete n[r]}),n}function D5(e){return e.split(/\s+/).filter(Boolean)}function pi(e){return[].concat(e)}function hm(e,t){e.indexOf(t)===-1&&e.push(t)}function R5(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function L5(e){return e.split("-")[0]}function Ns(e){return[].slice.call(e)}function pm(e){return Object.keys(e).reduce(function(t,n){return e[n]!==void 0&&(t[n]=e[n]),t},{})}function to(){return document.createElement("div")}function Os(e){return["Element","Fragment"].some(function(t){return su(e,t)})}function P5(e){return su(e,"NodeList")}function B5(e){return su(e,"MouseEvent")}function U5(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function z5(e){return Os(e)?[e]:P5(e)?Ns(e):Array.isArray(e)?e:Ns(document.querySelectorAll(e))}function lu(e,t){e.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function mm(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function j5(e){var t,n=pi(e),r=n[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function F5(e,t){var n=t.clientX,r=t.clientY;return e.every(function(i){var o=i.popperRect,a=i.popperState,c=i.props,d=c.interactiveBorder,p=L5(a.placement),m=a.modifiersData.offset;if(!m)return!0;var g=p==="bottom"?m.top.y:0,y=p==="top"?m.bottom.y:0,b=p==="right"?m.left.x:0,C=p==="left"?m.right.x:0,w=o.top-r+g>d,E=r-o.bottom-y>d,T=o.left-n+b>d,I=n-o.right-C>d;return w||E||T||I})}function cu(e,t,n){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){e[r](i,n)})}function gm(e,t){for(var n=t;n;){var r;if(e.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Kn={isTouch:!1},vm=0;function H5(){Kn.isTouch||(Kn.isTouch=!0,window.performance&&document.addEventListener("mousemove",ym))}function ym(){var e=performance.now();e-vm<20&&(Kn.isTouch=!1,document.removeEventListener("mousemove",ym)),vm=e}function G5(){var e=document.activeElement;if(U5(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function V5(){document.addEventListener("touchstart",H5,hi),window.addEventListener("blur",G5)}var Y5=typeof window<"u"&&typeof document<"u",X5=Y5?!!window.msCrypto:!1,K5={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},W5={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Mn=Object.assign({appendTo:um,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},K5,W5),Z5=Object.keys(Mn),Q5=function(t){var n=Object.keys(t);n.forEach(function(r){Mn[r]=t[r]})};function bm(e){var t=e.plugins||[],n=t.reduce(function(r,i){var o=i.name,a=i.defaultValue;if(o){var c;r[o]=e[o]!==void 0?e[o]:(c=Mn[o])!=null?c:a}return r},{});return Object.assign({},e,n)}function q5(e,t){var n=t?Object.keys(bm(Object.assign({},Mn,{plugins:t}))):Z5,r=n.reduce(function(i,o){var a=(e.getAttribute("data-tippy-"+o)||"").trim();if(!a)return i;if(o==="content")i[o]=a;else try{i[o]=JSON.parse(a)}catch{i[o]=a}return i},{});return r}function xm(e,t){var n=Object.assign({},t,{content:dm(t.content,[e])},t.ignoreAttributes?{}:q5(e,t.plugins));return n.aria=Object.assign({},Mn.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?t.interactive:n.aria.expanded,content:n.aria.content==="auto"?t.interactive?null:"describedby":n.aria.content},n}var J5=function(){return"innerHTML"};function uu(e,t){e[J5()]=t}function wm(e){var t=to();return e===!0?t.className=lm:(t.className=cm,Os(e)?t.appendChild(e):uu(t,e)),t}function Cm(e,t){Os(t.content)?(uu(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?uu(e,t.content):e.textContent=t.content)}function du(e){var t=e.firstElementChild,n=Ns(t.children);return{box:t,content:n.find(function(r){return r.classList.contains(sm)}),arrow:n.find(function(r){return r.classList.contains(lm)||r.classList.contains(cm)}),backdrop:n.find(function(r){return r.classList.contains(O5)})}}function km(e){var t=to(),n=to();n.className=N5,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=to();r.className=sm,r.setAttribute("data-state","hidden"),Cm(r,e.props),t.appendChild(n),n.appendChild(r),i(e.props,e.props);function i(o,a){var c=du(t),d=c.box,p=c.content,m=c.arrow;a.theme?d.setAttribute("data-theme",a.theme):d.removeAttribute("data-theme"),typeof a.animation=="string"?d.setAttribute("data-animation",a.animation):d.removeAttribute("data-animation"),a.inertia?d.setAttribute("data-inertia",""):d.removeAttribute("data-inertia"),d.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?d.setAttribute("role",a.role):d.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&Cm(p,e.props),a.arrow?m?o.arrow!==a.arrow&&(d.removeChild(m),d.appendChild(wm(a.arrow))):d.appendChild(wm(a.arrow)):m&&d.removeChild(m)}return{popper:t,onUpdate:i}}km.$$tippy=!0;var eI=1,Ms=[],fu=[];function tI(e,t){var n=xm(e,Object.assign({},Mn,bm(pm(t)))),r,i,o,a=!1,c=!1,d=!1,p=!1,m,g,y,b=[],C=fm(wr,n.interactiveDebounce),w,E=eI++,T=null,I=R5(n.plugins),_={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},k={id:E,reference:e,popper:to(),popperInstance:T,props:n,state:_,plugins:I,clearDelayTimeouts:ei,setProps:nr,setContent:Tr,show:_i,hide:te,hideWithInteractivity:ie,enable:Tt,disable:it,unmount:me,destroy:Oe};if(!n.render)return k;var O=n.render(k),M=O.popper,D=O.onUpdate;M.setAttribute("data-tippy-root",""),M.id="tippy-"+k.id,k.popper=M,e._tippy=k,M._tippy=k;var P=I.map(function(L){return L.fn(k)}),Y=e.hasAttribute("aria-expanded");return gt(),He(),ut(),dt("onCreate",[k]),n.showOnCreate&&he(),M.addEventListener("mouseenter",function(){k.props.interactive&&k.state.isVisible&&k.clearDelayTimeouts()}),M.addEventListener("mouseleave",function(){k.props.interactive&&k.props.trigger.indexOf("mouseenter")>=0&&ge().addEventListener("mousemove",C)}),k;function H(){var L=k.props.touch;return Array.isArray(L)?L:[L,0]}function X(){return H()[0]==="hold"}function j(){var L;return!!((L=k.props.render)!=null&&L.$$tippy)}function F(){return w||e}function ge(){var L=F().parentNode;return L?j5(L):document}function Te(){return du(M)}function ne(L){return k.state.isMounted&&!k.state.isVisible||Kn.isTouch||m&&m.type==="focus"?0:au(k.props.delay,L?0:1,Mn.delay)}function ut(L){L===void 0&&(L=!1),M.style.pointerEvents=k.props.interactive&&!L?"":"none",M.style.zIndex=""+k.props.zIndex}function dt(L,J,ae){if(ae===void 0&&(ae=!0),P.forEach(function(Ie){Ie[L]&&Ie[L].apply(Ie,J)}),ae){var Me;(Me=k.props)[L].apply(Me,J)}}function Pt(){var L=k.props.aria;if(L.content){var J="aria-"+L.content,ae=M.id,Me=pi(k.props.triggerTarget||e);Me.forEach(function(Ie){var Bt=Ie.getAttribute(J);if(k.state.isVisible)Ie.setAttribute(J,Bt?Bt+" "+ae:ae);else{var Ut=Bt&&Bt.replace(ae,"").trim();Ut?Ie.setAttribute(J,Ut):Ie.removeAttribute(J)}})}}function He(){if(!(Y||!k.props.aria.expanded)){var L=pi(k.props.triggerTarget||e);L.forEach(function(J){k.props.interactive?J.setAttribute("aria-expanded",k.state.isVisible&&J===F()?"true":"false"):J.removeAttribute("aria-expanded")})}}function vn(){ge().removeEventListener("mousemove",C),Ms=Ms.filter(function(L){return L!==C})}function mt(L){if(!(Kn.isTouch&&(d||L.type==="mousedown"))){var J=L.composedPath&&L.composedPath()[0]||L.target;if(!(k.props.interactive&&gm(M,J))){if(pi(k.props.triggerTarget||e).some(function(ae){return gm(ae,J)})){if(Kn.isTouch||k.state.isVisible&&k.props.trigger.indexOf("click")>=0)return}else dt("onClickOutside",[k,L]);k.props.hideOnClick===!0&&(k.clearDelayTimeouts(),k.hide(),c=!0,setTimeout(function(){c=!1}),k.state.isMounted||xe())}}}function G(){d=!0}function q(){d=!1}function oe(){var L=ge();L.addEventListener("mousedown",mt,!0),L.addEventListener("touchend",mt,hi),L.addEventListener("touchstart",q,hi),L.addEventListener("touchmove",G,hi)}function xe(){var L=ge();L.removeEventListener("mousedown",mt,!0),L.removeEventListener("touchend",mt,hi),L.removeEventListener("touchstart",q,hi),L.removeEventListener("touchmove",G,hi)}function Ge(L,J){rt(L,function(){!k.state.isVisible&&M.parentNode&&M.parentNode.contains(M)&&J()})}function Mt(L,J){rt(L,J)}function rt(L,J){var ae=Te().box;function Me(Ie){Ie.target===ae&&(cu(ae,"remove",Me),J())}if(L===0)return J();cu(ae,"remove",g),cu(ae,"add",Me),g=Me}function ft(L,J,ae){ae===void 0&&(ae=!1);var Me=pi(k.props.triggerTarget||e);Me.forEach(function(Ie){Ie.addEventListener(L,J,ae),b.push({node:Ie,eventType:L,handler:J,options:ae})})}function gt(){X()&&(ft("touchstart",xr,{passive:!0}),ft("touchend",Cr,{passive:!0})),D5(k.props.trigger).forEach(function(L){if(L!=="manual")switch(ft(L,xr),L){case"mouseenter":ft("mouseleave",Cr);break;case"focus":ft(X5?"focusout":"blur",yn);break;case"focusin":ft("focusout",yn);break}})}function Vt(){b.forEach(function(L){var J=L.node,ae=L.eventType,Me=L.handler,Ie=L.options;J.removeEventListener(ae,Me,Ie)}),b=[]}function xr(L){var J,ae=!1;if(!(!k.state.isEnabled||bn(L)||c)){var Me=((J=m)==null?void 0:J.type)==="focus";m=L,w=L.currentTarget,He(),!k.state.isVisible&&B5(L)&&Ms.forEach(function(Ie){return Ie(L)}),L.type==="click"&&(k.props.trigger.indexOf("mouseenter")<0||a)&&k.props.hideOnClick!==!1&&k.state.isVisible?ae=!0:he(L),L.type==="click"&&(a=!ae),ae&&!Me&&Fn(L)}}function wr(L){var J=L.target,ae=F().contains(J)||M.contains(J);if(!(L.type==="mousemove"&&ae)){var Me=kr().concat(M).map(function(Ie){var Bt,Ut=Ie._tippy,ti=(Bt=Ut.popperInstance)==null?void 0:Bt.state;return ti?{popperRect:Ie.getBoundingClientRect(),popperState:ti,props:n}:null}).filter(Boolean);F5(Me,L)&&(vn(),Fn(L))}}function Cr(L){var J=bn(L)||k.props.trigger.indexOf("click")>=0&&a;if(!J){if(k.props.interactive){k.hideWithInteractivity(L);return}Fn(L)}}function yn(L){k.props.trigger.indexOf("focusin")<0&&L.target!==F()||k.props.interactive&&L.relatedTarget&&M.contains(L.relatedTarget)||Fn(L)}function bn(L){return Kn.isTouch?X()!==L.type.indexOf("touch")>=0:!1}function tr(){rn();var L=k.props,J=L.popperOptions,ae=L.placement,Me=L.offset,Ie=L.getReferenceClientRect,Bt=L.moveTransition,Ut=j()?du(M).arrow:null,ti=Ie?{getBoundingClientRect:Ie,contextElement:Ie.contextElement||F()}:e,Kl={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ao){var ni=Ao.state;if(j()){var Tf=Te(),Va=Tf.box;["placement","reference-hidden","escaped"].forEach(function(No){No==="placement"?Va.setAttribute("data-placement",ni.placement):ni.attributes.popper["data-popper-"+No]?Va.setAttribute("data-"+No,""):Va.removeAttribute("data-"+No)}),ni.attributes.popper={}}}},Er=[{name:"offset",options:{offset:Me}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Bt}},Kl];j()&&Ut&&Er.push({name:"arrow",options:{element:Ut,padding:3}}),Er.push.apply(Er,(J==null?void 0:J.modifiers)||[]),k.popperInstance=am(ti,M,Object.assign({},J,{placement:ae,onFirstUpdate:y,modifiers:Er}))}function rn(){k.popperInstance&&(k.popperInstance.destroy(),k.popperInstance=null)}function Ha(){var L=k.props.appendTo,J,ae=F();k.props.interactive&&L===um||L==="parent"?J=ae.parentNode:J=dm(L,[ae]),J.contains(M)||J.appendChild(M),k.state.isMounted=!0,tr()}function kr(){return Ns(M.querySelectorAll("[data-tippy-root]"))}function he(L){k.clearDelayTimeouts(),L&&dt("onTrigger",[k,L]),oe();var J=ne(!0),ae=H(),Me=ae[0],Ie=ae[1];Kn.isTouch&&Me==="hold"&&Ie&&(J=Ie),J?r=setTimeout(function(){k.show()},J):k.show()}function Fn(L){if(k.clearDelayTimeouts(),dt("onUntrigger",[k,L]),!k.state.isVisible){xe();return}if(!(k.props.trigger.indexOf("mouseenter")>=0&&k.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(L.type)>=0&&a)){var J=ne(!1);J?i=setTimeout(function(){k.state.isVisible&&k.hide()},J):o=requestAnimationFrame(function(){k.hide()})}}function Tt(){k.state.isEnabled=!0}function it(){k.hide(),k.state.isEnabled=!1}function ei(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function nr(L){if(!k.state.isDestroyed){dt("onBeforeUpdate",[k,L]),Vt();var J=k.props,ae=xm(e,Object.assign({},J,pm(L),{ignoreAttributes:!0}));k.props=ae,gt(),J.interactiveDebounce!==ae.interactiveDebounce&&(vn(),C=fm(wr,ae.interactiveDebounce)),J.triggerTarget&&!ae.triggerTarget?pi(J.triggerTarget).forEach(function(Me){Me.removeAttribute("aria-expanded")}):ae.triggerTarget&&e.removeAttribute("aria-expanded"),He(),ut(),D&&D(J,ae),k.popperInstance&&(tr(),kr().forEach(function(Me){requestAnimationFrame(Me._tippy.popperInstance.forceUpdate)})),dt("onAfterUpdate",[k,L])}}function Tr(L){k.setProps({content:L})}function _i(){var L=k.state.isVisible,J=k.state.isDestroyed,ae=!k.state.isEnabled,Me=Kn.isTouch&&!k.props.touch,Ie=au(k.props.duration,0,Mn.duration);if(!(L||J||ae||Me)&&!F().hasAttribute("disabled")&&(dt("onShow",[k],!1),k.props.onShow(k)!==!1)){if(k.state.isVisible=!0,j()&&(M.style.visibility="visible"),ut(),oe(),k.state.isMounted||(M.style.transition="none"),j()){var Bt=Te(),Ut=Bt.box,ti=Bt.content;lu([Ut,ti],0)}y=function(){var Er;if(!(!k.state.isVisible||p)){if(p=!0,M.offsetHeight,M.style.transition=k.props.moveTransition,j()&&k.props.animation){var Ga=Te(),Ao=Ga.box,ni=Ga.content;lu([Ao,ni],Ie),mm([Ao,ni],"visible")}Pt(),He(),hm(fu,k),(Er=k.popperInstance)==null||Er.forceUpdate(),dt("onMount",[k]),k.props.animation&&j()&&Mt(Ie,function(){k.state.isShown=!0,dt("onShown",[k])})}},Ha()}}function te(){var L=!k.state.isVisible,J=k.state.isDestroyed,ae=!k.state.isEnabled,Me=au(k.props.duration,1,Mn.duration);if(!(L||J||ae)&&(dt("onHide",[k],!1),k.props.onHide(k)!==!1)){if(k.state.isVisible=!1,k.state.isShown=!1,p=!1,a=!1,j()&&(M.style.visibility="hidden"),vn(),xe(),ut(!0),j()){var Ie=Te(),Bt=Ie.box,Ut=Ie.content;k.props.animation&&(lu([Bt,Ut],Me),mm([Bt,Ut],"hidden"))}Pt(),He(),k.props.animation?j()&&Ge(Me,k.unmount):k.unmount()}}function ie(L){ge().addEventListener("mousemove",C),hm(Ms,C),C(L)}function me(){k.state.isVisible&&k.hide(),k.state.isMounted&&(rn(),kr().forEach(function(L){L._tippy.unmount()}),M.parentNode&&M.parentNode.removeChild(M),fu=fu.filter(function(L){return L!==k}),k.state.isMounted=!1,dt("onHidden",[k]))}function Oe(){k.state.isDestroyed||(k.clearDelayTimeouts(),k.unmount(),Vt(),delete e._tippy,k.state.isDestroyed=!0,dt("onDestroy",[k]))}}function no(e,t){t===void 0&&(t={});var n=Mn.plugins.concat(t.plugins||[]);V5();var r=Object.assign({},t,{plugins:n}),i=z5(e),o=i.reduce(function(a,c){var d=c&&tI(c,r);return d&&a.push(d),a},[]);return Os(e)?o[0]:o}no.defaultProps=Mn,no.setDefaultProps=Q5,no.currentInput=Kn;var nI=Object.assign({},Vp,{effect:function(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}}),rI=function(t,n){var r;n===void 0&&(n={});var i=t,o=[],a=[],c,d=n.overrides,p=[],m=!1;function g(){a=i.map(function(k){return pi(k.props.triggerTarget||k.reference)}).reduce(function(k,O){return k.concat(O)},[])}function y(){o=i.map(function(k){return k.reference})}function b(k){i.forEach(function(O){k?O.enable():O.disable()})}function C(k){return i.map(function(O){var M=O.setProps;return O.setProps=function(D){M(D),O.reference===c&&k.setProps(D)},function(){O.setProps=M}})}function w(k,O){var M=a.indexOf(O);if(O!==c){c=O;var D=(d||[]).concat("content").reduce(function(P,Y){return P[Y]=i[M].props[Y],P},{});k.setProps(Object.assign({},D,{getReferenceClientRect:typeof D.getReferenceClientRect=="function"?D.getReferenceClientRect:function(){var P;return(P=o[M])==null?void 0:P.getBoundingClientRect()}}))}}b(!1),y(),g();var E={fn:function(){return{onDestroy:function(){b(!0)},onHidden:function(){c=null},onClickOutside:function(M){M.props.showOnCreate&&!m&&(m=!0,c=null)},onShow:function(M){M.props.showOnCreate&&!m&&(m=!0,w(M,o[0]))},onTrigger:function(M,D){w(M,D.currentTarget)}}}},T=no(to(),Object.assign({},M5(n,["overrides"]),{plugins:[E].concat(n.plugins||[]),triggerTarget:a,popperOptions:Object.assign({},n.popperOptions,{modifiers:[].concat(((r=n.popperOptions)==null?void 0:r.modifiers)||[],[nI])})})),I=T.show;T.show=function(k){if(I(),!c&&k==null)return w(T,o[0]);if(!(c&&k==null)){if(typeof k=="number")return o[k]&&w(T,o[k]);if(i.indexOf(k)>=0){var O=k.reference;return w(T,O)}if(o.indexOf(k)>=0)return w(T,k)}},T.showNext=function(){var k=o[0];if(!c)return T.show(0);var O=o.indexOf(c);T.show(o[O+1]||k)},T.showPrevious=function(){var k=o[o.length-1];if(!c)return T.show(k);var O=o.indexOf(c),M=o[O-1]||k;T.show(M)};var _=T.setProps;return T.setProps=function(k){d=k.overrides||d,_(k)},T.setInstances=function(k){b(!0),p.forEach(function(O){return O()}),i=k,b(!1),y(),g(),p=C(T),T.setProps({triggerTarget:a})},p=C(T),T};no.setDefaultProps({render:km});function fn(e,t,n={}){const r=e.map(p=>ds(p));let i=null,o=null;const a=()=>{const p=Nr(".vuerd-editor",t),m=[...Ko(r.map(g=>g.value).filter(g=>Dr(g)))];o=no(m,{appendTo:p??"parent",trigger:"manual"}),i=rI(o,Object.assign({appendTo:p??"parent",delay:[500,100],moveTransition:"transform 0.4s cubic-bezier(0.22, 1, 0.36, 1)"},n))},c=()=>{i==null||i.destroy(),o==null||o.forEach(p=>p.destroy()),i=null,o=null},d=()=>{c(),a()};return Vi(a),ur(c),{resetTooltip:d}}function Re(){const e=[];return ur(()=>{for(;e.length;){const t=e.pop();Np(t)?t():t.unsubscribe()}}),{unmountedGroup:e}}const iI=pe`
  .vuerd-contextmenu {
    position: fixed;
    z-index: 1;
    opacity: 0.9;
    color: var(--vuerd-color-font);
    fill: var(--vuerd-color-font);
    background-color: var(--vuerd-color-contextmenu);
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    font-family: var(--vuerd-font-family) !important;
  }
  .vuerd-contextmenu > li {
    height: ${lp}px;
    padding: 10px 5px 10px 10px;
    box-sizing: border-box;
    cursor: pointer;
    font-size: ${Qt}px;
    white-space: nowrap;
    display: flex;
    flex-direction: row;
    align-items: center;
  }
  .vuerd-contextmenu > li:hover {
    color: var(--vuerd-color-font-active);
    fill: var(--vuerd-color-font-active);
    background-color: var(--vuerd-color-contextmenu-active);
  }
  .vuerd-contextmenu > li > span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    padding-right: 5px;
  }
  .vuerd-contextmenu > li > span.icon,
  .vuerd-contextmenu > li > span.icon > img {
    width: 18px;
    display: flex;
    align-items: center;
  }
  .vuerd-contextmenu > li > span.name {
    width: 70px;
  }
  .vuerd-contextmenu > li > span.keymap {
    width: 60px;
    display: inline-block;
    padding-right: 0;
  }
  .vuerd-contextmenu > li > span.arrow {
    width: 13px;
    padding-right: 0;
  }
`,oI=e=>e.icon?V`
        <span class="icon">
          <vuerd-icon
            .prefix=${e.icon.prefix}
            .size=${e.icon.size||14}
            name=${e.icon.name}
          >
          </vuerd-icon>
        </span>
      `:e.iconBase64?V`
          <span class="icon">
            <img src=${e.iconBase64} />
          </span>
        `:V`<span class="icon"></span>`;fe("vuerd-contextmenu",{observedProps:[{name:"x",type:Number,default:0},{name:"y",type:Number,default:0},"menus"],style:iI,render:(e,t)=>{const n=Ce({menu:null}),r=Rt(".vuerd-contextmenu"),{unmountedGroup:i}=Re(),{resetTooltip:o}=fn([".keymap"],t),a=()=>{const C=r.value;return C?e.x+C.clientWidth:e.x},c=()=>n.menu?e.y+e.menus.indexOf(n.menu)*lp:e.y,d=C=>n.menu=C,p=()=>t.dispatchEvent(new CustomEvent("close")),m=C=>{var w;!C.execute||(w=C.children)!=null&&w.length||(C.execute(),(!C.options||C.options.close!==!1)&&p())},g=C=>w=>{w.stopPropagation(),t.dispatchEvent(new CustomEvent(C,{composed:!0,bubbles:!0}))},y=g("vuerd-contextmenu-mousedown"),b=g("vuerd-contextmenu-touchstart");return i.push(ue(e,C=>{C==="menus"&&(n.menu=null,o())})),ur(()=>n.menu=null),()=>{var C,w;return V`
    <ul
      class="vuerd-contextmenu"
      style=${ye({left:`${e.x}px`,top:`${e.y}px`})}
      @mousedown=${y}
      @touchstart=${b}
    >
      ${e.menus.map(E=>{var T,I;return V`
          <li
            @mouseover=${()=>d(E)}
            @click=${()=>m(E)}
          >
            ${oI(E)}
            <span
              class="name"
              style=${ye({width:`${((T=E.options)==null?void 0:T.nameWidth)??70}px`})}
              title=${E.name}
            >
              ${E.name}
            </span>
            <span
              class="keymap"
              style=${ye({width:`${((I=E.options)==null?void 0:I.keymapWidth)??60}px`})}
              data-tippy-content=${E.keymapTooltip?E.keymapTooltip:""}
            >
              ${E.keymap}
            </span>
            ${E.children&&E.children.length?V`
                  <span class="arrow">
                    <vuerd-icon size="13" name="chevron-right"></vuerd-icon>
                  </span>
                `:null}
          </li>
        `})}
    </ul>
    ${(w=(C=n.menu)==null?void 0:C.children)!=null&&w.length?V`
          <vuerd-contextmenu
            .menus=${n.menu.children}
            .x=${a()}
            .y=${c()}
            @close=${p}
          ></vuerd-contextmenu>
        `:null}
  `}}});var hu=function(e,t){return hu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},hu(e,t)};function Br(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");hu(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function aI(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function c(m){try{p(r.next(m))}catch(g){a(g)}}function d(m){try{p(r.throw(m))}catch(g){a(g)}}function p(m){m.done?o(m.value):i(m.value).then(c,d)}p((r=r.apply(e,t||[])).next())})}function $m(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(p){return function(m){return d([p,m])}}function d(p){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(m){p=[6,m],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function ro(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ur(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(c){a={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function mi(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function io(e){return this instanceof io?(this.v=e,this):new io(e)}function sI(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(y){r[y]&&(i[y]=function(b){return new Promise(function(C,w){o.push([y,b,C,w])>1||c(y,b)})})}function c(y,b){try{d(r[y](b))}catch(C){g(o[0][3],C)}}function d(y){y.value instanceof io?Promise.resolve(y.value.v).then(p,m):g(o[0][2],y)}function p(y){c("next",y)}function m(y){c("throw",y)}function g(y,b){y(b),o.shift(),o.length&&c(o[0][0],o[0][1])}}function lI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof ro=="function"?ro(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(c,d){a=e[o](a),i(c,d,a.done,a.value)})}}function i(o,a,c,d){Promise.resolve(d).then(function(p){o({value:p,done:c})},a)}}typeof SuppressedError=="function"&&SuppressedError;function Ze(e){return typeof e=="function"}function Tm(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var pu=Tm(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Ds(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ra=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var c=ro(a),d=c.next();!d.done;d=c.next()){var p=d.value;p.remove(this)}}catch(w){t={error:w}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}else a.remove(this);var m=this.initialTeardown;if(Ze(m))try{m()}catch(w){o=w instanceof pu?w.errors:[w]}var g=this._finalizers;if(g){this._finalizers=null;try{for(var y=ro(g),b=y.next();!b.done;b=y.next()){var C=b.value;try{Sm(C)}catch(w){o=o??[],w instanceof pu?o=mi(mi([],Ur(o)),Ur(w.errors)):o.push(w)}}}catch(w){r={error:w}}finally{try{b&&!b.done&&(i=y.return)&&i.call(y)}finally{if(r)throw r.error}}}if(o)throw new pu(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)Sm(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Ds(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Ds(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),Em=ra.EMPTY;function Im(e){return e instanceof ra||e&&"closed"in e&&Ze(e.remove)&&Ze(e.add)&&Ze(e.unsubscribe)}function Sm(e){Ze(e)?e():e.unsubscribe()}var _m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},mu={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=mu.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,mi([e,t],Ur(n))):setTimeout.apply(void 0,mi([e,t],Ur(n)))},clearTimeout:function(e){var t=mu.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Am(e){mu.setTimeout(function(){throw e})}function Rs(){}function Ls(e){e()}var gu=function(e){Br(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Im(n)&&n.add(r)):r.destination=fI,r}return t.create=function(n,r,i){return new yu(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(ra),cI=Function.prototype.bind;function vu(e,t){return cI.call(e,t)}var uI=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){Ps(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){Ps(r)}else Ps(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){Ps(n)}},e}(),yu=function(e){Br(t,e);function t(n,r,i){var o=e.call(this)||this,a;if(Ze(n)||!n)a={next:n??void 0,error:r??void 0,complete:i??void 0};else{var c;o&&_m.useDeprecatedNextContext?(c=Object.create(n),c.unsubscribe=function(){return o.unsubscribe()},a={next:n.next&&vu(n.next,c),error:n.error&&vu(n.error,c),complete:n.complete&&vu(n.complete,c)}):a=n}return o.destination=new uI(a),o}return t}(gu);function Ps(e){Am(e)}function dI(e){throw e}var fI={closed:!0,next:Rs,error:dI,complete:Rs},bu=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Nm(e){return e}function hI(e){return e.length===0?Nm:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var wt=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,o=mI(t)?t:new yu(t,n,r);return Ls(function(){var a=i,c=a.operator,d=a.source;o.add(c?c.call(o,d):d?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=Om(n),new n(function(i,o){var a=new yu({next:function(c){try{t(c)}catch(d){o(d),a.unsubscribe()}},error:o,complete:i});r.subscribe(a)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[bu]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return hI(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=Om(t),new t(function(r,i){var o;n.subscribe(function(a){return o=a},function(a){return i(a)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();function Om(e){var t;return(t=e??_m.Promise)!==null&&t!==void 0?t:Promise}function pI(e){return e&&Ze(e.next)&&Ze(e.error)&&Ze(e.complete)}function mI(e){return e&&e instanceof gu||pI(e)&&Im(e)}function gI(e){return Ze(e==null?void 0:e.lift)}function Wn(e){return function(t){if(gI(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function kn(e,t,n,r,i){return new Mm(e,t,n,r,i)}var Mm=function(e){Br(t,e);function t(n,r,i,o,a,c){var d=e.call(this,n)||this;return d.onFinalize=a,d.shouldUnsubscribe=c,d._next=r?function(p){try{r(p)}catch(m){n.error(m)}}:e.prototype._next,d._error=o?function(p){try{o(p)}catch(m){n.error(m)}finally{this.unsubscribe()}}:e.prototype._error,d._complete=i?function(){try{i()}catch(p){n.error(p)}finally{this.unsubscribe()}}:e.prototype._complete,d}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(gu),vI=Tm(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),gi=function(e){Br(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new Dm(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new vI},t.prototype.next=function(n){var r=this;Ls(function(){var i,o;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var a=ro(r.currentObservers),c=a.next();!c.done;c=a.next()){var d=c.value;d.next(n)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}})},t.prototype.error=function(n){var r=this;Ls(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var i=r.observers;i.length;)i.shift().error(n)}})},t.prototype.complete=function(){var n=this;Ls(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,i=this,o=i.hasError,a=i.isStopped,c=i.observers;return o||a?Em:(this.currentObservers=null,c.push(n),new ra(function(){r.currentObservers=null,Ds(c,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,i=r.hasError,o=r.thrownError,a=r.isStopped;i?n.error(o):a&&n.complete()},t.prototype.asObservable=function(){var n=new wt;return n.source=this,n},t.create=function(n,r){return new Dm(n,r)},t}(wt),Dm=function(e){Br(t,e);function t(n,r){var i=e.call(this)||this;return i.destination=n,i.source=r,i}return t.prototype.next=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.next)===null||i===void 0||i.call(r,n)},t.prototype.error=function(n){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.error)===null||i===void 0||i.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,i;return(i=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&i!==void 0?i:Em},t}(gi),Rm={now:function(){return(Rm.delegate||Date).now()},delegate:void 0},yI=function(e){Br(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(ra),Bs={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Bs.delegate;return i!=null&&i.setInterval?i.setInterval.apply(i,mi([e,t],Ur(n))):setInterval.apply(void 0,mi([e,t],Ur(n)))},clearInterval:function(e){var t=Bs.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},bI=function(e){Br(t,e);function t(n,r){var i=e.call(this,n,r)||this;return i.scheduler=n,i.work=r,i.pending=!1,i}return t.prototype.schedule=function(n,r){var i;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var o=this.id,a=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(a,o,r)),this.pending=!0,this.delay=r,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(a,this.id,r),this},t.prototype.requestAsyncId=function(n,r,i){return i===void 0&&(i=0),Bs.setInterval(n.flush.bind(n,this),i)},t.prototype.recycleAsyncId=function(n,r,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return r;r!=null&&Bs.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(n,r);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var i=!1,o;try{this.work(n)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,i=n.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Ds(o,this),r!=null&&(this.id=this.recycleAsyncId(i,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(yI),Lm=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=Rm.now,e}(),xI=function(e){Br(t,e);function t(n,r){r===void 0&&(r=Lm.now);var i=e.call(this,n,r)||this;return i.actions=[],i._active=!1,i}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var i;this._active=!0;do if(i=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,i){for(;n=r.shift();)n.unsubscribe();throw i}},t}(Lm),xu=new xI(bI),wI=xu,CI=new wt(function(e){return e.complete()});function Pm(e){return e&&Ze(e.schedule)}function Bm(e){return e[e.length-1]}function kI(e){return Pm(Bm(e))?e.pop():void 0}function $I(e,t){return typeof Bm(e)=="number"?e.pop():t}var wu=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Um(e){return Ze(e==null?void 0:e.then)}function zm(e){return Ze(e[bu])}function jm(e){return Symbol.asyncIterator&&Ze(e==null?void 0:e[Symbol.asyncIterator])}function Fm(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function TI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hm=TI();function Gm(e){return Ze(e==null?void 0:e[Hm])}function Vm(e){return sI(this,arguments,function(){var n,r,i,o;return $m(this,function(a){switch(a.label){case 0:n=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,io(n.read())];case 3:return r=a.sent(),i=r.value,o=r.done,o?[4,io(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,io(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Ym(e){return Ze(e==null?void 0:e.getReader)}function Dn(e){if(e instanceof wt)return e;if(e!=null){if(zm(e))return EI(e);if(wu(e))return II(e);if(Um(e))return SI(e);if(jm(e))return Xm(e);if(Gm(e))return _I(e);if(Ym(e))return AI(e)}throw Fm(e)}function EI(e){return new wt(function(t){var n=e[bu]();if(Ze(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function II(e){return new wt(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function SI(e){return new wt(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Am)})}function _I(e){return new wt(function(t){var n,r;try{for(var i=ro(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function Xm(e){return new wt(function(t){NI(e,t).catch(function(n){return t.error(n)})})}function AI(e){return Xm(Vm(e))}function NI(e,t){var n,r,i,o;return aI(this,void 0,void 0,function(){var a,c;return $m(this,function(d){switch(d.label){case 0:d.trys.push([0,5,6,11]),n=lI(e),d.label=1;case 1:return[4,n.next()];case 2:if(r=d.sent(),!!r.done)return[3,4];if(a=r.value,t.next(a),t.closed)return[2];d.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=d.sent(),i={error:c},[3,11];case 6:return d.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:d.sent(),d.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function zr(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Km(e,t){return t===void 0&&(t=0),Wn(function(n,r){n.subscribe(kn(r,function(i){return zr(r,e,function(){return r.next(i)},t)},function(){return zr(r,e,function(){return r.complete()},t)},function(i){return zr(r,e,function(){return r.error(i)},t)}))})}function Wm(e,t){return t===void 0&&(t=0),Wn(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function OI(e,t){return Dn(e).pipe(Wm(t),Km(t))}function MI(e,t){return Dn(e).pipe(Wm(t),Km(t))}function DI(e,t){return new wt(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function RI(e,t){return new wt(function(n){var r;return zr(n,t,function(){r=e[Hm](),zr(n,t,function(){var i,o,a;try{i=r.next(),o=i.value,a=i.done}catch(c){n.error(c);return}a?n.complete():n.next(o)},0,!0)}),function(){return Ze(r==null?void 0:r.return)&&r.return()}})}function Zm(e,t){if(!e)throw new Error("Iterable cannot be null");return new wt(function(n){zr(n,t,function(){var r=e[Symbol.asyncIterator]();zr(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function LI(e,t){return Zm(Vm(e),t)}function PI(e,t){if(e!=null){if(zm(e))return OI(e,t);if(wu(e))return DI(e,t);if(Um(e))return MI(e,t);if(jm(e))return Zm(e,t);if(Gm(e))return RI(e,t);if(Ym(e))return LI(e,t)}throw Fm(e)}function BI(e,t){return t?PI(e,t):Dn(e)}function UI(e){return e instanceof Date&&!isNaN(e)}function oo(e,t){return Wn(function(n,r){var i=0;n.subscribe(kn(r,function(o){r.next(e.call(t,o,i++))}))})}var zI=Array.isArray;function jI(e,t){return zI(t)?e.apply(void 0,mi([],Ur(t))):e(t)}function FI(e){return oo(function(t){return jI(e,t)})}function HI(e,t,n,r,i,o,a,c){var d=[],p=0,m=0,g=!1,y=function(){g&&!d.length&&!p&&t.complete()},b=function(w){return p<r?C(w):d.push(w)},C=function(w){o&&t.next(w),p++;var E=!1;Dn(n(w,m++)).subscribe(kn(t,function(T){i==null||i(T),o?b(T):t.next(T)},function(){E=!0},void 0,function(){if(E)try{p--;for(var T=function(){var I=d.shift();a?zr(t,a,function(){return C(I)}):C(I)};d.length&&p<r;)T();y()}catch(I){t.error(I)}}))};return e.subscribe(kn(t,b,function(){g=!0,y()})),function(){c==null||c()}}function ia(e,t,n){return n===void 0&&(n=1/0),Ze(t)?ia(function(r,i){return oo(function(o,a){return t(r,o,i,a)})(Dn(e(r,i)))},n):(typeof t=="number"&&(n=t),Wn(function(r,i){return HI(r,i,e,n)}))}function GI(e){return e===void 0&&(e=1/0),ia(Nm,e)}var VI=["addListener","removeListener"],YI=["addEventListener","removeEventListener"],XI=["on","off"];function Ct(e,t,n,r){if(Ze(n)&&(r=n,n=void 0),r)return Ct(e,t,n).pipe(FI(r));var i=Ur(ZI(e)?YI.map(function(c){return function(d){return e[c](t,d,n)}}):KI(e)?VI.map(Qm(e,t)):WI(e)?XI.map(Qm(e,t)):[],2),o=i[0],a=i[1];if(!o&&wu(e))return ia(function(c){return Ct(c,t,n)})(Dn(e));if(!o)throw new TypeError("Invalid event target");return new wt(function(c){var d=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];return c.next(1<p.length?p:p[0])};return o(d),function(){return a(d)}})}function Qm(e,t){return function(n){return function(r){return e[n](t,r)}}}function KI(e){return Ze(e.addListener)&&Ze(e.removeListener)}function WI(e){return Ze(e.on)&&Ze(e.off)}function ZI(e){return Ze(e.addEventListener)&&Ze(e.removeEventListener)}function QI(e,t,n){e===void 0&&(e=0),n===void 0&&(n=wI);var r=-1;return t!=null&&(Pm(t)?n=t:r=t),new wt(function(i){var o=UI(e)?+e-n.now():e;o<0&&(o=0);var a=0;return n.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function jr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=kI(e),r=$I(e,1/0),i=e;return i.length?i.length===1?Dn(i[0]):GI(r)(BI(i,n)):CI}function Cu(e,t){return Wn(function(n,r){var i=0;n.subscribe(kn(r,function(o){return e.call(t,o,i++)&&r.next(o)}))})}function qI(e){return Wn(function(t,n){var r=[];return t.subscribe(kn(n,function(i){return r.push(i)},function(){n.next(r),n.complete()})),Dn(e).subscribe(kn(n,function(){var i=r;r=[],n.next(i)},Rs)),function(){r=null}})}function ao(e,t){return t===void 0&&(t=xu),Wn(function(n,r){var i=null,o=null,a=null,c=function(){if(i){i.unsubscribe(),i=null;var p=o;o=null,r.next(p)}};function d(){var p=a+e,m=t.now();if(m<p){i=this.schedule(void 0,p-m),r.add(i);return}c()}n.subscribe(kn(r,function(p){o=p,a=t.now(),i||(i=t.schedule(d,e),r.add(i))},function(){c(),r.complete()},void 0,function(){o=i=null}))})}function qm(e,t,n,r){return Wn(function(i,o){var a;!t||typeof t=="function"?a=t:(n=t.duration,a=t.element,r=t.connector);var c=new Map,d=function(C){c.forEach(C),C(o)},p=function(C){return d(function(w){return w.error(C)})},m=0,g=!1,y=new Mm(o,function(C){try{var w=e(C),E=c.get(w);if(!E){c.set(w,E=r?r():new gi);var T=b(w,E);if(o.next(T),n){var I=kn(E,function(){E.complete(),I==null||I.unsubscribe()},void 0,void 0,function(){return c.delete(w)});y.add(Dn(n(T)).subscribe(I))}}E.next(a?a(C):C)}catch(_){p(_)}},function(){return d(function(C){return C.complete()})},p,function(){return c.clear()},function(){return g=!0,m===0});i.subscribe(y);function b(C,w){var E=new wt(function(T){m++;var I=w.subscribe(T);return function(){I.unsubscribe(),--m===0&&g&&y.unsubscribe()}});return E.key=C,E}})}function Jm(e){return Wn(function(t,n){Dn(e).subscribe(kn(n,function(){return n.complete()},Rs)),!n.closed&&t.subscribe(n)})}function JI(e,t){return Wn(function(n,r){var i=t??{},o=i.leading,a=o===void 0?!0:o,c=i.trailing,d=c===void 0?!1:c,p=!1,m=null,g=null,y=!1,b=function(){g==null||g.unsubscribe(),g=null,d&&(E(),y&&r.complete())},C=function(){g=null,y&&r.complete()},w=function(T){return g=Dn(e(T)).subscribe(kn(r,b,C))},E=function(){if(p){p=!1;var T=m;m=null,r.next(T),!y&&w(T)}};n.subscribe(kn(r,function(T){p=!0,m=T,!(g&&!g.closed)&&(a?E():w(T))},function(){y=!0,!(d&&p&&g&&!g.closed)&&r.complete()}))})}function oa(e,t,n){t===void 0&&(t=xu);var r=QI(e,t);return JI(function(){return r},n)}const eg=document.createElement("canvas").getContext("2d");eg.font=`${Qt}px 'Noto Sans', sans-serif`;const eS=e=>eg.measureText(e).width;function tg(e){const t=e.target;t.value=t.value.replace(/[^0-9]/g,"")}function vi(e){return e.preventDefault(),e}function ng(e){return e.stopPropagation(),e}function tS(e){return e.stopImmediatePropagation(),e}Wc(vi,ng,tS);function ku(e,t,n){const r=new RegExp(n.split("").join("|"),"i"),i=t.split(""),o=[];for(;i.length;){const a=i.shift();r.test(a)?o.push(`<span class="${e}">${a}</span>`):o.push(a)}return o.join("")}function Us(e){const t=e.value.length;e.selectionStart=t,e.selectionEnd=t,e.focus()}function nS(e){const t=e.target;t&&(t.value="")}function zs(e){return e instanceof MouseEvent}const $u=2;function rS(){let e=null,t=null;const n=Ap(),r=new gi,i=y=>{e=y},o=y=>{t=y,n.push(Ct(t,"input").subscribe(nS))},a=y=>eS(y)+$u,c=y=>y.length*10+$u;return{keydown$:r,setGhostText:i,setGhostInput:o,getTextWidth:a,getTextWidthLegacy:y=>e?(e.innerText=y,e.offsetWidth+$u):c(y),getFastTextWidth:c,focus:()=>{t&&t.focus()},blur:()=>{t&&t.blur()},destroy:()=>n.destroy()}}class so{}le(so,"debug",(...t)=>t.forEach(console.dir)),le(so,"log",console.log),le(so,"warn",console.warn),le(so,"error",console.error);const lo=Cu(e=>!!e.length),aa=e=>t=>new wt(n=>t.subscribe({next:r=>n.next(r.filter(i=>e.includes(i.name))),error:r=>n.error(r),complete:()=>n.complete()})).pipe(lo),U=(e,t)=>({name:e,data:t,timestamp:Date.now()}),iS=["table.add","table.move","table.remove","table.changeName","table.changeComment","table.sort","table.changeColor","column.add","column.addCustom","column.remove","column.changeName","column.changeComment","column.changeDataType","column.changeDefault","column.changeAutoIncrement","column.changePrimaryKey","column.changeUnique","column.changeNotNull","column.move","relationship.add","relationship.remove","relationship.hide","relationship.show","relationship.changeRelationshipType","relationship.changeStartRelationshipType","relationship.changeIdentification","index.add","index.remove","index.changeName","index.changeUnique","index.addColumn","index.removeColumn","index.moveColumn","index.changeColumnOrderType","memo.add","memo.move","memo.remove","memo.changeValue","memo.resize","memo.changeColor","canvas.move","canvas.movement","canvas.resize","canvas.zoom","canvas.movementZoom","canvas.changeShow","canvas.changeDatabase","canvas.changeDatabaseName","canvas.changeCanvasType","canvas.changeLanguage","canvas.changeTableCase","canvas.changeColumnCase","canvas.changeRelationshipDataTypeSync","canvas.changeRelationshipOptimization","canvas.moveColumnOrder","canvas.changeHighlightTheme","canvas.changeBracketType","canvas.changePluginSerialization","editor.loadJson","editor.clear"],oS=["table.add","table.move","table.remove","table.changeName","table.changeComment","table.sort","column.add","column.addCustom","column.remove","column.changeName","column.changeComment","column.changeDataType","column.changeDefault","column.changeAutoIncrement","column.changePrimaryKey","column.changeUnique","column.changeNotNull","column.move","relationship.add","relationship.remove","relationship.hide","relationship.show","relationship.changeRelationshipType","relationship.changeStartRelationshipType","relationship.changeIdentification","memo.add","memo.move","memo.remove","memo.changeValue","memo.resize","canvas.move","canvas.movement","canvas.resize","canvas.zoom","canvas.movementZoom","canvas.changeShow","canvas.changeDatabase","canvas.changeDatabaseName","editor.loadJson","editor.clear"],aS=["table.move","memo.move","memo.resize","canvas.movement","canvas.movementZoom"],sS=["table.select","table.selectEnd","table.selectAll","table.dragSelect","column.active","column.activeEnd","memo.select","memo.selectEnd","memo.selectAll","memo.dragSelect","canvas.move","canvas.movement","canvas.zoom","canvas.movementZoom","canvas.changeShow","canvas.changeDatabase","canvas.changeCanvasType","canvas.changeLanguage","canvas.changeTableCase","canvas.changeColumnCase","canvas.moveColumnOrder","canvas.changeHighlightTheme","canvas.changeBracketType","editor.focusTable","editor.focusColumn","editor.focusTableEnd","editor.focusMoveTable","editor.editTableEnd","editor.selectAllColumn","editor.initLoadJson","editor.initClear","editor.changeViewport","editor.findActive","editor.findActiveEnd","editor.readonly","editor.filter.active","editor.filter.activeEnd","editor.filter.add","editor.filter.remove","editor.filter.changeColumnType","editor.filter.changeFilterCode","editor.filter.changeValue","editor.filter.move","editor.filter.changeOperatorType","editor.filter.focus","editor.filter.focusFilter","editor.filter.focusEnd","editor.filter.focusMove","editor.filter.edit","editor.filter.editEnd","editor.filter.selectAll","editor.filter.draggable","editor.filter.draggableEnd"],lS=fr(Xc,Kc),sa=fr(cp,x$),cS=e=>lS(xt(e)?Number(e.replace(/[^0-9]/g,"")):e),uS=e=>sa(xt(e)?Number(e.replace(/[^0-9]/g,"")):e),rg=e=>`${(e*100).toFixed()}%`;function dS({canvasState:e,editorState:{viewport:t}},n){const r=fr(t.height-e.height,0),i=fr(t.width-e.width,0);e.scrollTop=r(n.scrollTop),e.scrollLeft=i(n.scrollLeft)}function fS({canvasState:e,editorState:{viewport:t}},n){const r=fr(t.height-e.height,0),i=fr(t.width-e.width,0);e.scrollTop=r(e.scrollTop+n.movementY),e.scrollLeft=i(e.scrollLeft+n.movementX)}function hS({canvasState:e},t){e.width=t.width,e.height=t.height}function pS({canvasState:e},t){e.zoomLevel=jo(sa(t.zoomLevel),2)}function mS({canvasState:e},t){e.zoomLevel=jo(sa(e.zoomLevel+t.movementZoomLevel),2)}function gS({canvasState:{show:e}},t){e[t.showKey]=t.value}function vS({canvasState:e},t){e.database=t.database}function yS({canvasState:e},t){e.databaseName=t.value}function bS({canvasState:e},t){e.canvasType=t.canvasType}function xS({canvasState:e},t){e.language=t.language}function wS({canvasState:e},t){e.tableCase=t.nameCase}function CS({canvasState:e},t){e.columnCase=t.nameCase}function kS({canvasState:{setting:e}},t){e.relationshipDataTypeSync=t.value}function $S({canvasState:{setting:e}},t){e.relationshipOptimization=t.value}function TS({canvasState:{setting:{columnOrder:e}}},t){if(t.columnType===t.targetColumnType)return;const n=e.indexOf(t.targetColumnType),r=e.indexOf(t.columnType);n===-1||r===-1||(e.splice(r,1),e.splice(n,0,t.columnType))}function ES({canvasState:e},t){e.highlightTheme=t.highlightTheme}function IS({canvasState:e},t){e.bracketType=t.bracketType}function SS({canvasState:e},t){e.pluginSerializationMap[t.key]=t.value}const _S={"canvas.move":dS,"canvas.movement":fS,"canvas.resize":hS,"canvas.zoom":pS,"canvas.movementZoom":mS,"canvas.changeShow":gS,"canvas.changeDatabase":vS,"canvas.changeDatabaseName":yS,"canvas.changeCanvasType":bS,"canvas.changeLanguage":xS,"canvas.changeTableCase":wS,"canvas.changeColumnCase":CS,"canvas.changeRelationshipDataTypeSync":kS,"canvas.changeRelationshipOptimization":$S,"canvas.moveColumnOrder":TS,"canvas.changeHighlightTheme":ES,"canvas.changeBracketType":IS,"canvas.changePluginSerialization":SS},yi=(e,t)=>U("canvas.move",{scrollTop:e,scrollLeft:t}),pr=(e,t)=>U("canvas.movement",{movementX:e,movementY:t}),Tu=(e,t)=>U("canvas.resize",{width:e,height:t}),Eu=e=>U("canvas.zoom",{zoomLevel:sa(e)}),js=e=>U("canvas.movementZoom",{movementZoomLevel:e}),ig=({canvasState:{show:e}},t)=>U("canvas.changeShow",{showKey:t,value:!e[t]}),Iu=e=>U("canvas.changeDatabase",{database:e}),Su=e=>U("canvas.changeDatabaseName",{value:e}),og=e=>U("canvas.changeCanvasType",{canvasType:e}),ag=e=>U("canvas.changeLanguage",{language:e}),sg=e=>U("canvas.changeTableCase",{nameCase:e}),lg=e=>U("canvas.changeColumnCase",{nameCase:e}),cg=e=>U("canvas.changeRelationshipDataTypeSync",{value:e}),AS=e=>U("canvas.changeRelationshipOptimization",{value:e}),ug=(e,t)=>U("canvas.moveColumnOrder",{columnType:e,targetColumnType:t}),dg=e=>U("canvas.changeHighlightTheme",{highlightTheme:e}),fg=e=>U("canvas.changeBracketType",{bracketType:e}),NS=Object.freeze(Object.defineProperty({__proto__:null,changeBracketType:fg,changeCanvasShow:ig,changeCanvasType:og,changeColumnCase:lg,changeDatabase:Iu,changeDatabaseName:Su,changeHighlightTheme:dg,changeLanguage:ag,changePluginSerialization:(e,t)=>U("canvas.changePluginSerialization",{key:e,value:t}),changeRelationshipDataTypeSync:cg,changeRelationshipOptimization:AS,changeTableCase:sg,moveCanvas:yi,moveColumnOrder:ug,movementCanvas:pr,movementZoomCanvas:js,resizeCanvas:Tu,zoomCanvas:Eu},Symbol.toStringTag,{value:"Module"}));function kt(e,t,n){const r=B(e,t);return r?B(r.columns,n):null}function hg(e,t,n,r=[]){const i=e.pop();return i&&(Ae(r,i.id)===-1&&(r.push(i),n.forEach(o=>{const{start:a,end:c}=o,d=a.columnIds.indexOf(i.id);if(d!==-1){const p=c.columnIds[d],m=kt(t,c.tableId,p);m&&e.push(m)}else{const p=c.columnIds.indexOf(i.id);if(p!==-1){const m=a.columnIds[p],g=kt(t,a.tableId,m);g&&e.push(g)}}})),hg(e,t,n,r)),r}function Fs(e,t,n,r){const i=kt(e,t,n);return i?!i.option[r]:!1}function pg(e,t){const n=[];return t.forEach(r=>{const i=B(e.columns,r);i&&n.push(i)}),n}const Hs=fr(be,w$),Gs=fr(be,1e4),OS=["ZeroOneN","One","N"],MS={ZeroOneN:"ZeroN",One:"OneOnly",N:"OneN"},mg=e=>OS.includes(e)?MS[e]:e,DS=e=>xt(e.id)&&Qi(e.identification)&&xt(e.relationshipType)&&fi(e.start)&&fi(e.end)&&xt(e.start.tableId)&&Jt(e.start.x)&&Jt(e.start.y)&&xt(e.start.direction)&&Dr(e.start.columnIds)&&xt(e.end.tableId)&&Jt(e.end.x)&&Jt(e.end.y)&&xt(e.end.direction)&&Dr(e.end.columnIds);class gg{constructor({addRelationship:t,loadRelationship:n}){le(this,"id");le(this,"identification",!1);le(this,"relationshipType","ZeroN");le(this,"startRelationshipType","Dash");le(this,"start",{tableId:"",columnIds:[],x:0,y:0,direction:"bottom"});le(this,"end",{tableId:"",columnIds:[],x:0,y:0,direction:"bottom"});le(this,"constraintName","");le(this,"visible",!0);if(t){const{id:r,relationshipType:i,start:o,end:a,constraintName:c}=t;this.id=r,this.relationshipType=mg(i),this.start.tableId=o.tableId,this.start.columnIds=[...o.columnIds],this.end.tableId=a.tableId,this.end.columnIds=[...a.columnIds],this.constraintName=c}else if(n&&DS(n)){const{id:r,identification:i,relationshipType:o,startRelationshipType:a,start:c,end:d,constraintName:p,visible:m}=It(n);this.id=r,this.identification=i,this.relationshipType=mg(o),this.start=c,this.end=d,this.constraintName=p||"",a&&(this.startRelationshipType=a),Qi(m)&&(this.visible=m)}else throw new Error("not found relationship")}}function RS({relationshipState:{relationships:e},tableState:{tables:t}},n){const{start:r,end:i}=n,o=B(t,r.tableId),a=B(t,i.tableId);!r.columnIds.length||!o||!a||e.push(new gg({addRelationship:n}))}function _u(e,t){const{relationshipState:{relationships:n}}=e;for(let r=0;r<n.length;r++){const i=n[r];t.relationshipIds.includes(i.id)&&(n.splice(r,1),r--,Nu(e,i.end.tableId,i.end.columnIds))}}function LS({relationshipState:{relationships:e}},t){const n=B(e,t.relationshipId);n&&(n.relationshipType=t.relationshipType)}function vg({relationshipState:{relationships:e}},t){const n=B(e,t.relationshipId);n&&(n.startRelationshipType=t.startRelationshipType)}function yg({relationshipState:{relationships:e}},t){const n=B(e,t.relationshipId);n&&(n.identification=t.identification)}function bg({relationshipState:{relationships:e},tableState:{tables:t}},n){const r=B(t,n.end.tableId);!r||!B(t,n.start.tableId)||(e.push(new gg({loadRelationship:n})),n.end.columnIds.forEach(i=>{const o=B(r.columns,i);o&&(o.option.primaryKey?(o.ui.pfk=!0,o.ui.pk=!1,o.ui.fk=!1):(o.ui.pfk=!1,o.ui.pk=!1,o.ui.fk=!0))}))}function PS({relationshipState:{relationships:e}},t){const n=B(e,t.relationshipId);n&&(n.visible=!1)}function BS({relationshipState:{relationships:e}},t){const n=B(e,t.relationshipId);n&&(n.visible=!0)}const US={"relationship.add":RS,"relationship.remove":_u,"relationship.changeRelationshipType":LS,"relationship.changeStartRelationshipType":vg,"relationship.changeIdentification":yg,"relationship.load":bg,"relationship.hide":PS,"relationship.show":BS};function Au(e){const{relationships:t}=e.relationshipState,{tables:n}=e.tableState;t.forEach(r=>{const{end:i}=r,o=B(n,i.tableId);if(!o)return;const c=pg(o,i.columnIds).every(d=>d.option.primaryKey);c!==r.identification&&yg(e,{relationshipId:r.id,identification:c})})}function Vs(e){const{relationships:t}=e.relationshipState,{tables:n}=e.tableState;t.forEach(r=>{const{end:i}=r,o=B(n,i.tableId);if(!o)return;const c=pg(o,i.columnIds).every(d=>d.option.notNull)?"Dash":"Ring";c!==r.startRelationshipType&&vg(e,{relationshipId:r.id,startRelationshipType:c})})}function zS(e,t){const{relationships:n}=e.relationshipState,r=[];n.forEach(i=>{const{start:o,end:a}=i;t.some(c=>c===o.tableId||c===a.tableId)&&r.push(i.id)}),r.length!==0&&_u(e,{relationshipIds:r})}function xg(e,t,n){const{relationships:r}=e.relationshipState,i=[],o=[];r.forEach(a=>{const{start:c,end:d}=a,p={startTableId:c.tableId,endTableId:d.tableId,columnIds:[]};if(t.id===c.tableId)for(let m=0;m<c.columnIds.length;m++){const g=c.columnIds[m];if(!n.includes(g))return;p.columnIds.push(d.columnIds[m]),c.columnIds.splice(m,1),d.columnIds.splice(m,1),m--}else if(t.id===d.tableId)for(let m=0;m<d.columnIds.length;m++){const g=d.columnIds[m];if(!n.includes(g))return;p.columnIds.push(g),c.columnIds.splice(m,1),d.columnIds.splice(m,1),m--}c.columnIds.length===0&&i.push(a.id),o.push(p)}),i.length!==0&&_u(e,{relationshipIds:i}),o.forEach(a=>{a.columnIds.length!==0&&(Nu(e,a.startTableId,a.columnIds),Nu(e,a.endTableId,a.columnIds))})}function Nu(e,t,n){const{tables:r}=e.tableState,i=B(r,t);i&&n.forEach(o=>{const a=B(i.columns,o);a&&(a.ui.fk?a.ui.fk=!1:a.ui.pfk&&(a.ui.pfk=!1,a.ui.pk=!0))})}function wg(e,t,n){const{indexes:r}=e.tableState;r.filter(o=>o.tableId===t.id).forEach(o=>{for(let a=0;a<o.columns.length;a++){const c=o.columns[a].id;n.includes(c)&&(o.columns.splice(a,1),a--)}})}function jS(e,t){const{indexes:n}=e.tableState;for(let r=0;r<n.length;r++){const i=n[r].tableId;t.includes(i)&&(n.splice(r,1),r--)}}class la{constructor({addColumn:t,addCustomColumn:n}){le(this,"id");le(this,"name","");le(this,"comment","");le(this,"dataType","");le(this,"default","");le(this,"option",{autoIncrement:!1,primaryKey:!1,unique:!1,notNull:!1});le(this,"ui",{active:!1,pk:!1,fk:!1,pfk:!1,widthName:be,widthComment:be,widthDataType:be,widthDefault:be});if(t){const{id:r}=t;this.id=r}else if(n){const{id:r,option:i,ui:o,value:a}=It(n);this.id=r,i&&Object.assign(this.option,i),o&&Object.assign(this.ui,o),a&&(this.name=a.name,this.comment=a.comment,this.dataType=a.dataType,this.default=a.default,this.ui.widthName=a.widthName,this.ui.widthComment=a.widthComment,this.ui.widthDataType=a.widthDataType,this.ui.widthDefault=a.widthDefault)}else throw new Error("not found column")}}function FS({tableState:{tables:e}},t){t.forEach(n=>{const r=B(e,n.tableId);r&&r.columns.push(new la({addColumn:n}))})}function HS({tableState:{tables:e}},t){t.forEach(n=>{const r=B(e,n.tableId);r&&r.columns.push(new la({addCustomColumn:n}))})}function GS(e,t){const{tableState:{tables:n}}=e,r=B(n,t.tableId);if(r){for(let i=0;i<r.columns.length;i++){const o=r.columns[i];t.columnIds.includes(o.id)&&(r.columns.splice(i,1),i--)}wg(e,r,t.columnIds),xg(e,r,t.columnIds),Au(e),Vs(e)}}function VS(e,t){const{tableState:{tables:n}}=e,r=B(n,t.tableId);if(r)for(let i=0;i<r.columns.length;i++){const o=r.columns[i];t.columnIds.includes(o.id)&&(r.columns.splice(i,1),i--)}}function YS({tableState:{tables:e}},t){const n=kt(e,t.tableId,t.columnId);n&&(n.name=t.value,n.ui.widthName=t.width)}function XS({tableState:{tables:e}},t){const n=kt(e,t.tableId,t.columnId);n&&(n.comment=t.value,n.ui.widthComment=Hs(t.width))}function KS({canvasState:{setting:e},tableState:{tables:t},relationshipState:{relationships:n}},r){const i=kt(t,r.tableId,r.columnId);if(!i)return;let o=[i];e.relationshipDataTypeSync&&(o=hg([i],t,n)),o.forEach(a=>{a.dataType=r.value,a.ui.widthDataType=r.width})}function WS({tableState:{tables:e}},t){const n=kt(e,t.tableId,t.columnId);n&&(n.default=t.value,n.ui.widthDefault=t.width)}function ZS({tableState:{tables:e}},t){const n=kt(e,t.tableId,t.columnId);n&&(n.option.autoIncrement=t.value)}function QS(e,t){const{tableState:{tables:n}}=e,r=kt(n,t.tableId,t.columnId);r&&(t.value?r.ui.fk?(r.ui.fk=!1,r.ui.pfk=!0):r.ui.pk=!0:r.ui.pfk?(r.ui.pfk=!1,r.ui.fk=!0):r.ui.pk=!1,r.option.primaryKey=t.value,Au(e))}function qS({tableState:{tables:e}},t){const n=kt(e,t.tableId,t.columnId);n&&(n.option.unique=t.value)}function JS(e,t){const{tableState:{tables:n}}=e,r=kt(n,t.tableId,t.columnId);r&&(r.option.notNull=t.value,Vs(e))}function e4(e,t){const{tableState:{tables:n}}=e,r=B(n,t.tableId),i=[];t.columnIds.forEach(c=>{const d=kt(n,t.tableId,c);d&&i.push(d)});const o=B(n,t.targetTableId),a=kt(n,t.targetTableId,t.targetColumnId);if(!(!r||!o||!i.length||!a)){if(t.tableId===t.targetTableId&&!t.columnIds.includes(t.targetColumnId)){const c=Ae(r.columns,a.id);if(c===-1)return;i.forEach(d=>{const p=Ae(r.columns,d.id);p!==-1&&r.columns.splice(p,1)}),r.columns.splice(c,0,...i)}else if(t.tableId!==t.targetTableId&&!t.columnIds.includes(t.targetColumnId)){const c=Ae(o.columns,a.id);if(c===-1)return;i.forEach(d=>{const p=Ae(r.columns,d.id);p!==-1&&r.columns.splice(p,1)}),o.columns.splice(c,0,...i),wg(e,r,t.columnIds),xg(e,r,t.columnIds),Au(e),Vs(e)}}}function t4({tableState:{tables:e}},t){t.forEach(n=>{const r=B(e,n.tableId);r&&n.columnIds.forEach(i=>{const o=B(r.columns,i);o&&(o.ui.active=!0)})})}function n4({tableState:{tables:e}},t){t.forEach(n=>{const r=B(e,n.tableId);r&&n.columnIds.forEach(i=>{const o=B(r.columns,i);o&&(o.ui.active=!1)})})}function r4({tableState:{tables:e}},t){const n=B(e,t.tableId);n&&t.columns.forEach((r,i)=>{r.ui.active=!1,n.columns.splice(t.indexList[i],0,r)})}const i4={"column.add":FS,"column.addCustom":HS,"column.remove":GS,"column.removeOnly":VS,"column.changeName":YS,"column.changeComment":XS,"column.changeDataType":KS,"column.changeDefault":WS,"column.changeAutoIncrement":ZS,"column.changePrimaryKey":QS,"column.changeUnique":qS,"column.changeNotNull":JS,"column.move":e4,"column.active":t4,"column.activeEnd":n4,"column.load":r4},o4=()=>({active:!1,operatorType:"OR",filters:[],focus:null,draggable:null}),Rn=["columnType","filterCode","value"],a4=()=>({panels:[],excludePanel:[],hasUndo:!1,hasRedo:!1,focusTable:null,drawRelationship:null,draggableColumn:null,viewport:{width:fs,height:op},copyColumns:[],findActive:!1,readonly:!1,filterState:o4(),erdUiEventNone:!1}),s4=["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","Tab"],l4=["tableName","tableComment"],ca=(e,t)=>Cs([...e,t]);function Cg(e,t,n){if(!t||t===n)return[n];const r=Ae(e,t),i=Ae(e,n);return r===-1?[n]:Op(r,i).map(o=>e[o].id)}const c4=(e,t,n,r)=>Cs([...t,...Cg(e,n,r)]);function co({canvasState:{show:e,setting:{columnOrder:t}}}){const n=["columnName",...Object.keys(e).filter(i=>e[i])],r=new RegExp(n.join("|"),"i");return[...t.filter(i=>r.test(i))]}const ua=e=>!!e.table.columns.length;function Ou(e){const{editorState:{focusTable:t}}=e;if(!t)return!0;const n=co(e);return n.indexOf(t.focusType)===n.length-1}function kg(e){const{editorState:{focusTable:t}}=e;return t?co(e).indexOf(t.focusType)===0:!0}function Mu({table:e,columnId:t}){return t?Ae(e.columns,t)===e.columns.length-1:!0}function Tg({table:e,columnId:t}){return t?Ae(e.columns,t)===0:!0}function Du(e){const t=co(e);return t[t.length-1]}function Ru(e){return co(e)[0]}function u4(e){const{editorState:{focusTable:t}}=e;if(!t)return"columnName";const n=co(e),r=n.indexOf(t.focusType);return Ou(e)?n[0]:n[r+1]}function d4(e){const{editorState:{focusTable:t}}=e;if(!t)return"columnName";const n=co(e),r=n.indexOf(t.focusType);return kg(e)?n[n.length-1]:n[r-1]}function f4(e,t){if(!e.columnId)return null;const n=Ae(e.table.columns,e.columnId);if(n<=0)return null;let r=null;for(let i=n;i>=0;i--){const o=e.table.columns[i];if(!t.includes(o.id)){r=o.id;break}}return r}function Ys({canvasState:{show:e}}){return e.tableComment?["tableName","tableComment"]:["tableName"]}function Lu(e){const{editorState:{focusTable:t}}=e;if(!t)return!0;const n=Ys(e);return n.indexOf(t.focusType)===n.length-1}function Eg(e){const{editorState:{focusTable:t}}=e;return t?Ys(e).indexOf(t.focusType)===0:!0}const uo=e=>l4.includes(e);function Ig(e){const{editorState:{focusTable:t}}=e;if(!t)return"tableName";const n=Ys(e),r=n.indexOf(t.focusType);return Lu(e)?n[0]:n[r+1]}function Sg(e){const{editorState:{focusTable:t}}=e;if(!t)return"tableName";const n=Ys(e),r=n.indexOf(t.focusType);return Eg(e)?n[n.length-1]:n[r-1]}function h4(e,t){const{editorState:{focusTable:n}}=e;if(n){if(uo(n.focusType)){if(ua(n)){const r=n.table.columns[n.table.columns.length-1].id;n.focusType=Du(e),n.columnId=r,n.prevSelectColumnId=r,n.selectColumnIds=[r]}}else if(Tg(n))n.focusType="tableName",n.columnId=null,n.prevSelectColumnId=null,n.selectColumnIds=[];else if(n.columnId){const r=Ae(n.table.columns,n.columnId),i=n.table.columns[r-1];n.columnId=i.id,n.prevSelectColumnId=i.id,t.shiftKey&&t.moveKey!=="Tab"?n.selectColumnIds=ca(n.selectColumnIds,i.id):n.selectColumnIds=[i.id]}}}function p4(e,t){const{editorState:{focusTable:n}}=e;if(n){if(uo(n.focusType)){if(ua(n)){const r=n.table.columns[0].id;n.focusType=Ru(e),n.columnId=r,n.prevSelectColumnId=r,n.selectColumnIds=[r]}}else if(Mu(n))n.focusType="tableName",n.columnId=null,n.prevSelectColumnId=null,n.selectColumnIds=[];else if(n.columnId){const r=Ae(n.table.columns,n.columnId),i=n.table.columns[r+1];n.columnId=i.id,n.prevSelectColumnId=i.id,t.shiftKey&&t.moveKey!=="Tab"?n.selectColumnIds=ca(n.selectColumnIds,i.id):n.selectColumnIds=[i.id]}}}function _g(e,t){const{editorState:{focusTable:n}}=e;if(n)if(uo(n.focusType))if(Lu(e))if(ua(n)){const r=n.table.columns[0].id;n.focusType=Ru(e),n.columnId=r,n.prevSelectColumnId=r,n.selectColumnIds=[r]}else n.focusType=Ig(e);else n.focusType=Ig(e);else if(Ou(e)){if(Mu(n))n.focusType="tableName",n.columnId=null,n.prevSelectColumnId=null,n.selectColumnIds=[];else if(n.columnId){const r=Ae(n.table.columns,n.columnId),i=n.table.columns[r+1];n.focusType=Ru(e),n.columnId=i.id,n.prevSelectColumnId=i.id,t.shiftKey&&t.moveKey!=="Tab"?n.selectColumnIds=ca(n.selectColumnIds,i.id):n.selectColumnIds=[i.id]}}else n.focusType=u4(e),!t.shiftKey&&n.columnId&&(n.prevSelectColumnId=n.columnId,n.selectColumnIds=[n.columnId])}function Ag(e,t){const{editorState:{focusTable:n},canvasState:{show:r}}=e;if(n)if(uo(n.focusType))if(Eg(e))if(ua(n)){const i=n.table.columns[n.table.columns.length-1].id;n.focusType=Du(e),n.columnId=i,n.prevSelectColumnId=i,n.selectColumnIds=[i]}else n.focusType=Sg(e);else n.focusType=Sg(e);else if(kg(e)){if(Tg(n))n.focusType=r.tableComment?"tableComment":"tableName",n.columnId=null,n.prevSelectColumnId=null,n.selectColumnIds=[];else if(n.columnId){const i=Ae(n.table.columns,n.columnId),o=n.table.columns[i-1];n.focusType=Du(e),n.columnId=o.id,n.prevSelectColumnId=o.id,t.shiftKey&&t.moveKey!=="Tab"?n.selectColumnIds=ca(n.selectColumnIds,o.id):n.selectColumnIds=[o.id]}}else n.focusType=d4(e),!t.shiftKey&&n.columnId&&(n.prevSelectColumnId=n.columnId,n.selectColumnIds=[n.columnId])}const Ng=e=>e.ui.zIndex,Xs=(e,t)=>Math.max(1,...e.map(Ng),...t.map(Ng))+1,Og=(e,t)=>e.top===t.y&&e.left===t.x;function Mg({canvasState:{scrollLeft:e,scrollTop:t},tableState:{tables:n},memoState:{memos:r}}){const i={x:hs-e,y:ps-t};let o=!1;do{o=!1;for(const a of n)if(Og(a.ui,i)){i.x+=ms,i.y+=ms,o=!0;break}for(const a of r)if(Og(a.ui,i)){i.x+=ms,i.y+=ms,o=!0;break}}while(o);return i}function Dg(e,t,n,r){const i=t.columns.filter(o=>o.option.primaryKey).map(o=>o.id);return U("relationship.add",{id:Be(),relationshipType:e,start:{tableId:t.id,columnIds:i},end:{tableId:n,columnIds:i.map(()=>Be())},constraintName:r})}const fo=e=>U("relationship.remove",{relationshipIds:e}),Rg=(e,t)=>U("relationship.changeRelationshipType",{relationshipId:e,relationshipType:t}),m4=(e,t)=>U("relationship.changeStartRelationshipType",{relationshipId:e,startRelationshipType:t}),Lg=(e,t)=>U("relationship.changeIdentification",{relationshipId:e,identification:t}),da=e=>U("relationship.load",e),Pg=e=>U("relationship.hide",{relationshipId:e}),Bg=e=>U("relationship.show",{relationshipId:e}),g4=Object.freeze(Object.defineProperty({__proto__:null,addRelationship:Dg,changeIdentification:Lg,changeRelationshipType:Rg,changeStartRelationshipType:m4,hideRelationship:Pg,loadRelationship:da,removeRelationship:fo,showRelationship:Bg},Symbol.toStringTag,{value:"Module"}));function*Pu(e,t=!0){yield Uu(),yield Fr();const n=Ug(e,t);yield n,yield ga(n.data.id)}function*fa(e,t,n){const{editorState:{drawRelationship:r}}=e;if(yield Ws(e,t,n),t||(yield Fr()),yield ga(n),!!r)if(r.start){const i=B(e.tableState.tables,n),o=`fk_${r.start.table.name}_to_${i==null?void 0:i.name}`.toLowerCase(),a=Dg(r.relationshipType,r.start.table,n,o),c=r.start.table,{start:d,end:p}=a.data,m=[];d.columnIds.forEach((g,y)=>{const b=B(c.columns,g);b&&m.push({tableId:p.tableId,id:p.columnIds[y],option:{autoIncrement:!1,primaryKey:!1,unique:!1,notNull:!0},ui:{active:!1,pk:!1,fk:!0,pfk:!1},value:{name:b.name,comment:b.comment,dataType:b.dataType,default:b.default,widthName:b.ui.widthName,widthComment:b.ui.widthComment,widthDataType:b.ui.widthDataType,widthDefault:b.ui.widthDefault}})}),yield U("column.addCustom",m),yield a,yield go()}else yield ev(e,n)}function*bi(){yield Uu(),yield qs()}function*v4(e,t){const n=new la({addColumn:{tableId:e,id:Be()}});n.name="id",n.dataType="INT",n.option.autoIncrement=!0,n.option.primaryKey=!0,n.ui.pk=!0;const r=new la({addColumn:{tableId:e,id:Be()}});r.name="created_at",r.dataType="timestamp",r.ui.widthName=t.getTextWidth("created_at");const i=new la({addColumn:{tableId:e,id:Be()}});i.name="updated_at",i.dataType="timestamp",r.ui.widthName=t.getTextWidth("updated_at"),r.ui.widthDataType=t.getTextWidth("timestamp"),yield ya(e,[i,r,n],[])}function Ug(e,t=!0){const{tableState:n,memoState:r}=e,i=Mg(e);return U("table.add",{id:Be(),ui:{active:t,left:i.x,top:i.y,zIndex:Xs(n.tables,r.memos)}})}const Bu=({tableState:{tables:e},memoState:{memos:t},canvasState:{zoomLevel:n}},r,i,o,a)=>U("table.move",{movementX:i/n,movementY:o/n,tableIds:r?e.filter(c=>c.ui.active).map(c=>c.id):[a],memoIds:r?t.filter(c=>c.ui.active).map(c=>c.id):[]}),Ks=({tableState:{tables:e}},t)=>U("table.remove",{tableIds:t?[t]:e.filter(n=>n.ui.active).map(n=>n.id)}),Ws=({tableState:{tables:e},memoState:{memos:t}},n,r)=>U("table.select",{ctrlKey:n,tableId:r,zIndex:Xs(e,t)}),Uu=()=>U("table.selectEnd",null),zg=()=>U("table.selectAll",null);function jg(e,t,n){const r=e.getTextWidth(n);return U("table.changeName",{tableId:t,value:n,width:r<be?be:r})}function Fg(e,t,n){const r=e.getTextWidth(n);return U("table.changeComment",{tableId:t,value:n,width:r<be?be:r})}const Hg=(e,t)=>U("table.dragSelect",{min:e,max:t}),zu=()=>U("table.sort",null),Gg=e=>U("table.load",e),ju=({tableState:{tables:e},memoState:{memos:t}},n,r,i)=>U("table.changeColor",{tableIds:n?e.filter(o=>o.ui.active).map(o=>o.id):[i],memoIds:n?t.filter(o=>o.ui.active).map(o=>o.id):[],color:r}),y4=Object.freeze(Object.defineProperty({__proto__:null,addTable:Ug,addTable$:Pu,addTableDefault$:v4,changeColorTable:ju,changeTableComment:Fg,changeTableName:jg,dragSelectTable:Hg,loadTable:Gg,moveTable:Bu,removeTable:Ks,selectAllTable:zg,selectEndTable:Uu,selectEndTable$:bi,selectTable:Ws,selectTable$:fa,sortTable:zu},Symbol.toStringTag,{value:"Module"}));function*Fu(e,t=!0){yield bi(),yield Fr(),yield Yg(e,t)}function*Vg(e,t,n){yield Kg(e,t,n),t||(yield bi())}function Yg(e,t=!0){const{tableState:n,memoState:r}=e,i=Mg(e);return U("memo.add",{id:Be(),ui:{active:t,left:i.x,top:i.y,zIndex:Xs(n.tables,r.memos),width:gs,height:vs}})}const Xg=({tableState:{tables:e},memoState:{memos:t},canvasState:{zoomLevel:n}},r,i,o,a)=>U("memo.move",{movementX:i/n,movementY:o/n,tableIds:r?e.filter(c=>c.ui.active).map(c=>c.id):[],memoIds:r?t.filter(c=>c.ui.active).map(c=>c.id):[a]}),Zs=({memoState:{memos:e}},t)=>U("memo.remove",{memoIds:t?[t]:e.filter(n=>n.ui.active).map(n=>n.id)}),Kg=({tableState:{tables:e},memoState:{memos:t}},n,r)=>U("memo.select",{ctrlKey:n,memoId:r,zIndex:Xs(e,t)}),Fr=()=>U("memo.selectEnd",null),Wg=()=>U("memo.selectAll",null),Hu=(e,t)=>U("memo.changeValue",{memoId:e,value:t}),Qs=(e,t,n,r,i)=>U("memo.resize",{memoId:e,top:t,left:n,width:r,height:i}),Zg=(e,t)=>U("memo.dragSelect",{min:e,max:t}),Qg=e=>U("memo.load",e),qg=({tableState:{tables:e},memoState:{memos:t}},n,r,i)=>U("memo.changeColor",{tableIds:n?e.filter(o=>o.ui.active).map(o=>o.id):[],memoIds:n?t.filter(o=>o.ui.active).map(o=>o.id):[i],color:r}),b4=Object.freeze(Object.defineProperty({__proto__:null,addMemo:Yg,addMemo$:Fu,changeColorMemo:qg,changeMemoValue:Hu,dragSelectMemo:Zg,loadMemo:Qg,moveMemo:Xg,removeMemo:Zs,resizeMemo:Qs,selectAllMemo:Wg,selectEndMemo:Fr,selectMemo:Kg,selectMemo$:Vg},Symbol.toStringTag,{value:"Module"}));function*Jg(e,t,n){const{editorState:{focusTable:r}}=e;r&&(t==="Tab"&&!n&&(uo(r.focusType)&&Lu(e)&&!ua(r)||!uo(r.focusType)&&Ou(e)&&Mu(r))?yield el(e,r.table.id):yield Qu(t,n))}function*Gu({editorState:e},t){var n;((n=e.drawRelationship)==null?void 0:n.relationshipType)===t?yield go():yield vv(t)}function*ev({tableState:{tables:e}},t){const n=B(e,t);if(n){if(!n.columns.some(r=>r.option.primaryKey)){const r=nd({autoIncrement:!1,primaryKey:!0,unique:!1,notNull:!0},{active:!1,pk:!0,fk:!1,pfk:!1},null,[t]);yield r;const i=r.data[0];yield po(t,i.id,"columnName")}yield yv(t)}}function*Hr(e){yield Js(),yield wv(e)}function*tv(e){yield kv(),yield Cv(e)}function*nv({editorState:e,tableState:{tables:t}}){const n=[...e.copyColumns],r=t.filter(i=>i.ui.active).map(i=>i.id);for(;n.length&&r.length;){const i=n.shift(),{option:o,ui:a}=i;yield nd({autoIncrement:o.autoIncrement,primaryKey:o.primaryKey,unique:o.unique,notNull:o.notNull},{active:!1,pk:o.primaryKey,fk:!1,pfk:!1},{name:i.name,dataType:i.dataType,default:i.default,comment:i.comment,widthName:a.widthName,widthDataType:a.widthDataType,widthDefault:a.widthDefault,widthComment:a.widthComment},r)}}function*Vu(){yield Ev(),yield bi(),yield Fr()}function*ha(e){e?(yield mo(),yield go(),yield qu(),yield Ju(e)):yield Ju(e)}const pa=(e,t)=>Cs([...e,t]);function rv(e,t,n){if(!t||t===n)return[n];const r=Ae(e,t),i=Ae(e,n);return r===-1?[n]:Op(r,i).map(o=>e[o].id)}const x4=(e,t,n,r)=>Cs([...t,...rv(e,n,r)]),ho=e=>Rn.includes(e),ma=e=>!!e.filters.length;function iv({filters:e,focus:t}){return!t||!t.filterId?void 0:Ae(e,t.filterId)===0}function Yu({filters:e,focus:t}){return!t||!t.filterId?void 0:Ae(e,t.filterId)===e.length-1}function Xu({focus:e}){return!e||!e.filterId?void 0:Rn.indexOf(e.focusType)===Rn.length-1}function ov({focus:e}){return!e||!e.filterId?void 0:Rn.indexOf(e.focusType)===0}function w4(e){const{focus:t}=e;if(!t||!t.filterId)return"columnType";const n=Rn.indexOf(t.focusType);return Xu(e)?Rn[0]:Rn[n+1]}function C4(e){const{focus:t}=e;if(!t||!t.filterId)return"columnType";const n=Rn.indexOf(t.focusType);return ov(e)?Rn[Rn.length-1]:Rn[n-1]}function k4({focus:e,filters:t},n){if(!(e!=null&&e.filterId))return null;const r=Ae(t,e.filterId);if(r<=0)return null;let i=null;for(let o=r;o>=0;o--){const a=t[o];if(!n.includes(a.id)){i=a.id;break}}return i}function $4(e,t){const{focus:n,filters:r}=e;if(n){if(ho(n.focusType)){if(iv(e))n.focusType="operatorType",n.filterId=null,n.prevSelectFilterId=null,n.selectFilterIds=[];else if(n.filterId){const i=Ae(r,n.filterId),o=r[i-1];n.filterId=o.id,n.prevSelectFilterId=o.id,t.shiftKey&&t.moveKey!=="Tab"?n.selectFilterIds=pa(n.selectFilterIds,o.id):n.selectFilterIds=[o.id]}}else if(ma(e)){const i=r[r.length-1].id;n.focusType="value",n.filterId=i,n.prevSelectFilterId=i,n.selectFilterIds=[i]}}}function T4(e,t){const{focus:n,filters:r}=e;if(n){if(ho(n.focusType)){if(Yu(e))n.focusType="operatorType",n.filterId=null,n.prevSelectFilterId=null,n.selectFilterIds=[];else if(n.filterId){const i=Ae(r,n.filterId),o=r[i+1];n.filterId=o.id,n.prevSelectFilterId=o.id,t.shiftKey&&t.moveKey!=="Tab"?n.selectFilterIds=pa(n.selectFilterIds,o.id):n.selectFilterIds=[o.id]}}else if(ma(e)){const i=r[0].id;n.focusType="columnType",n.filterId=i,n.prevSelectFilterId=i,n.selectFilterIds=[i]}}}function av(e,t){const{focus:n,filters:r}=e;if(n){if(ho(n.focusType))if(Xu(e)){if(Yu(e))n.focusType="operatorType",n.filterId=null,n.prevSelectFilterId=null,n.selectFilterIds=[];else if(n.filterId){const i=Ae(r,n.filterId),o=r[i+1];n.focusType="columnType",n.filterId=o.id,n.prevSelectFilterId=o.id,t.shiftKey&&t.moveKey!=="Tab"?n.selectFilterIds=pa(n.selectFilterIds,o.id):n.selectFilterIds=[o.id]}}else n.focusType=w4(e),!t.shiftKey&&n.filterId&&(n.prevSelectFilterId=n.filterId,n.selectFilterIds=[n.filterId]);else if(ma(e)){const i=r[0].id;n.focusType="columnType",n.filterId=i,n.prevSelectFilterId=i,n.selectFilterIds=[i]}}}function sv(e,t){const{focus:n,filters:r}=e;if(n){if(ho(n.focusType))if(ov(e)){if(iv(e))n.focusType="operatorType",n.filterId=null,n.prevSelectFilterId=null,n.selectFilterIds=[];else if(n.filterId){const i=Ae(r,n.filterId),o=r[i-1];n.focusType="value",n.filterId=o.id,n.prevSelectFilterId=o.id,t.shiftKey&&t.moveKey!=="Tab"?n.selectFilterIds=pa(n.selectFilterIds,o.id):n.selectFilterIds=[o.id]}}else n.focusType=C4(e),!t.shiftKey&&n.filterId&&(n.prevSelectFilterId=n.filterId,n.selectFilterIds=[n.filterId]);else if(ma(e)){const i=r[r.length-1].id;n.focusType="value",n.filterId=i,n.prevSelectFilterId=i,n.selectFilterIds=[i]}}}function*E4(){yield cv(),yield Wu()}function*I4(){yield Ku(),yield fv()}function*lv(){const e=uv();yield e,yield Zu(e.data.id,"columnType")}function*S4({editorState:{filterState:e}},t){if(e.focus&&e.focus.filterId){const n=k4(e,t);n?yield Zu(n,e.focus.focusType):yield Wu()}yield dv(t)}function*_4({editorState:{filterState:e}},t,n){const{focus:r}=e;r&&(t==="Tab"&&!n&&ho(r.focusType)&&Xu(e)&&Yu(e)||!ho(r.focusType)&&!ma(e)?yield lv():yield hv(t,n))}const cv=()=>U("editor.filter.active",null),Ku=()=>U("editor.filter.activeEnd",null),uv=()=>U("editor.filter.add",{id:Be()}),dv=e=>U("editor.filter.remove",{filterIds:e}),A4=(e,t)=>U("editor.filter.changeColumnType",{filterId:e,columnType:t}),N4=(e,t)=>U("editor.filter.changeFilterCode",{filterId:e,filterCode:t}),O4=(e,t)=>U("editor.filter.changeValue",{filterId:e,value:t}),M4=(e,t)=>U("editor.filter.move",{filterIds:e,targetFilterId:t}),D4=e=>U("editor.filter.changeOperatorType",{operatorType:e}),Wu=e=>U("editor.filter.focus",{focusType:e}),Zu=(e,t,n=!1,r=!1)=>U("editor.filter.focusFilter",{filterId:e,focusType:t,ctrlKey:n,shiftKey:r}),fv=()=>U("editor.filter.focusEnd",null),hv=(e,t)=>U("editor.filter.focusMove",{moveKey:e,shiftKey:t}),R4=()=>U("editor.filter.edit",null),pv=()=>U("editor.filter.editEnd",null),L4=()=>U("editor.filter.selectAll",null),P4=({editorState:{filterState:{focus:e}}},t,n)=>U("editor.filter.draggable",{filterIds:n&&e?[...e.selectFilterIds]:[t]}),B4=()=>U("editor.filter.draggableEnd",null),mv=(e,t)=>U("editor.hasUndoRedo",{hasUndo:e,hasRedo:t}),ga=(e,t)=>U("editor.focusTable",{tableId:e,focusType:t}),po=(e,t,n,r=!1,i=!1)=>U("editor.focusColumn",{tableId:e,columnId:t,focusType:n,ctrlKey:r,shiftKey:i}),qs=()=>U("editor.focusTableEnd",null),Qu=(e,t)=>U("editor.focusMoveTable",{moveKey:e,shiftKey:t}),va=()=>U("editor.editTable",null),mo=()=>U("editor.editTableEnd",null),gv=()=>U("editor.selectAllColumn",null),vv=e=>U("editor.drawStartRelationship",{relationshipType:e}),yv=e=>U("editor.drawStartAddRelationship",{tableId:e}),go=()=>U("editor.drawEndRelationship",null),bv=(e,t)=>U("editor.drawRelationship",{x:e,y:t}),xv=({editorState:{focusTable:e}},t,n,r)=>U("editor.draggableColumn",{tableId:t,columnIds:r&&e?[...e.selectColumnIds]:[n]}),qu=()=>U("editor.draggableColumnEnd",null),wv=e=>U("editor.loadJson",{value:e}),Cv=e=>U("editor.initLoadJson",{value:e}),Js=()=>U("editor.clear",null),kv=()=>U("editor.initClear",null),$v=(e,t)=>U("editor.changeViewport",{width:e,height:t}),Tv=(e,t)=>U("editor.copyColumn",{tableId:e,columnIds:t}),Ev=()=>U("editor.findActive",null),vo=()=>U("editor.findActiveEnd",null),Ju=e=>U("editor.readonly",{readonly:e}),U4=Object.freeze(Object.defineProperty({__proto__:null,addFilter:uv,addFilter$:lv,changeFilterCode:N4,changeFilterColumnType:A4,changeFilterOperatorType:D4,changeFilterValue:O4,changeViewport:$v,clear:Js,copyColumn:Tv,draggableColumn:xv,draggableColumnEnd:qu,draggableFilter:P4,draggableFilterEnd:B4,drawEndRelationship:go,drawRelationship:bv,drawStartAddRelationship:yv,drawStartAddRelationship$:ev,drawStartRelationship:vv,drawStartRelationship$:Gu,editFilter:R4,editFilterEnd:pv,editTable:va,editTableEnd:mo,filterActive:cv,filterActive$:E4,filterActiveEnd:Ku,filterActiveEnd$:I4,filterFocus:Wu,findActive:Ev,findActive$:Vu,findActiveEnd:vo,focusColumn:po,focusFilter:Zu,focusFilterEnd:fv,focusMoveFilter:hv,focusMoveFilter$:_4,focusMoveTable:Qu,focusMoveTable$:Jg,focusTable:ga,focusTableEnd:qs,hasUndoRedo:mv,initClear:kv,initLoadJson:Cv,initLoadJson$:tv,loadJson:wv,loadJson$:Hr,moveFilter:M4,pasteColumn$:nv,readonlyEditor:Ju,readonlyEditor$:ha,removeFilter:dv,removeFilter$:S4,selectAllColumn:gv,selectAllFilter:L4},Symbol.toStringTag,{value:"Module"}));function*el(e,t){const n=Sv(e,t);yield n;const r=n.data[n.data.length-1];yield po(r.tableId,r.id,"columnName")}function*ed({editorState:e},t,n){if(e.focusTable&&e.focusTable.columnId){const r=f4(e.focusTable,n);r?yield po(e.focusTable.table.id,r,e.focusTable.focusType):yield ga(e.focusTable.table.id,"tableName")}yield tl(t,n)}function*td(e,t,n){const{tableState:{tables:r}}=e,i=Ov(e,t,n);yield i;const o=kt(r,t,n);!i.data.value||!o||o.option.notNull||(yield rl(e,t,n))}function*Iv(e,t,n,r,i){yield Mv(t,n,r,i),!(t===r||n.includes(i))&&(yield U("editor.draggableColumn",{tableId:r,columnIds:n}),yield Ws(e,!1,r),yield po(r,n[0],"columnName"))}const Sv=(e,t)=>U("column.add",t?[{id:Be(),tableId:t}]:e.tableState.tables.filter(n=>n.ui.active).map(n=>({id:Be(),tableId:n.id}))),nd=(e,t,n,r)=>U("column.addCustom",r.map(i=>({tableId:i,id:Be(),option:e,ui:t,value:n}))),tl=(e,t)=>U("column.remove",{tableId:e,columnIds:t}),rd=(e,t)=>U("column.removeOnly",{tableId:e,columnIds:t});function _v(e,t,n,r){const i=e.getTextWidth(r);return U("column.changeName",{tableId:t,columnId:n,value:r,width:i<be?be:i})}function Av(e,t,n,r){const i=e.getTextWidth(r);return U("column.changeComment",{tableId:t,columnId:n,value:r,width:i<be?be:i})}function nl(e,t,n,r){const i=e.getTextWidth(r);return U("column.changeDataType",{tableId:t,columnId:n,value:r,width:i<be?be:i})}function Nv(e,t,n,r){const i=e.getTextWidth(r);return U("column.changeDefault",{tableId:t,columnId:n,value:r,width:i<be?be:i})}const id=({tableState:{tables:e}},t,n)=>U("column.changeAutoIncrement",{tableId:t,columnId:n,value:Fs(e,t,n,"autoIncrement")}),Ov=({tableState:{tables:e}},t,n)=>U("column.changePrimaryKey",{tableId:t,columnId:n,value:Fs(e,t,n,"primaryKey")}),od=({tableState:{tables:e}},t,n)=>U("column.changeUnique",{tableId:t,columnId:n,value:Fs(e,t,n,"unique")}),rl=({tableState:{tables:e}},t,n)=>U("column.changeNotNull",{tableId:t,columnId:n,value:Fs(e,t,n,"notNull")}),Mv=(e,t,n,r)=>U("column.move",{tableId:e,columnIds:t,targetTableId:n,targetColumnId:r}),Dv=({start:e,end:t})=>U("column.active",[{tableId:e.tableId,columnIds:e.columnIds},{tableId:t.tableId,columnIds:t.columnIds}]),Rv=({start:e,end:t})=>U("column.activeEnd",[{tableId:e.tableId,columnIds:e.columnIds},{tableId:t.tableId,columnIds:t.columnIds}]),ya=(e,t,n)=>U("column.load",{tableId:e,columns:t,indexList:n}),z4=Object.freeze(Object.defineProperty({__proto__:null,activeColumn:Dv,activeEndColumn:Rv,addColumn:Sv,addColumn$:el,addCustomColumn:nd,changeColumnAutoIncrement:id,changeColumnComment:Av,changeColumnDataType:nl,changeColumnDefault:Nv,changeColumnName:_v,changeColumnNotNull:rl,changeColumnPrimaryKey:Ov,changeColumnPrimaryKey$:td,changeColumnUnique:od,loadColumn:ya,moveColumn:Mv,moveColumn$:Iv,removeColumn:tl,removeColumn$:ed,removeOnlyColumn:rd},Symbol.toStringTag,{value:"Module"}));/*!
 * @dineug/erd-editor-schema
 * @version 0.1.0 | Mon Jan 22 2024
 * @author SeungHwan-Lee <dineug2@gmail.com>
 * @license MIT
 */var j4=typeof global=="object"&&global&&global.Object===Object&&global;const F4=j4;var H4=typeof self=="object"&&self&&self.Object===Object&&self,G4=F4||H4||Function("return this")();const ad=G4;var V4=ad.Symbol;const Gr=V4;var Lv=Object.prototype,Y4=Lv.hasOwnProperty,X4=Lv.toString,ba=Gr?Gr.toStringTag:void 0;function K4(e){var t=Y4.call(e,ba),n=e[ba];try{e[ba]=void 0;var r=!0}catch{}var i=X4.call(e);return r&&(t?e[ba]=n:delete e[ba]),i}var W4=Object.prototype,Z4=W4.toString;function Q4(e){return Z4.call(e)}var q4="[object Null]",J4="[object Undefined]",Pv=Gr?Gr.toStringTag:void 0;function sd(e){return e==null?e===void 0?J4:q4:Pv&&Pv in Object(e)?K4(e):Q4(e)}function il(e){return e!=null&&typeof e=="object"}var e3="[object Symbol]";function ld(e){return typeof e=="symbol"||il(e)&&sd(e)==e3}function Bv(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var t3=Array.isArray;const xa=t3;var n3=1/0,Uv=Gr?Gr.prototype:void 0,zv=Uv?Uv.toString:void 0;function jv(e){if(typeof e=="string")return e;if(xa(e))return Bv(e,jv)+"";if(ld(e))return zv?zv.call(e):"";var t=e+"";return t=="0"&&1/e==-n3?"-0":t}function ol(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Fv(e){return e}var r3="[object AsyncFunction]",i3="[object Function]",o3="[object GeneratorFunction]",a3="[object Proxy]";function Hv(e){if(!ol(e))return!1;var t=sd(e);return t==i3||t==o3||t==r3||t==a3}var s3=ad["__core-js_shared__"];const cd=s3;var Gv=function(){var e=/[^.]+$/.exec(cd&&cd.keys&&cd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function l3(e){return!!Gv&&Gv in e}var c3=Function.prototype,u3=c3.toString;function d3(e){if(e!=null){try{return u3.call(e)}catch{}try{return e+""}catch{}}return""}var f3=/[\\^$.*+?()[\]{}|]/g,h3=/^\[object .+?Constructor\]$/,p3=Function.prototype,m3=Object.prototype,g3=p3.toString,v3=m3.hasOwnProperty,y3=RegExp("^"+g3.call(v3).replace(f3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function b3(e){if(!ol(e)||l3(e))return!1;var t=Hv(e)?y3:h3;return t.test(d3(e))}function x3(e,t){return e==null?void 0:e[t]}function ud(e,t){var n=x3(e,t);return b3(n)?n:void 0}function w3(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var C3=800,k3=16,$3=Date.now;function T3(e){var t=0,n=0;return function(){var r=$3(),i=k3-(r-n);if(n=r,i>0){if(++t>=C3)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function E3(e){return function(){return e}}var I3=function(){try{var e=ud(Object,"defineProperty");return e({},"",{}),e}catch{}}();const al=I3;var S3=al?function(e,t){return al(e,"toString",{configurable:!0,enumerable:!1,value:E3(t),writable:!0})}:Fv,_3=T3(S3);const Vv=_3;function A3(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function N3(e){return e!==e}function O3(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function M3(e,t,n){return t===t?O3(e,t,n):A3(e,N3,n)}function D3(e,t){var n=e==null?0:e.length;return!!n&&M3(e,t,0)>-1}var R3=9007199254740991,L3=/^(?:0|[1-9]\d*)$/;function Yv(e,t){var n=typeof e;return t=t??R3,!!t&&(n=="number"||n!="symbol"&&L3.test(e))&&e>-1&&e%1==0&&e<t}function P3(e,t,n){t=="__proto__"&&al?al(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Xv(e,t){return e===t||e!==e&&t!==t}var B3=Object.prototype,U3=B3.hasOwnProperty;function z3(e,t,n){var r=e[t];(!(U3.call(e,t)&&Xv(r,n))||n===void 0&&!(t in e))&&P3(e,t,n)}var Kv=Math.max;function Wv(e,t,n){return t=Kv(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Kv(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=r[i];return c[t]=n(a),w3(e,this,c)}}function j3(e,t){return Vv(Wv(e,t,Fv),e+"")}var F3=9007199254740991;function Zv(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=F3}function H3(e){return e!=null&&Zv(e.length)&&!Hv(e)}var G3="[object Arguments]";function Qv(e){return il(e)&&sd(e)==G3}var qv=Object.prototype,V3=qv.hasOwnProperty,Y3=qv.propertyIsEnumerable,X3=Qv(function(){return arguments}())?Qv:function(e){return il(e)&&V3.call(e,"callee")&&!Y3.call(e,"callee")};const Jv=X3;function K3(e){return function(t){return e(t)}}var W3=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z3=/^\w*$/;function Q3(e,t){if(xa(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ld(e)?!0:Z3.test(e)||!W3.test(e)||t!=null&&e in Object(t)}var q3=ud(Object,"create");const wa=q3;function J3(){this.__data__=wa?wa(null):{},this.size=0}function e_(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var t_="__lodash_hash_undefined__",n_=Object.prototype,r_=n_.hasOwnProperty;function i_(e){var t=this.__data__;if(wa){var n=t[e];return n===t_?void 0:n}return r_.call(t,e)?t[e]:void 0}var o_=Object.prototype,a_=o_.hasOwnProperty;function s_(e){var t=this.__data__;return wa?t[e]!==void 0:a_.call(t,e)}var l_="__lodash_hash_undefined__";function c_(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=wa&&t===void 0?l_:t,this}function xi(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xi.prototype.clear=J3,xi.prototype.delete=e_,xi.prototype.get=i_,xi.prototype.has=s_,xi.prototype.set=c_;function u_(){this.__data__=[],this.size=0}function sl(e,t){for(var n=e.length;n--;)if(Xv(e[n][0],t))return n;return-1}var d_=Array.prototype,f_=d_.splice;function h_(e){var t=this.__data__,n=sl(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():f_.call(t,n,1),--this.size,!0}function p_(e){var t=this.__data__,n=sl(t,e);return n<0?void 0:t[n][1]}function m_(e){return sl(this.__data__,e)>-1}function g_(e,t){var n=this.__data__,r=sl(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function yo(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}yo.prototype.clear=u_,yo.prototype.delete=h_,yo.prototype.get=p_,yo.prototype.has=m_,yo.prototype.set=g_;var v_=ud(ad,"Map");const y_=v_;function b_(){this.size=0,this.__data__={hash:new xi,map:new(y_||yo),string:new xi}}function x_(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ll(e,t){var n=e.__data__;return x_(t)?n[typeof t=="string"?"string":"hash"]:n.map}function w_(e){var t=ll(this,e).delete(e);return this.size-=t?1:0,t}function C_(e){return ll(this,e).get(e)}function k_(e){return ll(this,e).has(e)}function $_(e,t){var n=ll(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Vr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Vr.prototype.clear=b_,Vr.prototype.delete=w_,Vr.prototype.get=C_,Vr.prototype.has=k_,Vr.prototype.set=$_;var T_="Expected a function";function dd(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(T_);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(dd.Cache||Vr),n}dd.Cache=Vr;var E_=500;function I_(e){var t=dd(e,function(r){return n.size===E_&&n.clear(),r}),n=t.cache;return t}var S_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,__=/\\(\\)?/g,A_=I_(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(S_,function(n,r,i,o){t.push(i?o.replace(__,"$1"):r||n)}),t});const N_=A_;function O_(e){return e==null?"":jv(e)}function cl(e,t){return xa(e)?e:Q3(e,t)?[e]:N_(O_(e))}var M_=1/0;function fd(e){if(typeof e=="string"||ld(e))return e;var t=e+"";return t=="0"&&1/e==-M_?"-0":t}function D_(e,t){t=cl(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[fd(t[n++])];return n&&n==r?e:void 0}function R_(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var e0=Gr?Gr.isConcatSpreadable:void 0;function L_(e){return xa(e)||Jv(e)||!!(e0&&e&&e[e0])}function hd(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=L_),i||(i=[]);++o<a;){var c=e[o];t>0&&n(c)?t>1?hd(c,t-1,n,r,i):R_(i,c):r||(i[i.length]=c)}return i}function P_(e){var t=e==null?0:e.length;return t?hd(e,1):[]}function B_(e){return Vv(Wv(e,void 0,P_),e+"")}var U_="__lodash_hash_undefined__";function z_(e){return this.__data__.set(e,U_),this}function j_(e){return this.__data__.has(e)}function ul(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Vr;++t<n;)this.add(e[t])}ul.prototype.add=ul.prototype.push=z_,ul.prototype.has=j_;function F_(e,t){return e.has(t)}function H_(e,t){return e!=null&&t in Object(e)}function G_(e,t,n){t=cl(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var a=fd(t[r]);if(!(o=e!=null&&n(e,a)))break;e=e[a]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&Zv(i)&&Yv(a,i)&&(xa(e)||Jv(e)))}function V_(e,t){return e!=null&&G_(e,t,H_)}function t0(e){return il(e)&&H3(e)}function Y_(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var X_=200;function K_(e,t,n,r){var i=-1,o=D3,a=!0,c=e.length,d=[],p=t.length;if(!c)return d;n&&(t=Bv(t,K3(n))),r?(o=Y_,a=!1):t.length>=X_&&(o=F_,a=!1,t=new ul(t));e:for(;++i<c;){var m=e[i],g=n==null?m:n(m);if(m=r||m!==0?m:0,a&&g===g){for(var y=p;y--;)if(t[y]===g)continue e;d.push(m)}else o(t,g,r)||d.push(m)}return d}var W_=j3(function(e,t){return t0(e)?K_(e,hd(t,1,t0,!0)):[]});const pd=W_;function Z_(e,t,n,r){if(!ol(e))return e;t=cl(t,e);for(var i=-1,o=t.length,a=o-1,c=e;c!=null&&++i<o;){var d=fd(t[i]),p=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(i!=a){var m=c[d];p=r?r(m,d,c):void 0,p===void 0&&(p=ol(m)?m:Yv(t[i+1])?[]:{})}z3(c,d,p),c=c[d]}return e}function Q_(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],c=D_(e,a);n(c,a)&&Z_(o,cl(a,e),c)}return o}function q_(e,t){return Q_(e,t,function(n,r){return V_(e,r)})}B_(function(e,t){return e==null?{}:q_(e,t)});const Ca=e=>t=>typeof t===e,J_=Ca("object"),$n=Ca("boolean"),tt=Ca("number"),Xe=Ca("string"),eA=Ca("undefined"),n0=e=>e===null,hn=e=>n0(e)||eA(e),{isArray:Ht}=Array,Ln=e=>J_(e)&&!n0(e)&&!Ht(e);((e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,i=-~(1.6*r*t/e.length);return(o=t)=>{let a="";for(;;){let c=n(i),d=i;for(;d--;)if(a+=e[c[d]&r]||"",a.length===o)return a}}})("useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",21,e=>{let t=globalThis.crypto;return t===void 0&&(t=require("node:crypto").webcrypto),t.getRandomValues(new Uint8Array(e))});const ka=(e,t)=>n=>Math.min(Math.max(n,e),t);function Q(e,t,n){return r=>{if(!n)return;const i=n[r];e(i)&&(t[r]=i)}}function Tn(e){return t=>Xe(t)&&e.includes(t)}function Zn(e){return t=>tt(t)&&e.includes(t)}function md(e,t,n){return Reflect.get(e,t)??n}function bo(){const e=Date.now();return{updateAt:e,createAt:e}}function xo(e,t){const n=Q(tt,e,t);n("updateAt"),n("createAt")}const tA=()=>({tableIds:[],relationshipIds:[],indexIds:[],memoIds:[]});function nA(e){const t=tA();if(!Ln(e)||hn(e))return t;const n=Q(Ht,t,e);return n("tableIds"),n("relationshipIds"),n("indexIds"),n("memoIds"),t}const rA=()=>({id:"",name:"",tableId:"",indexColumnIds:[],seqIndexColumnIds:[],unique:!1,meta:bo()});function iA(e){const t={};if(!Ln(e)||hn(e))return t;for(const n of Object.values(e)){if(!n)continue;const r=rA(),i=Q(Xe,r,n),o=Q($n,r,n),a=Q(Ht,r,n);i("id"),i("name"),i("tableId"),o("unique"),a("indexColumnIds"),a("seqIndexColumnIds"),xo(r.meta,n.meta),r.id&&(t[r.id]=r)}return t}const gd={ASC:1,DESC:2},r0=Object.values(gd),oA=()=>({id:"",indexId:"",columnId:"",orderType:gd.ASC,meta:bo()});function aA(e){const t={};if(!Ln(e)||hn(e))return t;for(const n of Object.values(e)){if(!n)continue;const r=oA(),i=Q(Xe,r,n);i("id"),i("indexId"),i("columnId"),Q(Zn(r0),r,n)("orderType"),xo(r.meta,n.meta),r.id&&(t[r.id]=r)}return t}const sA=()=>({});function lA(e){const t=sA();if(!Ln(e)||hn(e))return t;for(const[n,r]of Object.entries(e)){if(!Ht(r)||r.length!==4)continue;const[i,o,a,c]=r;if(Xe(i)&&tt(o)&&tt(a)&&Ln(c)){const d={},p=Q(tt,d,c);Object.keys(c).forEach(p),t[n]=[i,o,a,d]}}return t}const cA=()=>({id:"",value:"",ui:{x:200,y:100,zIndex:2,width:116,height:100,color:""},meta:bo()});function uA(e){const t={};if(!Ln(e)||hn(e))return t;for(const n of Object.values(e)){if(!n)continue;const r=cA(),i=Q(Xe,r,n),o=Q(tt,r.ui,n.ui),a=Q(Xe,r.ui,n.ui);i("id"),i("value"),a("color"),o("x"),o("y"),o("zIndex"),o("width"),o("height"),xo(r.meta,n.meta),r.id&&(t[r.id]=r)}return t}const vd={ZeroOne:2,ZeroN:4,OneOnly:8,OneN:16},i0=Object.values(vd),yd={ring:1,dash:2},o0=Object.values(yd),dl={left:1,right:2,top:4,bottom:8},bd=Object.values(dl),dA=()=>({id:"",identification:!1,relationshipType:vd.ZeroN,startRelationshipType:yd.dash,start:{tableId:"",columnIds:[],x:0,y:0,direction:dl.bottom},end:{tableId:"",columnIds:[],x:0,y:0,direction:dl.bottom},meta:bo()});function fA(e){const t={};if(!Ln(e)||hn(e))return t;for(const n of Object.values(e)){if(!n)continue;const r=dA(),i=Q(Xe,r,n),o=Q($n,r,n),a=Q(tt,r.start,n.start),c=Q(Xe,r.start,n.start),d=Q(tt,r.end,n.end),p=Q(Xe,r.end,n.end);i("id"),o("identification"),Q(Zn(i0),r,n)("relationshipType"),Q(Zn(o0),r,n)("startRelationshipType"),c("tableId"),a("x"),a("y"),Q(Zn(bd),r.start,n.start)("direction"),Q(Ht,r.start,n.start)("columnIds"),p("tableId"),d("x"),d("y"),Q(Zn(bd),r.end,n.end)("direction"),Q(Ht,r.end,n.end)("columnIds"),xo(r.meta,n.meta),r.id&&(t[r.id]=r)}return t}const xd={ERD:"ERD",visualization:"@dineug/erd-editor/builtin-visualization",schemaSQL:"@dineug/erd-editor/builtin-schema-sql",generatorCode:"@dineug/erd-editor/builtin-generator-code",settings:"settings"},hA=Object.values(xd),Yr={tableComment:1,columnComment:2,columnDataType:4,columnDefault:8,columnAutoIncrement:16,columnPrimaryKey:32,columnUnique:64,columnNotNull:128,relationship:256},mr={columnName:1,columnDataType:2,columnNotNull:4,columnUnique:8,columnAutoIncrement:16,columnDefault:32,columnComment:64},wd=Object.values(mr),Cd={MariaDB:1,MSSQL:2,MySQL:4,Oracle:8,PostgreSQL:16,SQLite:32},a0=Object.values(Cd),kd={GraphQL:1,csharp:2,Java:4,Kotlin:8,TypeScript:16,JPA:32,Scala:64},s0=Object.values(kd),fl={none:1,camelCase:2,pascalCase:4,snakeCase:8},$d=Object.values(fl),Td={none:1,doubleQuote:2,singleQuote:4,backtick:8},l0=Object.values(Td),c0=.1,u0=1,d0=2e3,f0=2e4,pA=Yr.tableComment|Yr.columnComment|Yr.columnDataType|Yr.columnDefault|Yr.columnPrimaryKey|Yr.columnNotNull|Yr.relationship,mA=()=>({width:2e3,height:2e3,scrollTop:0,scrollLeft:0,zoomLevel:1,show:pA,database:Cd.MySQL,databaseName:"",canvasType:xd.ERD,language:kd.GraphQL,tableNameCase:fl.pascalCase,columnNameCase:fl.camelCase,bracketType:Td.none,relationshipDataTypeSync:!0,relationshipOptimization:!1,columnOrder:[mr.columnName,mr.columnDataType,mr.columnNotNull,mr.columnUnique,mr.columnAutoIncrement,mr.columnDefault,mr.columnComment],maxWidthComment:-1}),h0=ka(d0,f0),gA=ka(c0,u0),vA=ka(60,200);function yA(e){const t=mA();if(!Ln(e)||hn(e))return t;const n=Q(tt,t,e),r=Q(Xe,t,e),i=Q($n,t,e);return tt(e.width)&&(t.width=h0(e.width)),tt(e.height)&&(t.height=h0(e.height)),tt(e.zoomLevel)&&(t.zoomLevel=gA(e.zoomLevel)),tt(e.maxWidthComment)&&e.maxWidthComment!==-1&&(t.maxWidthComment=vA(e.maxWidthComment)),n("scrollTop"),n("scrollLeft"),n("show"),r("databaseName"),r("canvasType"),i("relationshipDataTypeSync"),i("relationshipOptimization"),Q(Zn(a0),t,e)("database"),Q(Zn(s0),t,e)("language"),Q(Zn($d),t,e)("tableNameCase"),Q(Zn($d),t,e)("columnNameCase"),Q(Zn(l0),t,e)("bracketType"),Ht(e.columnOrder)&&wd.length===e.columnOrder.length&&pd(wd,e.columnOrder).length===0&&(t.columnOrder=e.columnOrder),t}const bA=()=>({id:"",name:"",comment:"",columnIds:[],seqColumnIds:[],ui:{x:200,y:100,zIndex:2,widthName:60,widthComment:60,color:""},meta:bo()});function xA(e){const t={};if(!Ln(e)||hn(e))return t;for(const n of Object.values(e)){if(!n)continue;const r=bA(),i=Q(Xe,r,n),o=Q(Ht,r,n),a=Q(tt,r.ui,n.ui),c=Q(Xe,r.ui,n.ui);i("id"),i("name"),i("comment"),o("columnIds"),o("seqColumnIds"),c("color"),a("x"),a("y"),a("zIndex"),a("widthName"),a("widthComment"),xo(r.meta,n.meta),r.id&&(t[r.id]=r)}return t}const wA=()=>({id:"",tableId:"",name:"",comment:"",dataType:"",default:"",options:0,ui:{keys:0,widthName:60,widthComment:60,widthDataType:60,widthDefault:60},meta:bo()});function CA(e){const t={};if(!Ln(e)||hn(e))return t;for(const n of Object.values(e)){if(!n)continue;const r=wA(),i=Q(Xe,r,n),o=Q(tt,r,n),a=Q(tt,r.ui,n.ui);i("id"),i("tableId"),i("name"),i("comment"),i("dataType"),i("default"),o("options"),a("keys"),a("widthName"),a("widthComment"),a("widthDataType"),a("widthDefault"),xo(r.meta,n.meta),r.id&&(t[r.id]=r)}return t}function kA(e){var t,n,r,i,o,a;const c=e,d=yA(c.settings),p=nA(c.doc),m=lA(c.lww),g=xA((t=c.collections)==null?void 0:t.tableEntities),y=CA((n=c.collections)==null?void 0:n.tableColumnEntities),b=fA((r=c.collections)==null?void 0:r.relationshipEntities),C=iA((i=c.collections)==null?void 0:i.indexEntities),w=aA((o=c.collections)==null?void 0:o.indexColumnEntities),E=uA((a=c.collections)==null?void 0:a.memoEntities);return{$schema:"https://raw.githubusercontent.com/dineug/erd-editor/main/json-schema/schema.json",version:"3.0.0",settings:d,doc:p,collections:{tableEntities:g,tableColumnEntities:y,relationshipEntities:b,indexEntities:C,indexColumnEntities:w,memoEntities:E},lww:m}}const $A={autoIncrement:1,primaryKey:2,unique:4,notNull:8},TA={primaryKey:1,foreignKey:2},ce={CanvasType:xd,CanvasTypeList:hA,Show:Yr,ColumnType:mr,ColumnTypeList:wd,Database:Cd,DatabaseList:a0,Language:kd,LanguageList:s0,NameCase:fl,NameCaseList:$d,BracketType:Td,BracketTypeList:l0,RelationshipType:vd,RelationshipTypeList:i0,StartRelationshipType:yd,StartRelationshipTypeList:o0,Direction:dl,DirectionList:bd,ColumnOption:$A,ColumnUIKey:TA,OrderType:gd,OrderTypeList:r0,CANVAS_SIZE_MAX:f0,CANVAS_SIZE_MIN:d0,CANVAS_ZOOM_MAX:u0,CANVAS_ZOOM_MIN:c0};function EA(e){return[e,-1,-1,{}]}function Ed(e,t,n){return e[t]||(e[t]=EA(n),e[t])}function IA(e,t,n,r,i){const o=Ed(e,n,r),a=o[1],c=o[2];a<t&&(o[1]=t),c<t&&i()}function SA(e,t,n,r,i){const o=Ed(e,n,r),a=o[2],c=o[1];a<t&&(o[2]=t),c<=t&&i()}function _A(e,t,n,r,i,o){const a=Ed(e,n,r);(a[3][i]??-1)<=t&&(a[3][i]=t,o())}class AA{constructor(t){Object.defineProperty(this,"collections",{enumerable:!0,configurable:!0,writable:!0,value:t})}collection(t){return new NA(this.collections[t],t)}}class NA{constructor(t,n){Object.defineProperty(this,"collection",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"collectionKey",{enumerable:!0,configurable:!0,writable:!0,value:n})}selectById(t){return this.collection[t]}selectByIds(t){return t.length,t.map(n=>this.selectById(n)).filter(Boolean)}selectEntities(){return this.collection}selectAll(){return Object.values(this.collection)}setOne(t){return this.collection[t.id]=t,this}setMany(t){return t.forEach(n=>this.setOne(n)),this}setAll(t){return this.removeAll(),this.setMany(t),this}addOne(t){return this.selectById(t.id)?this:(this.setOne(t),this)}addMany(t){return t.forEach(n=>this.addOne(n)),this}removeOne(t){return this.selectById(t)&&Reflect.deleteProperty(this.collection,t),this}removeMany(t){return t.forEach(n=>this.removeOne(n)),this}removeAll(){return this.collection={},this}updateOne(t,n){const r=this.selectById(t);return r&&(n(r),r.meta.updateAt=Date.now()),this}updateMany(t,n){return t.forEach(r=>this.updateOne(r,n)),this}getOrCreate(t,n){const r=this.selectById(t);if(r)return r;const i=n(t);return this.setOne(i),this.selectById(t)}addOperator(t,n,r,i){return IA(t,n,r,this.collectionKey,i),this}removeOperator(t,n,r,i){return SA(t,n,r,this.collectionKey,i),this}replaceOperator(t,n,r,i,o){return _A(t,n,r,this.collectionKey,i,o),this}}const wo=e=>new AA(e);function Qe(e,t){return(e&t)===t}const gr={columnUnique:"columnUnique",columnAutoIncrement:"columnAutoIncrement",columnName:"columnName",columnDataType:"columnDataType",columnNotNull:"columnNotNull",columnDefault:"columnDefault",columnComment:"columnComment"},Id=Object.values(gr),p0={ERD:"ERD","@vuerd/builtin-sql-ddl":"@vuerd/builtin-sql-ddl","@vuerd/builtin-grid":"@vuerd/builtin-grid","@vuerd/builtin-generator-code":"@vuerd/builtin-generator-code","@vuerd/builtin-visualization":"@vuerd/builtin-visualization"},m0=Object.values(p0),g0={MariaDB:"MariaDB",MSSQL:"MSSQL",MySQL:"MySQL",Oracle:"Oracle",PostgreSQL:"PostgreSQL",SQLite:"SQLite"},v0=Object.values(g0),y0={GraphQL:"GraphQL","C#":"C#",Java:"Java",Kotlin:"Kotlin",TypeScript:"TypeScript",JPA:"JPA",Scala:"Scala"},b0=Object.values(y0),x0={none:"none",camelCase:"camelCase",pascalCase:"pascalCase",snakeCase:"snakeCase"},Sd=Object.values(x0),w0={AtomOneDark:"AtomOneDark",AtomOneLight:"AtomOneLight",MonokaiSublime:"MonokaiSublime",GithubGist:"GithubGist",VS2015:"VS2015"},C0=Object.values(w0),k0={none:"none",doubleQuote:"doubleQuote",singleQuote:"singleQuote",backtick:"backtick"},$0=Object.values(k0),T0=.1,E0=1,I0=2e3,S0=2e4,OA=()=>({version:"2.2.11",width:2e3,height:2e3,scrollTop:0,scrollLeft:0,zoomLevel:1,show:{tableComment:!0,columnComment:!0,columnDataType:!0,columnDefault:!0,columnAutoIncrement:!1,columnPrimaryKey:!0,columnUnique:!1,columnNotNull:!0,relationship:!0},database:"MySQL",databaseName:"",canvasType:"ERD",language:"GraphQL",tableCase:"pascalCase",columnCase:"camelCase",highlightTheme:"VS2015",bracketType:"none",setting:{relationshipDataTypeSync:!0,relationshipOptimization:!1,columnOrder:["columnName","columnDataType","columnNotNull","columnUnique","columnAutoIncrement","columnDefault","columnComment"]},pluginSerializationMap:{}}),_0=ka(I0,S0),MA=ka(T0,E0);function DA(e){var t;const n=OA();if(hn(e))return n;const r=Q(tt,n,e),i=Q(Xe,n,e),o=Q($n,n.show,e.show),a=Q($n,n.setting,e.setting);if(tt(e.width)&&(n.width=_0(e.width)),tt(e.height)&&(n.height=_0(e.height)),tt(e.zoomLevel)&&(n.zoomLevel=MA(e.zoomLevel)),i("version"),i("databaseName"),r("scrollTop"),r("scrollLeft"),Q(Tn(v0),n,e)("database"),Q(Tn(m0),n,e)("canvasType"),Q(Tn(b0),n,e)("language"),Q(Tn(Sd),n,e)("tableCase"),Q(Tn(Sd),n,e)("columnCase"),Q(Tn(C0),n,e)("highlightTheme"),Q(Tn($0),n,e)("bracketType"),o("tableComment"),o("columnComment"),o("columnDataType"),o("columnDefault"),o("columnAutoIncrement"),o("columnPrimaryKey"),o("columnUnique"),o("columnNotNull"),o("relationship"),a("relationshipDataTypeSync"),a("relationshipOptimization"),(t=e.setting)!=null&&t.columnOrder&&Id.length===e.setting.columnOrder.length&&pd(Id,e.setting.columnOrder).length===0&&(n.setting.columnOrder=e.setting.columnOrder),Ln(e.pluginSerializationMap)){const c=e.pluginSerializationMap;for(const d of Object.keys(c)){const p=c[d];Xe(p)&&(n.pluginSerializationMap[d]=p)}}return n}const RA=()=>({memos:[]}),LA=()=>({id:"",value:"",ui:{active:!1,left:200,top:200,zIndex:2,width:127,height:127}});function PA(e){const t=RA();if(hn(e)||!Ht(e.memos))return t;for(const n of e.memos){const r=LA(),i=Q(Xe,r,n),o=Q(tt,r.ui,n.ui),a=Q($n,r.ui,n.ui),c=Q(Xe,r.ui,n.ui);i("id"),i("value"),a("active"),c("color"),o("left"),o("top"),o("zIndex"),o("width"),o("height"),t.memos.push(r)}return t}const BA=["ZeroOneN","One","N"],UA={ZeroOneN:"ZeroN",One:"OneOnly",N:"OneN"},zA=e=>BA.includes(e)?UA[e]:e,wi={ZeroOneN:"ZeroOneN",ZeroOne:"ZeroOne",ZeroN:"ZeroN",OneOnly:"OneOnly",OneN:"OneN",One:"One",N:"N"},A0=Object.values(wi),N0={Ring:"Ring",Dash:"Dash"},O0=Object.values(N0),Xr={left:"left",right:"right",top:"top",bottom:"bottom"},_d=Object.values(Xr),jA=()=>({relationships:[]}),FA=()=>({id:"",identification:!1,relationshipType:"ZeroN",startRelationshipType:"Dash",start:{tableId:"",columnIds:[],x:0,y:0,direction:"bottom"},end:{tableId:"",columnIds:[],x:0,y:0,direction:"bottom"},constraintName:"",visible:!0});function HA(e){var t,n,r,i;const o=jA();if(hn(e)||!Ht(e.relationships))return o;for(const a of e.relationships){const c=FA(),d=Q(Xe,c,a),p=Q($n,c,a),m=Q(tt,c.start,a.start),g=Q(Xe,c.start,a.start),y=Q(tt,c.end,a.end),b=Q(Xe,c.end,a.end);d("id"),d("constraintName"),p("identification"),p("visible"),Q(Tn(A0),c,a)("relationshipType"),c.relationshipType=zA(c.relationshipType),Q(Tn(O0),c,a)("startRelationshipType"),g("tableId"),m("x"),m("y"),Q(Tn(_d),c.start,a.start)("direction"),Ht((t=a.start)==null?void 0:t.columnIds)&&(c.start.columnIds=(n=a.start)==null?void 0:n.columnIds.filter(Xe)),b("tableId"),y("x"),y("y"),Q(Tn(_d),c.end,a.end)("direction"),Ht((r=a.end)==null?void 0:r.columnIds)&&(c.end.columnIds=(i=a.end)==null?void 0:i.columnIds.filter(Xe)),o.relationships.push(c)}return o}const Ad={ASC:"ASC",DESC:"DESC"},M0=Object.values(Ad),GA=()=>({tables:[],indexes:[]}),VA=()=>({id:"",name:"",comment:"",columns:[],ui:{active:!1,left:200,top:100,zIndex:2,widthName:60,widthComment:60},visible:!0}),YA=()=>({id:"",name:"",comment:"",dataType:"",default:"",option:{autoIncrement:!1,primaryKey:!1,unique:!1,notNull:!1},ui:{active:!1,pk:!1,fk:!1,pfk:!1,widthName:60,widthComment:60,widthDataType:60,widthDefault:60}}),XA=()=>({id:"",name:"",tableId:"",columns:[],unique:!1}),KA=()=>({id:"",orderType:Ad.ASC});function WA(e){const t=GA();if(hn(e))return t;if(Ht(e.tables))for(const n of e.tables){const r=VA(),i=Q(Xe,r,n),o=Q($n,r,n),a=Q(tt,r.ui,n.ui),c=Q($n,r.ui,n.ui),d=Q(Xe,r.ui,n.ui);if(i("id"),i("name"),i("comment"),o("visible"),c("active"),d("color"),a("left"),a("top"),a("zIndex"),a("widthName"),a("widthComment"),Ht(n.columns))for(const p of n.columns){const m=YA(),g=Q(Xe,m,p),y=Q(tt,m.ui,p.ui),b=Q($n,m.ui,p.ui),C=Q($n,m.option,p.option);g("id"),g("name"),g("comment"),g("dataType"),g("default"),C("autoIncrement"),C("primaryKey"),C("unique"),C("notNull"),b("active"),b("pk"),b("fk"),b("pfk"),y("widthName"),y("widthComment"),y("widthDataType"),y("widthDefault"),r.columns.push(m)}t.tables.push(r)}if(Ht(e.indexes))for(const n of e.indexes){const r=XA(),i=Q(Xe,r,n),o=Q($n,r,n);if(i("id"),i("name"),i("tableId"),o("unique"),Ht(n.columns))for(const a of n.columns){const c=KA();Q(Xe,c,a)("id"),Q(Tn(M0),c,a)("orderType"),r.columns.push(c)}t.indexes.push(r)}return t}function D0(e){const t=e,n=DA(t.canvas),r=WA(t.table),i=HA(t.relationship),o=PA(t.memo);return{canvas:n,table:r,relationship:i,memo:o}}const Pn={BracketType:k0,BracketTypeList:$0,CanvasType:p0,CanvasTypeList:m0,ColumnType:gr,ColumnTypeList:Id,Database:g0,DatabaseList:v0,HighlightTheme:w0,HighlightThemeList:C0,Language:y0,LanguageList:b0,NameCase:x0,NameCaseList:Sd,RelationshipType:wi,RelationshipTypeList:A0,StartRelationshipType:N0,StartRelationshipTypeList:O0,Direction:Xr,DirectionList:_d,OrderType:Ad,OrderTypeList:M0,CANVAS_SIZE_MAX:S0,CANVAS_SIZE_MIN:I0,CANVAS_ZOOM_MAX:E0,CANVAS_ZOOM_MIN:T0},ZA={[ce.ColumnType.columnName]:gr.columnName,[ce.ColumnType.columnDataType]:gr.columnDataType,[ce.ColumnType.columnDefault]:gr.columnDefault,[ce.ColumnType.columnComment]:gr.columnComment,[ce.ColumnType.columnAutoIncrement]:gr.columnAutoIncrement,[ce.ColumnType.columnUnique]:gr.columnUnique,[ce.ColumnType.columnNotNull]:gr.columnNotNull},QA={[ce.RelationshipType.ZeroOne]:wi.ZeroOne,[ce.RelationshipType.ZeroN]:wi.ZeroN,[ce.RelationshipType.OneOnly]:wi.OneOnly,[ce.RelationshipType.OneN]:wi.OneN},R0={[ce.Direction.left]:Xr.left,[ce.Direction.right]:Xr.right,[ce.Direction.top]:Xr.top,[ce.Direction.bottom]:Xr.bottom};function qA(e){const t=D0({});return JA(t.canvas,e.settings),eN(t,e),tN(t,e),nN(t,e),t}function JA(e,t){e.width=t.width,e.height=t.height,e.scrollTop=t.scrollTop,e.scrollLeft=t.scrollLeft,e.zoomLevel=t.zoomLevel,e.databaseName=t.databaseName,e.canvasType=Pn.CanvasType.ERD,e.show.tableComment=Qe(t.show,ce.Show.tableComment),e.show.columnComment=Qe(t.show,ce.Show.columnComment),e.show.columnDataType=Qe(t.show,ce.Show.columnDataType),e.show.columnDefault=Qe(t.show,ce.Show.columnDefault),e.show.columnAutoIncrement=Qe(t.show,ce.Show.columnAutoIncrement),e.show.columnPrimaryKey=Qe(t.show,ce.Show.columnPrimaryKey),e.show.columnUnique=Qe(t.show,ce.Show.columnUnique),e.show.columnNotNull=Qe(t.show,ce.Show.columnNotNull),e.show.relationship=Qe(t.show,ce.Show.relationship);const n=Object.keys(ce.Database).find(d=>Qe(t.database,ce.Database[d]));n&&Pn.DatabaseList.includes(n)&&(e.database=n);const r=Object.keys(ce.Language).find(d=>Qe(t.language,ce.Language[d]));r&&Pn.LanguageList.includes(r)&&(e.language=r);const i=Object.keys(ce.NameCase).find(d=>Qe(t.tableNameCase,ce.NameCase[d]));i&&Pn.NameCaseList.includes(i)&&(e.tableCase=i);const o=Object.keys(ce.NameCase).find(d=>Qe(t.columnNameCase,ce.NameCase[d]));o&&Pn.NameCaseList.includes(o)&&(e.columnCase=o);const a=Object.keys(ce.BracketType).find(d=>Qe(t.bracketType,ce.BracketType[d]));a&&Pn.BracketTypeList.includes(a)&&(e.bracketType=a),e.setting.relationshipDataTypeSync=t.relationshipDataTypeSync,e.setting.relationshipOptimization=t.relationshipOptimization;const c=t.columnOrder.map(d=>ZA[d]);pd(Pn.ColumnTypeList,c).length===0&&(e.setting.columnOrder=c)}function eN(e,{doc:{tableIds:t,indexIds:n},collections:r}){e.table.tables=wo(r).collection("tableEntities").selectByIds(t).map(i=>{const o=wo(r).collection("tableColumnEntities").selectByIds(i.columnIds);return{id:i.id,name:i.name,comment:i.comment,columns:o.map(a=>({id:a.id,name:a.name,comment:a.comment,dataType:a.dataType,default:a.default,option:{autoIncrement:Qe(a.options,ce.ColumnOption.autoIncrement),primaryKey:Qe(a.options,ce.ColumnOption.primaryKey),unique:Qe(a.options,ce.ColumnOption.unique),notNull:Qe(a.options,ce.ColumnOption.notNull)},ui:{active:!1,widthName:a.ui.widthName,widthDataType:a.ui.widthDataType,widthDefault:a.ui.widthDefault,widthComment:a.ui.widthComment,pk:Qe(a.ui.keys,ce.ColumnUIKey.primaryKey)&&!Qe(a.ui.keys,ce.ColumnUIKey.foreignKey),fk:Qe(a.ui.keys,ce.ColumnUIKey.foreignKey)&&!Qe(a.ui.keys,ce.ColumnUIKey.primaryKey),pfk:Qe(a.ui.keys,ce.ColumnUIKey.primaryKey)&&Qe(a.ui.keys,ce.ColumnUIKey.foreignKey)}})),ui:{active:!1,top:i.ui.y,left:i.ui.x,zIndex:i.ui.zIndex,widthName:i.ui.widthName,widthComment:i.ui.widthComment,color:i.ui.color}}}),e.table.indexes=wo(r).collection("indexEntities").selectByIds(n).map(i=>({id:i.id,name:i.name,tableId:i.tableId,unique:i.unique,columns:wo(r).collection("indexColumnEntities").selectByIds(i.indexColumnIds).map(o=>({id:o.columnId,orderType:Qe(o.orderType,ce.OrderType.ASC)?Pn.OrderType.ASC:Pn.OrderType.DESC}))}))}function tN(e,{doc:{memoIds:t},collections:n}){e.memo.memos=wo(n).collection("memoEntities").selectByIds(t).map(r=>({id:r.id,value:r.value,ui:{active:!1,top:r.ui.y,left:r.ui.x,width:r.ui.width,height:r.ui.height,zIndex:r.ui.zIndex,color:r.ui.color}}))}function nN(e,{doc:{relationshipIds:t},collections:n}){e.relationship.relationships=wo(n).collection("relationshipEntities").selectByIds(t).map(r=>({id:r.id,identification:r.identification,relationshipType:md(QA,r.relationshipType,wi.ZeroN),startRelationshipType:Qe(r.startRelationshipType,ce.StartRelationshipType.dash)?Pn.StartRelationshipType.Dash:Pn.StartRelationshipType.Ring,start:{tableId:r.start.tableId,columnIds:r.start.columnIds,x:r.start.x,y:r.start.y,direction:md(R0,r.start.direction,Xr.bottom)},end:{tableId:r.end.tableId,columnIds:r.end.columnIds,x:r.end.x,y:r.end.y,direction:md(R0,r.end.direction,Xr.bottom)}}))}function rN(e){const t=JSON.parse(e);return Reflect.get(t,"version")==="3.0.0"?qA(kA(t)):D0(t)}function iN(e,t){if(e.x>t.x+t.w||e.x+e.w<t.x||e.y>t.y+t.h||e.y+e.h<t.y)return null;const n={x1:0,y1:0,x2:0,y2:0};return n.x1=Math.max(e.x,t.x),n.y1=Math.max(e.y,t.y),n.x2=Math.min(e.x+e.w,t.x+t.w)-t.x,n.y2=Math.min(e.y+e.h,t.y+t.h)-t.y,n}function hl(e,t,n){const r={x:0,y:0,w:0,h:0};return r.w=e*n,r.h=t*n,r.x=(e-r.w)/2,r.y=(t-r.h)/2,r}const oN=(e,t,n)=>({x1:(e.x1-t.x)/n,y1:(e.y1-t.y)/n,x2:e.x2/n,y2:e.y2/n});function Qn(e){return{width:e.editorState.viewport.width,height:e.editorState.viewport.height-Wi}}function aN({x:e,y:t},n,r,i){const o=hl(n,r,i),a=e*i,c=t*i,d=o.x+a,p=o.y+c;return{x:d,y:p}}function sN(e,t,n,r){const{x:i,y:o}=e,{x:a,y:c}=aN(e,t,n,r),d=(i-a)/r,p=(o-c)/r,m=i+d,g=o+p;return{x:m,y:g}}class lN{constructor({addFilter:t}){le(this,"id");le(this,"columnType","tableName");le(this,"filterCode","contain");le(this,"value","");if(t)this.id=t.id;else throw new Error("not found filter")}}function cN({editorState:{filterState:e}}){e.active=!0}function uN({editorState:{filterState:e}}){e.active=!1}function dN({editorState:{filterState:{filters:e}}},t){e.push(new lN({addFilter:t}))}function fN({editorState:{filterState:{filters:e}}},t){for(let n=0;n<e.length;n++){const r=e[n];t.filterIds.includes(r.id)&&(e.splice(n,1),n--)}}function hN({editorState:{filterState:{filters:e}}},t){const n=B(e,t.filterId);n&&(n.columnType=t.columnType)}function pN({editorState:{filterState:{filters:e}}},t){const n=B(e,t.filterId);n&&(n.filterCode=t.filterCode)}function mN({editorState:{filterState:{filters:e}}},t){const n=B(e,t.filterId);n&&(n.value=t.value)}function gN({editorState:{filterState:{filters:e}}},t){const n=[];t.filterIds.forEach(o=>{const a=B(e,o);a&&n.push(a)});const r=B(e,t.targetFilterId);if(!n.length||!r||t.filterIds.includes(t.targetFilterId))return;const i=Ae(e,r.id);i!==-1&&(n.forEach(o=>{const a=Ae(e,o.id);a!==-1&&e.splice(a,1)}),e.splice(i,0,...n))}function vN({editorState:{filterState:e}},t){e.operatorType=t.operatorType}function yN({editorState:{filterState:e}},t){e.focus?(e.focus.focusType="operatorType",e.focus.filterId=null,e.focus.prevSelectFilterId=null,e.focus.selectFilterIds=[]):e.focus={focusType:"operatorType",filterId:null,prevSelectFilterId:null,selectFilterIds:[],edit:!1}}function bN({editorState:{filterState:e}},t){if(e.focus){const n=e.focus;n.filterId=t.filterId,n.focusType=t.focusType,t.ctrlKey&&t.shiftKey?n.selectFilterIds=x4(e.filters,n.selectFilterIds,n.prevSelectFilterId,n.filterId):t.shiftKey?n.selectFilterIds=rv(e.filters,n.prevSelectFilterId,n.filterId):t.ctrlKey?n.selectFilterIds=pa(n.selectFilterIds,t.filterId):n.selectFilterIds=[t.filterId],n.prevSelectFilterId=t.filterId}else e.focus={focusType:t.focusType,filterId:t.filterId,prevSelectFilterId:t.filterId,selectFilterIds:[t.filterId],edit:!1}}function xN({editorState:{filterState:e}}){e.focus=null}function wN({editorState:{filterState:e}},t){if(e.focus)switch(e.focus.edit=!1,t.moveKey){case"ArrowUp":$4(e,t);break;case"ArrowDown":T4(e,t);break;case"ArrowLeft":sv(e,t);break;case"ArrowRight":av(e,t);break;case"Tab":t.shiftKey?sv(e,t):av(e,t);break}}function CN({editorState:{filterState:{focus:e}}}){e&&(e.edit=!0)}function kN({editorState:{filterState:{focus:e}}}){e&&(e.edit=!1)}function $N({editorState:{filterState:{focus:e,filters:t}}}){e&&(e.selectFilterIds=t.map(n=>n.id))}function TN({editorState:{filterState:e}},t){e.draggable=t}function EN({editorState:{filterState:e}}){e.draggable=null}const IN={"editor.filter.active":cN,"editor.filter.activeEnd":uN,"editor.filter.add":dN,"editor.filter.remove":fN,"editor.filter.changeColumnType":hN,"editor.filter.changeFilterCode":pN,"editor.filter.changeValue":mN,"editor.filter.move":gN,"editor.filter.changeOperatorType":vN,"editor.filter.focus":yN,"editor.filter.focusFilter":bN,"editor.filter.focusEnd":xN,"editor.filter.focusMove":wN,"editor.filter.edit":CN,"editor.filter.editEnd":kN,"editor.filter.selectAll":$N,"editor.filter.draggable":TN,"editor.filter.draggableEnd":EN},SN=e=>xt(e.id)&&xt(e.name)&&xt(e.tableId)&&Qi(e.unique)&&Dr(e.columns);class L0{constructor({addIndex:t,loadIndex:n}){le(this,"id");le(this,"name","");le(this,"tableId");le(this,"columns",[]);le(this,"unique",!1);if(t){const{id:r,tableId:i}=t;this.id=r,this.tableId=i}else if(n&&SN(n)){const{id:r,name:i,tableId:o,columns:a,unique:c}=It(n);this.id=r,this.name=i,this.tableId=o,this.columns=a,this.unique=c}else throw new Error("not found index")}}function _N({tableState:{indexes:e}},t){e.push(new L0({addIndex:t}))}function AN({tableState:{indexes:e}},t){for(let n=0;n<e.length;n++){const r=e[n].id;t.indexIds.includes(r)&&(e.splice(n,1),n--)}}function NN({tableState:{indexes:e}},t){const n=B(e,t.indexId);n&&(n.name=t.value)}function ON({tableState:{indexes:e}},t){const n=B(e,t.indexId);n&&(n.unique=t.value)}function MN({tableState:{indexes:e}},t){const n=B(e,t.indexId);!n||n.columns.some(r=>r.id===t.columnId)||n.columns.push({id:t.columnId,orderType:"ASC"})}function DN({tableState:{indexes:e}},t){const n=B(e,t.indexId);if(!n)return;const r=Ae(n.columns,t.columnId);r!==-1&&n.columns.splice(r,1)}function RN({tableState:{indexes:e}},t){const n=B(e,t.indexId);if(!n||t.columnId===t.targetColumnId)return;const r=B(n.columns,t.columnId);if(!r)return;const i=Ae(n.columns,t.columnId);if(i===-1)return;const o=Ae(n.columns,t.targetColumnId);o!==-1&&(n.columns.splice(i,1),n.columns.splice(o,0,r))}function LN({tableState:{indexes:e}},t){const n=B(e,t.indexId);if(!n)return;const r=B(n.columns,t.columnId);r&&(r.orderType=t.value)}function P0({tableState:{indexes:e}},t){e.push(new L0({loadIndex:t}))}const PN={"index.add":_N,"index.remove":AN,"index.changeName":NN,"index.changeUnique":ON,"index.addColumn":MN,"index.removeColumn":DN,"index.moveColumn":RN,"index.changeColumnOrderType":LN,"index.load":P0},BN=e=>xt(e.id)&&xt(e.value)&&fi(e.ui)&&Qi(e.ui.active)&&Jt(e.ui.top)&&Jt(e.ui.left)&&Jt(e.ui.width)&&Jt(e.ui.height)&&Jt(e.ui.zIndex);class B0{constructor({addMemo:t,loadMemo:n}){le(this,"id");le(this,"value","");le(this,"ui",{active:!1,left:hs,top:ps,zIndex:2,width:gs,height:vs});if(t){const{id:r,ui:i}=t;this.id=r,this.ui=Object.assign(this.ui,i)}else if(n&&BN(n)){const{id:r,value:i,ui:o}=It(n);this.id=r,this.value=i,this.ui=Object.assign(this.ui,o)}else throw new Error("not found memo")}}const U0=Yo*2;function UN({memoState:{memos:e}},t){e.push(new B0({addMemo:t}))}function zN({tableState:{tables:e},memoState:{memos:t}},n){n.tableIds.forEach(r=>{const i=B(e,r);i&&(i.ui.left+=n.movementX,i.ui.top+=n.movementY)}),n.memoIds.forEach(r=>{const i=B(t,r);i&&(i.ui.left+=n.movementX,i.ui.top+=n.movementY)})}function jN({memoState:{memos:e}},{memoIds:t}){for(let n=0;n<e.length;n++){const r=e[n].id;t.includes(r)&&(e.splice(n,1),n--)}}function FN({memoState:{memos:e}},t){const n=B(e,t.memoId);n&&(n.ui.zIndex=t.zIndex,t.ctrlKey?n.ui.active=!0:e.forEach(r=>r.ui.active=r.id===t.memoId))}function HN({memoState:{memos:e}}){e.forEach(t=>t.ui.active=!1)}function GN({memoState:{memos:e}}){e.forEach(t=>t.ui.active=!0)}function VN({memoState:{memos:e}},t){const n=B(e,t.memoId);n&&(n.value=t.value)}function YN({memoState:{memos:e}},t){const n=B(e,t.memoId);n&&(n.ui.top=t.top,n.ui.left=t.left,n.ui.width=t.width,n.ui.height=t.height)}function XN({memoState:{memos:e}},t){const{min:n,max:r}=t;e.forEach(i=>{const o=i.ui.left+i.ui.width/2+U0,a=i.ui.top+i.ui.height/2+U0;i.ui.active=n.x<=o&&r.x>=o&&n.y<=a&&r.y>=a})}function z0({memoState:{memos:e}},t){e.push(new B0({loadMemo:t}))}function KN({tableState:{tables:e},memoState:{memos:t}},n){n.tableIds.forEach(r=>{const i=B(e,r);i&&(i.ui.color=n.color)}),n.memoIds.forEach(r=>{const i=B(t,r);i&&(i.ui.color=n.color)})}const WN={"memo.add":UN,"memo.move":zN,"memo.remove":jN,"memo.select":FN,"memo.selectEnd":HN,"memo.selectAll":GN,"memo.changeValue":VN,"memo.resize":YN,"memo.dragSelect":XN,"memo.load":z0,"memo.changeColor":KN};function ZN(e,t){const n={width:0,name:0,comment:0,dataType:0,default:0,notNull:0,autoIncrement:0,unique:0};return e.forEach(r=>{n.name<r.ui.widthName&&(n.name=r.ui.widthName),t.columnComment&&n.comment<r.ui.widthComment&&(n.comment=r.ui.widthComment),t.columnDataType&&n.dataType<r.ui.widthDataType&&(n.dataType=r.ui.widthDataType),t.columnDefault&&n.default<r.ui.widthDefault&&(n.default=r.ui.widthDefault)}),t.columnNotNull&&(n.notNull=Vc),t.columnUnique&&(n.unique=Gc),t.columnAutoIncrement&&(n.autoIncrement=Hc),Object.keys(n).filter(r=>r!=="width").forEach(r=>{const i=r;n[i]&&(n.width+=n[i]+qt)}),n}const QN=[{key:"columnComment",width:be},{key:"columnDataType",width:be},{key:"columnDefault",width:be},{key:"columnNotNull",width:Vc},{key:"columnAutoIncrement",width:Hc},{key:"columnUnique",width:Gc}];function qN(e){let t=be+qt;return QN.forEach(n=>e[n.key]&&(t+=n.width+qt)),t}const JN=e=>xt(e.id)&&xt(e.name)&&xt(e.comment)&&Dr(e.columns)&&fi(e.ui)&&Qi(e.ui.active)&&Jt(e.ui.left)&&Jt(e.ui.top)&&Jt(e.ui.zIndex)&&Jt(e.ui.widthName)&&Jt(e.ui.widthComment);class j0{constructor({addTable:t,loadTable:n},r){le(this,"id");le(this,"name","");le(this,"comment","");le(this,"columns",[]);le(this,"ui",{active:!1,left:hs,top:ps,zIndex:2,widthName:be,widthComment:be});le(this,"visible",!0);le(this,"_show");if(this._show=r,t){const{id:i,ui:o}=t;this.id=i,this.ui=Object.assign(this.ui,o),this.visible=!0}else if(n&&JN(n)){const{id:i,name:o,comment:a,columns:c,ui:d,visible:p}=It(n);this.id=i,this.name=o,this.comment=a,this.columns=c,this.ui=Object.assign(this.ui,d),Qi(p)&&(this.visible=p)}else throw new Error("not found table")}width(){let t=this.ui.widthName+qt;this._show.tableComment&&(t+=this.ui.widthComment+qt);const n=qN(this._show)+ap+sp+qt;t<n&&(t=n);const r=this.maxWidthColumn().width+ap+sp+qt;return t<r&&(t=r),t}height(){return y$+this.columns.length*Yc}maxWidthColumn(){return ZN(this.columns,this._show)}}const Nd=(Or+Yi)*2,F0=Nd*4;function eO({tableState:{tables:e},canvasState:{show:t}},n){e.push(new j0({addTable:n},t))}function tO({tableState:{tables:e},memoState:{memos:t}},n){n.tableIds.forEach(r=>{const i=B(e,r);i&&(i.ui.left=Math.round((i.ui.left+n.movementX+Number.EPSILON)*1e4)/1e4,i.ui.top=Math.round((i.ui.top+n.movementY+Number.EPSILON)*1e4)/1e4)}),n.memoIds.forEach(r=>{const i=B(t,r);i&&(i.ui.left+=n.movementX,i.ui.top+=n.movementY)})}function nO(e,t){const{tableState:{tables:n}}=e;for(let r=0;r<n.length;r++){const i=n[r].id;t.tableIds.includes(i)&&(n.splice(r,1),r--)}jS(e,t.tableIds),zS(e,t.tableIds)}function rO({tableState:{tables:e}},t){const n=B(e,t.tableId);n&&(n.ui.zIndex=t.zIndex,t.ctrlKey?n.ui.active=!0:e.forEach(r=>r.ui.active=r.id===t.tableId))}function iO({tableState:{tables:e}}){e.forEach(t=>t.ui.active=!1)}function oO({tableState:{tables:e}}){e.forEach(t=>t.ui.active=!0)}function aO({tableState:{tables:e}},t){const n=B(e,t.tableId);n&&(n.name=t.value,n.ui.widthName=t.width)}function sO({tableState:{tables:e}},t){const n=B(e,t.tableId);n&&(n.comment=t.value,n.ui.widthComment=Hs(t.width))}function lO({tableState:{tables:e}},t){const{min:n,max:r}=t;e.forEach(i=>{const o=i.ui.left+i.width()/2+Nd,a=i.ui.top+i.height()/2+Nd;i.ui.active=n.x<=o&&r.x>=o&&n.y<=a&&r.y>=a})}function cO({tableState:{tables:e},canvasState:t}){const n=t.width;e.sort((a,c)=>a.columns.length-c.columns.length);let r=50,i=50,o=50;e.forEach(a=>{const c=a.width()+F0,d=a.height()+F0;r+c>n&&(i+=o,o=0,r=50),o<d&&(o=d),a.ui.top=i,a.ui.left=r,r+=c})}function H0({tableState:{tables:e},canvasState:{show:t}},n){e.push(new j0({loadTable:n},t))}function uO({tableState:{tables:e},memoState:{memos:t}},n){n.tableIds.forEach(r=>{const i=B(e,r);i&&(i.ui.color=n.color)}),n.memoIds.forEach(r=>{const i=B(t,r);i&&(i.ui.color=n.color)})}const dO={"table.add":eO,"table.move":tO,"table.remove":nO,"table.select":rO,"table.selectEnd":iO,"table.selectAll":oO,"table.changeName":aO,"table.changeComment":sO,"table.dragSelect":lO,"table.sort":cO,"table.load":H0,"table.changeColor":uO};function fO({editorState:e},t){e.hasUndo=t.hasUndo,e.hasRedo=t.hasRedo}function hO({editorState:e,tableState:{tables:t}},n){var r,i;if(((r=e.focusTable)==null?void 0:r.table.id)===n.tableId&&n.focusType)e.focusTable.focusType=n.focusType,e.focusTable.columnId=null,e.focusTable.prevSelectColumnId=null,e.focusTable.selectColumnIds=[];else if(n.focusType){const o=B(t,n.tableId);if(!o)return;e.focusTable={table:o,focusType:n.focusType,columnId:null,prevSelectColumnId:null,selectColumnIds:[],edit:!1}}else if(((i=e.focusTable)==null?void 0:i.table.id)!==n.tableId){const o=B(t,n.tableId);if(!o)return;e.focusTable={table:o,focusType:"tableName",columnId:null,prevSelectColumnId:null,selectColumnIds:[],edit:!1}}}function pO({editorState:e,tableState:{tables:t}},n){var r;if(((r=e.focusTable)==null?void 0:r.table.id)===n.tableId){const i=e.focusTable;i.columnId=n.columnId,i.focusType=n.focusType,n.ctrlKey&&n.shiftKey?i.selectColumnIds=c4(i.table.columns,i.selectColumnIds,i.prevSelectColumnId,i.columnId):n.shiftKey?i.selectColumnIds=Cg(i.table.columns,i.prevSelectColumnId,i.columnId):n.ctrlKey?i.selectColumnIds=ca(i.selectColumnIds,n.columnId):i.selectColumnIds=[n.columnId],i.prevSelectColumnId=n.columnId}else{const i=B(t,n.tableId);if(!i)return;e.focusTable={table:i,focusType:n.focusType,columnId:n.columnId,prevSelectColumnId:n.columnId,selectColumnIds:[n.columnId],edit:!1}}}function mO({editorState:e}){e.focusTable=null}function gO(e,t){const{editorState:n}=e;if(n.focusTable)switch(n.focusTable.edit=!1,t.moveKey){case"ArrowUp":h4(e,t);break;case"ArrowDown":p4(e,t);break;case"ArrowLeft":Ag(e,t);break;case"ArrowRight":_g(e,t);break;case"Tab":t.shiftKey?Ag(e,t):_g(e,t);break}}function vO({editorState:{focusTable:e}}){e&&(e.edit=!0)}function yO({editorState:{focusTable:e}}){e&&(e.edit=!1)}function bO({editorState:{focusTable:e}}){e&&(e.selectColumnIds=e.table.columns.map(t=>t.id))}function xO({editorState:e},t){e.drawRelationship={relationshipType:t.relationshipType,start:null,end:{x:0,y:0}}}function wO({tableState:{tables:e},editorState:{drawRelationship:t}},n){if(!t)return;const r=B(e,n.tableId);r&&(t.start={table:r,x:r.ui.left,y:r.ui.top})}function CO({editorState:e}){e.drawRelationship=null}function kO({editorState:{drawRelationship:e},canvasState:{scrollLeft:t,scrollTop:n,zoomLevel:r,width:i,height:o}},{x:a,y:c}){if(!(e!=null&&e.start))return;const d=sN({x:a-t,y:c-n},i,o,r);e.end.x=d.x,e.end.y=d.y}function $O({editorState:e},t){e.draggableColumn=t}function TO({editorState:e}){e.draggableColumn=null}function G0(e,t){const n=rN(t.value);Object.assign(e.canvasState,n.canvas);const r=n.table;fi(r)&&(Array.isArray(r.tables)&&r.tables.forEach(a=>H0(e,a)),Array.isArray(r.indexes)&&r.indexes.forEach(a=>P0(e,a)));const i=n.memo;fi(i)&&Array.isArray(i.memos)&&i.memos.forEach(a=>z0(e,a));const o=n.relationship;fi(o)&&Array.isArray(o.relationships)&&(o.relationships.forEach(a=>{bg(e,a)}),Vs(e))}function V0({tableState:{tables:e,indexes:t},memoState:{memos:n},relationshipState:{relationships:r}}){e.splice(0,e.length),t.splice(0,t.length),n.splice(0,n.length),r.splice(0,r.length)}function EO({editorState:{viewport:e}},t){e.width=t.width,e.height=t.height}function IO({tableState:{tables:e},editorState:{copyColumns:t}},n){const r=B(e,n.tableId);r&&(t.splice(0,t.length),n.columnIds.forEach(i=>{const o=B(r.columns,i);o&&t.push(It(o))}))}function SO({editorState:e}){e.findActive=!0}function _O({editorState:e}){e.findActive=!1}function AO({editorState:e},t){e.readonly=t.readonly}const NO={"editor.hasUndoRedo":fO,"editor.focusTable":hO,"editor.focusColumn":pO,"editor.focusTableEnd":mO,"editor.focusMoveTable":gO,"editor.editTable":vO,"editor.editTableEnd":yO,"editor.selectAllColumn":bO,"editor.drawStartRelationship":xO,"editor.drawStartAddRelationship":wO,"editor.drawEndRelationship":CO,"editor.drawRelationship":kO,"editor.draggableColumn":$O,"editor.draggableColumnEnd":TO,"editor.loadJson":G0,"editor.initLoadJson":G0,"editor.clear":V0,"editor.initClear":V0,"editor.changeViewport":EO,"editor.copyColumn":IO,"editor.findActive":SO,"editor.findActiveEnd":_O,"editor.readonly":AO,...IN},Y0=e=>U("index.add",{id:Be(),tableId:e}),$a=e=>U("index.remove",{indexIds:e}),X0=(e,t)=>U("index.changeName",{indexId:e,value:t}),K0=(e,t)=>U("index.changeUnique",{indexId:e,value:t}),Od=(e,t)=>U("index.addColumn",{indexId:e,columnId:t}),W0=(e,t)=>U("index.removeColumn",{indexId:e,columnId:t}),Z0=(e,t,n)=>U("index.moveColumn",{indexId:e,columnId:t,targetColumnId:n}),Q0=(e,t,n)=>U("index.changeColumnOrderType",{indexId:e,columnId:t,value:n}),pl=e=>U("index.load",e),OO=Object.freeze(Object.defineProperty({__proto__:null,addIndex:Y0,addIndexColumn:Od,changeIndexColumnOrderType:Q0,changeIndexName:X0,changeIndexUnique:K0,loadIndex:pl,moveIndexColumn:Z0,removeIndex:$a,removeIndexColumn:W0},Symbol.toStringTag,{value:"Module"})),MO={..._S,...WN,...dO,...i4,...NO,...US,...PN},DO=()=>({canvas:NS,memo:b4,table:y4,column:z4,editor:U4,relationship:g4,index:OO});function RO(){const e=new gi,t=new gi,n=jr(t,e.pipe(aa(iS))).pipe(lo,ao(200)),r=jr(t,e).pipe(lo);return{dispatch$:e,history$:t,change$:n,hook$:r}}function LO(e,t){t.forEach(n=>{const r=MO[n.name];r&&r(e,n.data)})}const PO=xs((e,t)=>{try{LO(e,t)}catch(n){so.error(n)}});function BO(e){let t=[],n=-1,r=0,i=!1;const o=()=>n!==-1,a=()=>n<t.length-1,c=b=>r=b,d=(b,C)=>{i=!0,b[C](),i=!1};return{hasUndo:o,hasRedo:a,push:b=>{i||(t.splice(n+1,t.length-n),t.push(b),r!==0&&t.length>r&&(t=t.slice(t.length-r,t.length)),n=t.length-1,e())},undo:()=>{if(!o())return;const b=t[n];d(b,"undo"),n--,e()},redo:()=>{if(!a())return;const b=t[n+1];d(b,"redo"),n++,e()},clear:()=>{const b=t.length;t=[],n=-1,b>0&&e()},setLimit:c}}const q0="@@none-stream",UO=(e,t)=>n=>{const r=t.find(([,i])=>i(n));return r?r[0]:e(n)?n:q0},zO=(e=[])=>{const t=J0(aS),n=e.map(([i,o])=>[i,J0(o)]),r=UO(t,n);return i=>new wt(o=>i.subscribe({next:a=>{const c=a.reduce((d,p)=>{const m=r(p.name);return d[m]||(d[m]=[]),d[m].push(p),d},{});Object.values(c).forEach(d=>o.next(d))},error:a=>o.error(a),complete:()=>o.complete()})).pipe(lo,qm(o=>r(o[0].name)),ia(o=>o.key===q0?o:o.pipe(qI(o.pipe(ao(200))),oo(a=>a.reduce((c,d)=>c.concat(d),[])))))};function J0(e){const t=new Set(e);return n=>t.has(n)}const ey=({editorState:e})=>t=>new wt(n=>t.subscribe({next:r=>e.readonly?n.next(r.filter(i=>sS.includes(i.name))):n.next(r),error:r=>n.error(r),complete:()=>n.complete()})).pipe(lo);function jO({canvasState:{scrollTop:e,scrollLeft:t}},n){n.push(yi(e,t))}function FO({canvasState:{width:e,height:t}},n){n.push(Tu(e,t))}function HO({canvasState:{zoomLevel:e}},t){t.push(Eu(e))}function GO(e,t,n){t.push(U("canvas.changeShow",{showKey:n.showKey,value:!n.value}))}function VO({canvasState:{database:e}},t){t.push(Iu(e))}function YO({canvasState:{databaseName:e}},t){t.push(Su(e))}const XO={"canvas.move":jO,"canvas.resize":FO,"canvas.zoom":HO,"canvas.changeShow":GO,"canvas.changeDatabase":VO,"canvas.changeDatabaseName":YO};function KO(e,t,n){t.push(...n.map(r=>tl(r.tableId,[r.id])))}function WO(e,t,n){t.push(...n.map(r=>tl(r.tableId,[r.id])))}function ZO({tableState:{tables:e,indexes:t},relationshipState:{relationships:n}},r,i){const o=[],a=[],c=B(e,i.tableId);if(!c)return;n.forEach(g=>{const{start:y,end:b}=g;(i.tableId===y.tableId&&i.columnIds.some(C=>y.columnIds.includes(C))||i.tableId===b.tableId&&i.columnIds.some(C=>b.columnIds.includes(C)))&&o.push(It(g))}),t.filter(g=>g.tableId===c.id).forEach(g=>a.push(It(g)));const p=[],m=[];i.columnIds.forEach(g=>{const y=B(c.columns,g),b=Ae(c.columns,g);y&&b!==-1&&(p.push(It(y)),m.push(b))}),r.push(ya(i.tableId,p,m)),o.length&&r.push(fo(o.map(g=>g.id)),...o.map(g=>da(g))),a.length&&r.push($a(a.map(g=>g.id)),...a.map(g=>pl(g)))}function QO({tableState:{tables:e}},t,n){const r=kt(e,n.tableId,n.columnId);r&&t.push(U("column.changeName",{tableId:n.tableId,columnId:n.columnId,value:r.name,width:r.ui.widthName}))}function qO({tableState:{tables:e}},t,n){const r=kt(e,n.tableId,n.columnId);r&&t.push(U("column.changeComment",{tableId:n.tableId,columnId:n.columnId,value:r.comment,width:r.ui.widthComment}))}function JO({tableState:{tables:e}},t,n){const r=kt(e,n.tableId,n.columnId);r&&t.push(U("column.changeDataType",{tableId:n.tableId,columnId:n.columnId,value:r.dataType,width:r.ui.widthDataType}))}function eM({tableState:{tables:e}},t,n){const r=kt(e,n.tableId,n.columnId);r&&t.push(U("column.changeDefault",{tableId:n.tableId,columnId:n.columnId,value:r.default,width:r.ui.widthDefault}))}function tM(e,t,n){t.push(U("column.changeAutoIncrement",{tableId:n.tableId,columnId:n.columnId,value:!n.value}))}function nM(e,t,n){t.push(U("column.changePrimaryKey",{tableId:n.tableId,columnId:n.columnId,value:!n.value}))}function rM(e,t,n){t.push(U("column.changeUnique",{tableId:n.tableId,columnId:n.columnId,value:!n.value}))}function iM(e,t,n){t.push(U("column.changeNotNull",{tableId:n.tableId,columnId:n.columnId,value:!n.value}))}function oM({tableState:{tables:e,indexes:t},relationshipState:{relationships:n}},r,i){const o=B(e,i.tableId),a=[];i.columnIds.forEach(p=>{const m=kt(e,i.tableId,p);m&&a.push(m)});const c=B(e,i.targetTableId),d=kt(e,i.targetTableId,i.targetColumnId);if(o&&c&&a.length&&d){if(i.tableId===i.targetTableId&&!i.columnIds.includes(i.targetColumnId)){const p=[],m=[];i.columnIds.forEach(g=>{const y=B(o.columns,g),b=Ae(o.columns,g);y&&b!==-1&&(p.push(It(y)),m.push(b))}),r.push(rd(i.tableId,i.columnIds),ya(i.tableId,p,m))}else if(i.tableId!==i.targetTableId&&!i.columnIds.includes(i.targetColumnId)){const p=[],m=[],g=[],y=[];i.columnIds.forEach(C=>{const w=B(o.columns,C),E=Ae(o.columns,C);w&&E!==-1&&(g.push(It(w)),y.push(E))}),r.push(rd(i.targetTableId,i.columnIds),ya(i.tableId,g,y)),n.forEach(C=>{const{start:w,end:E}=C;(i.tableId===w.tableId&&i.columnIds.some(T=>w.columnIds.includes(T))||i.tableId===E.tableId&&i.columnIds.some(T=>E.columnIds.includes(T)))&&p.push(It(C))}),t.filter(C=>C.tableId===i.tableId).forEach(C=>m.push(It(C))),p.length&&r.push(fo(p.map(C=>C.id)),...p.map(C=>da(C))),m.length&&r.push($a(m.map(C=>C.id)),...m.map(C=>pl(C)))}}}const aM={"column.add":KO,"column.addCustom":WO,"column.remove":ZO,"column.changeName":QO,"column.changeComment":qO,"column.changeDataType":JO,"column.changeDefault":eM,"column.changeAutoIncrement":tM,"column.changePrimaryKey":nM,"column.changeUnique":rM,"column.changeNotNull":iM,"column.move":oM},sM=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FIXED","FLOAT","GEOMETRY","GEOMETRYCOLLECTION","INT","INTEGER","JSON","LINESTRING","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NUMERIC","POINT","POLYGON","REAL","SET","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","YEAR"],lM=["BIGINT","BINARY","BIT","CHAR","DATE","DATETIME","DATETIME2","DATETIMEOFFSET","DECIMAL","FLOAT","GEOGRAPHY","GEOMETRY","IMAGE","INT","MONEY","NCHAR","NTEXT","NUMERIC","NVARCHAR","REAL","SMALLDATETIME","SMALLINT","SMALLMONEY","SQL_VARIANT","TEXT","TIME","TINYINT","UNIQUEIDENTIFIER","VARBINARY","VARCHAR","XML"],cM=["BIGINT","BINARY","BIT","BLOB","BOOL","BOOLEAN","CHAR","DATE","DATETIME","DEC","DECIMAL","DOUBLE PRECISION","DOUBLE","ENUM","FLOAT","GEOMETRY","GEOMETRYCOLLECTION","INT","INTEGER","JSON","LINESTRING","LONGBLOB","LONGTEXT","MEDIUMBLOB","MEDIUMINT","MEDIUMTEXT","MULTILINESTRING","MULTIPOINT","MULTIPOLYGON","NUMERIC","POINT","POLYGON","SET","SMALLINT","TEXT","TIME","TIMESTAMP","TINYBLOB","TINYINT","TINYTEXT","VARBINARY","VARCHAR","YEAR"],uM=["BFILE","BINARY_DOUBLE","BINARY_FLOAT","BLOB","CHAR","CLOB","DATE","DATETIME","LONG RAW","LONG","NCHAR","NCLOB","NUMBER","NVARCHAR2","RAW","TIMESTAMP WITH LOCAL TIME ZONE","TIMESTAMP WITH TIME ZONE","TIMESTAMP","UriType","VARCHAR","VARCHAR2","XMLType"],dM=["BIGINT","BIGSERIAL","BIT VARYING","BIT","BOOL","BOOLEAN","BOX","BYTEA","CHAR","CHARACTER VARYING","CHARACTER","CIDR","CIRCLE","DATE","DECIMAL","DOUBLE PRECISION","FLOAT4","FLOAT8","INET","INT","INT2","INT4","INT8","INTEGER","INTERVAL","JSON","JSONB","LINE","LSEG","MACADDR","MACADDR8","MONEY","NUMERIC","PATH","PG_LSN","POINT","POLYGON","REAL","SERIAL","SERIAL2","SERIAL4","SERIAL8","SMALLINT","SMALLSERIAL","TEXT","TIME WITH","TIME","TIMESTAMP WITH","TIMESTAMP","TIMESTAMPTZ","TIMETZ","TSQUERY","TSVECTOR","TXID_SNAPSHOT","UUID","VARBIT","VARCHAR","XML"],fM=["BLOB","INTEGER","NUMERIC","REAL","TEXT"],hM=[],pM=[],mM=["ADD","ALTER","AND","AS","ASC","AUTO_INCREMENT","BY","CASCADE","COLUMN","COMMENT","CONSTRAINT","CREATE","DATABASE","DEFAULT","DELETE","DESC","DROP","EXISTS","FOREIGN","IF","INDEX","KEY","LIKE","NOT","NULL","ON","OR","PRIMARY","REFERENCES","RENAME","SCHEMA","SELECT","SET","TABLE","UNION","UNIQUE","USE"],gM=[],vM=[],yM=["AUTOINCREMENT"],St={whiteSpace:/(?:\s+|#.*|-- +.*|\/\*(?:[\s\S])*?\*\/)+/,leftParen:"(",rightParen:")",comma:",",period:".",equal:"=",semicolon:";",doubleQuote:'"',singleQuote:"'",backtick:"`",keywords:bM(),string:/[a-z0-9_\u3131-\u314E\u314F-\u3163\uAC00-\uD7A3\u3040-\u309F\u30A0-\u30FF\u3400-\u4DB5\u4E00-\u9FCC]/i,unknown:/.+/,dataTypes:ty()};function ty(){const e=[...sM,...lM,...cM,...uM,...dM,...fM];return Array.from(new Set(e.map(t=>t.toUpperCase())))}function bM(){const e=[...hM,...pM,...mM,...gM,...vM,...yM,...ty()];return Array.from(new Set(e.map(t=>t.toUpperCase())))}function ee(e,t){return e.type==="keyword"&&e.value.toUpperCase()===t.toUpperCase()}function xM(e){return e?e.type==="doubleQuoteString"||e.type==="singleQuoteString"||e.type==="backtickString":!1}function wM(e){if(!e)return!1;const t=e.value.toUpperCase();return e.type==="string"&&St.keywords.includes(t)}function CM(e){return e?e.type==="keyword":!1}function Ue(e){return e?e.type==="string":!1}function Ta(e){return e?e.type==="period":!1}function Bn(e){return e?e.type==="leftParen":!1}function Un(e){return e?e.type==="rightParen":!1}function kM(e){return e?e.type==="semicolon":!1}function Md(e){return e?e.type==="comma":!1}function Gt(e,t){return e.length>t}function Dd(e){return e?ee(e,"CREATE")||ee(e,"ALTER")||ee(e,"DROP")||ee(e,"USE")||ee(e,"RENAME")||ee(e,"DELETE")||ee(e,"SELECT"):!1}function $M(e){return e.length>2&&ee(e[0],"CREATE")&&ee(e[1],"TABLE")}function TM(e){return e.length>2&&ee(e[0],"CREATE")&&ee(e[1],"INDEX")}function EM(e){return e.length>3&&ee(e[0],"CREATE")&&ee(e[1],"UNIQUE")&&ee(e[2],"INDEX")}function IM(e){return e.length>6&&ee(e[0],"ALTER")&&ee(e[1],"TABLE")&&ee(e[3],"ADD")&&ee(e[4],"PRIMARY")&&ee(e[5],"KEY")||e.length>8&&ee(e[0],"ALTER")&&ee(e[1],"TABLE")&&ee(e[3],"ADD")&&ee(e[4],"CONSTRAINT")&&ee(e[6],"PRIMARY")&&ee(e[7],"KEY")}function SM(e){return e.length>6&&ee(e[0],"ALTER")&&ee(e[1],"TABLE")&&ee(e[3],"ADD")&&ee(e[4],"FOREIGN")&&ee(e[5],"KEY")||e.length>8&&ee(e[0],"ALTER")&&ee(e[1],"TABLE")&&ee(e[3],"ADD")&&ee(e[4],"CONSTRAINT")&&ee(e[6],"FOREIGN")&&ee(e[7],"KEY")}function _M(e){return e.length>5&&ee(e[0],"ALTER")&&ee(e[1],"TABLE")&&ee(e[3],"ADD")&&ee(e[4],"UNIQUE")||e.length>7&&ee(e[0],"ALTER")&&ee(e[1],"TABLE")&&ee(e[3],"ADD")&&ee(e[4],"CONSTRAINT")&&ee(e[6],"UNIQUE")}function AM(e){if(!e)return!1;const t=e.value.toUpperCase();return e.type==="keyword"&&St.dataTypes.includes(t)}function NM(e){return e?ee(e,"NOT"):!1}function OM(e){return e?ee(e,"NULL"):!1}function MM(e){return e?ee(e,"DEFAULT"):!1}function ny(e){return e?ee(e,"COMMENT"):!1}function DM(e){return e?ee(e,"AUTO_INCREMENT")||ee(e,"AUTOINCREMENT"):!1}function ry(e){return e?ee(e,"PRIMARY"):!1}function Ea(e){return e?ee(e,"KEY"):!1}function iy(e){return e?ee(e,"UNIQUE"):!1}function ml(e){return e?ee(e,"CONSTRAINT"):!1}function oy(e){return e?ee(e,"INDEX"):!1}function ay(e){return e?ee(e,"FOREIGN"):!1}function RM(e){return e?ee(e,"REFERENCES"):!1}function sy(e){return e?ee(e,"DESC"):!1}function LM(e){return e?ee(e,"ON"):!1}function Rd(e){return e?ee(e,"TABLE"):!1}function PM(e){const t={value:0},n={type:"create.table",name:"",comment:"",columns:[],indexes:[],foreignKeys:[]};for(;Gt(e,t.value);){let r=e[t.value];if(Bn(r)){t.value++;const{columns:i,indexes:o,foreignKeys:a}=BM(e,t);n.columns=i,n.indexes=o,n.foreignKeys=a;continue}if(Ue(r)&&!n.name){n.name=r.value,r=e[++t.value],Ta(r)&&(r=e[++t.value],Ue(r)&&(n.name=r.value,t.value++));continue}if(ny(r)){r=e[++t.value],Ue(r)&&(n.comment=r.value,t.value++);continue}t.value++}return n}function BM(e,t){const n=[],r=[],i=[],o=[],a=[];let c={name:"",dataType:"",default:"",comment:"",primaryKey:!1,autoIncrement:!1,unique:!1,nullable:!0};for(;Gt(e,t.value);){let d=e[t.value];if(Ue(d)&&!c.name){c.name=d.value,t.value++;continue}if(Bn(d)){for(d=e[++t.value];Gt(e,t.value)&&!Un(d);)d=e[++t.value];t.value++;continue}if(ml(d)){d=e[++t.value],Ue(d)&&t.value++;continue}if(ry(d)){if(d=e[++t.value],Ea(d))if(d=e[++t.value],Bn(d)){for(d=e[++t.value];Gt(e,t.value)&&!Un(d);)Ue(d)&&o.push(d.value.toUpperCase()),d=e[++t.value];t.value++}else c.primaryKey=!0;continue}if(ay(d)){const p=ly(e,t);p&&i.push(p);continue}if(oy(d)||Ea(d)){if(d=e[++t.value],Ue(d)){const p=d.value,m=[];if(d=e[++t.value],Bn(d)){d=e[++t.value];let g={name:"",sort:"ASC"};for(;Gt(e,t.value)&&!Un(d);)Ue(d)&&(g.name=d.value),sy(d)&&(g.sort="DESC"),Md(d)&&(m.push(g),g={name:"",sort:"ASC"}),d=e[++t.value];!m.includes(g)&&g.name!==""&&m.push(g),m.length&&r.push({name:p,unique:!1,columns:m}),t.value++}}continue}if(iy(d)){if(d=e[++t.value],Ea(d)&&(d=e[++t.value]),Ue(d)&&(d=e[++t.value]),Bn(d)){for(d=e[++t.value];Gt(e,t.value)&&!Un(d);)Ue(d)&&a.push(d.value.toUpperCase()),d=e[++t.value];t.value++}else c.unique=!0;continue}if(NM(d)){d=e[++t.value],OM(d)&&(c.nullable=!1,t.value++);continue}if(MM(d)){d=e[++t.value],(Ue(d)||CM(d))&&(c.default=d.value,t.value++);continue}if(ny(d)){d=e[++t.value],Ue(d)&&(c.comment=d.value,t.value++);continue}if(DM(d)){c.autoIncrement=!0,t.value++;continue}if(AM(d)){let p=d.value;if(d=e[++t.value],Bn(d)){for(p+="(",d=e[++t.value];Gt(e,t.value)&&!Un(d);)p+=d.value,d=e[++t.value];p+=")",t.value++}c.dataType=p;continue}if(Md(d)){(c.name||c.dataType)&&n.push(c),c={name:"",dataType:"",default:"",comment:"",primaryKey:!1,autoIncrement:!1,unique:!1,nullable:!0},t.value++;continue}if(Un(d)){t.value++;break}t.value++}return!n.includes(c)&&(c.name||c.dataType)&&n.push(c),n.forEach(d=>{o.includes(d.name.toUpperCase())&&(d.primaryKey=!0),a.includes(d.name.toUpperCase())&&(d.unique=!0)}),{columns:n,indexes:r,foreignKeys:i}}function ly(e,t){const n={columnNames:[],refTableName:"",refColumnNames:[]};let r=e[++t.value];if(Ea(r)){if(r=e[++t.value],Bn(r)){for(r=e[++t.value];Gt(e,t.value)&&!Un(r);)Ue(r)&&n.columnNames.push(r.value),r=e[++t.value];r=e[++t.value]}if(RM(r)&&(r=e[++t.value],Ue(r)&&(n.refTableName=r.value,r=e[++t.value],Ta(r)&&(r=e[++t.value],Ue(r)&&(n.refTableName=r.value,r=e[++t.value])),Bn(r)))){for(r=e[++t.value];Gt(e,t.value)&&!Un(r);)Ue(r)&&n.refColumnNames.push(r.value),r=e[++t.value];r=e[++t.value]}if(n.columnNames.length&&n.columnNames.length===n.refColumnNames.length)return n}return null}function UM(e){const t={value:0},n={type:"alter.table.add.foreignKey",name:"",columnNames:[],refTableName:"",refColumnNames:[]};for(;Gt(e,t.value);){let r=e[t.value];if(Rd(r)){r=e[++t.value],Ue(r)&&(n.name=r.value,r=e[++t.value],Ta(r)&&(r=e[++t.value],Ue(r)&&(n.name=r.value,t.value++)));continue}if(ml(r)){r=e[++t.value],Ue(r)&&t.value++;continue}if(ay(r)){const i=ly(e,t);i&&(n.columnNames=i.columnNames,n.refTableName=i.refTableName,n.refColumnNames=i.refColumnNames);continue}t.value++}return n}function zM(e){let t=0;const n={type:"alter.table.add.primaryKey",name:"",columnNames:[]};for(;Gt(e,t);){let r=e[t];if(Rd(r)){r=e[++t],Ue(r)&&(n.name=r.value,r=e[++t],Ta(r)&&(r=e[++t],Ue(r)&&(n.name=r.value,t++)));continue}if(ml(r)){r=e[++t],Ue(r)&&t++;continue}if(ry(r)){if(r=e[++t],Ea(r)&&(r=e[++t],Bn(r))){for(r=e[++t];Gt(e,t)&&!Un(r);)Ue(r)&&n.columnNames.push(r.value),r=e[++t];r=e[++t]}continue}t++}return n}function jM(e){let t=0;const n={type:"alter.table.add.unique",name:"",columnNames:[]};for(;Gt(e,t);){let r=e[t];if(Rd(r)){r=e[++t],Ue(r)&&(n.name=r.value,r=e[++t],Ta(r)&&(r=e[++t],Ue(r)&&(n.name=r.value,t++)));continue}if(ml(r)){r=e[++t],Ue(r)&&t++;continue}if(iy(r)){if(r=e[++t],Bn(r)){for(r=e[++t];Gt(e,t)&&!Un(r);)Ue(r)&&n.columnNames.push(r.value),r=e[++t];t++}continue}t++}return n}function cy(e,t=!1){let n=0;const r={type:"create.index",name:"",unique:t,tableName:"",columns:[]};for(;Gt(e,n);){let i=e[n];if(oy(i)){i=e[++n],Ue(i)&&(r.name=i.value);continue}if(LM(i)){if(i=e[++n],Ue(i)&&(r.tableName=i.value,i=e[++n],Bn(i))){i=e[++n];let o={name:"",sort:"ASC"};for(;Gt(e,n)&&!Un(i);)Ue(i)&&(o.name=i.value),sy(i)&&(o.sort="DESC"),Md(i)&&(r.columns.push(o),o={name:"",sort:"ASC"}),i=e[++n];!r.columns.includes(o)&&o.name!==""&&r.columns.push(o),n++}continue}n++}return r}function FM(e){return cy(e,!0)}function HM(e){let t=0;const n=[];for(;t<e.length;){let r=e[t];if(St.whiteSpace.test(r)){t++;continue}if(r===St.leftParen){n.push({type:"leftParen",value:"("}),t++;continue}if(r===St.rightParen){n.push({type:"rightParen",value:")"}),t++;continue}if(r===St.comma){n.push({type:"comma",value:","}),t++;continue}if(r===St.period){n.push({type:"period",value:"."}),t++;continue}if(r===St.equal){n.push({type:"equal",value:"="}),t++;continue}if(r===St.semicolon){n.push({type:"semicolon",value:";"}),t++;continue}if(r===St.doubleQuote){let i="";for(r=e[++t];r!==St.doubleQuote;)i+=r,r=e[++t];r=e[++t],n.push({type:"doubleQuoteString",value:i});continue}if(r===St.singleQuote){let i="";for(r=e[++t];r!==St.singleQuote;)i+=r,r=e[++t];r=e[++t],n.push({type:"singleQuoteString",value:i});continue}if(r===St.backtick){let i="";for(r=e[++t];r!==St.backtick;)i+=r,r=e[++t];r=e[++t],n.push({type:"backtickString",value:i});continue}if(St.string.test(r)){let i="";for(;St.string.test(r);)i+=r,r=e[++t];n.push({type:"string",value:i});continue}if(St.unknown.test(r)){let i="";for(;St.unknown.test(r);)i+=r,r=e[++t];n.push({type:"unknown",value:i});continue}t++}return n.forEach(r=>{xM(r)?r.type="string":wM(r)&&(r.type="keyword")}),n}function GM(e){let t=0;const n=[],r=[];for(;t<e.length;){let i=e[t];if(Dd(i)){const o=[];for(o.push(i),i=e[++t];t<e.length&&!Dd(i)&&!kM(i);)o.push(i),i=e[++t];n.push(o)}i&&Dd(i)||t++}return n.forEach(i=>{$M(i)?r.push(PM(i)):TM(i)?r.push(cy(i)):EM(i)?r.push(FM(i)):IM(i)?r.push(zM(i)):SM(i)?r.push(UM(i)):_M(i)&&r.push(jM(i))}),r}function uy(e){const t=HM(e);return GM(t)}function VM(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const YM=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function vr(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function gl(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function XM(e){const t=gl(e,"border-left-width"),n=gl(e,"border-right-width");return e.clientWidth+t+n}function KM(e){const t=gl(e,"border-top-width"),n=gl(e,"border-bottom-width");return e.clientHeight+t+n}function dy(e,t={}){const n=t.width||XM(e),r=t.height||KM(e);return{width:n,height:r}}function WM(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const pn=16384;function ZM(e){(e.width>pn||e.height>pn)&&(e.width>pn&&e.height>pn?e.width>e.height?(e.height*=pn/e.width,e.width=pn):(e.width*=pn/e.height,e.height=pn):e.width>pn?(e.height*=pn/e.width,e.width=pn):(e.width*=pn/e.height,e.height=pn))}function QM(e,t={}){return e.toBlob?new Promise(n=>{e.toBlob(n,t.type?t.type:"image/png",t.quality?t.quality:1)}):new Promise(n=>{const r=window.atob(e.toDataURL(t.type?t.type:void 0,t.quality?t.quality:void 0).split(",")[1]),i=r.length,o=new Uint8Array(i);for(let a=0;a<i;a+=1)o[a]=r.charCodeAt(a);n(new Blob([o],{type:t.type?t.type:"image/png"}))})}function vl(e){return new Promise((t,n)=>{const r=new Image;r.decode=()=>t(r),r.onload=()=>t(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function qM(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function JM(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),o=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),i.appendChild(o),o.appendChild(e),qM(i)}const tn=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||tn(n,t)};function e6(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function t6(e){return vr(e).map(t=>{const n=e.getPropertyValue(t),r=e.getPropertyPriority(t);return`${t}: ${n}${r?" !important":""};`}).join(" ")}function n6(e,t,n){const r=`.${e}:${t}`,i=n.cssText?e6(n):t6(n);return document.createTextNode(`${r}{${i}}`)}function fy(e,t,n){const r=window.getComputedStyle(e,n),i=r.getPropertyValue("content");if(i===""||i==="none")return;const o=YM();try{t.className=`${t.className} ${o}`}catch{return}const a=document.createElement("style");a.appendChild(n6(o,n,r)),t.appendChild(a)}function r6(e,t){fy(e,t,":before"),fy(e,t,":after")}const hy="application/font-woff",py="image/jpeg",i6={woff:hy,woff2:hy,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:py,jpeg:py,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function o6(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Ld(e){const t=o6(e).toLowerCase();return i6[t]||""}function a6(e){return e.split(/,/)[1]}function Pd(e){return e.search(/^(data:)/)!==-1}function my(e,t){return`data:${t};base64,${e}`}async function gy(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((o,a)=>{const c=new FileReader;c.onerror=a,c.onloadend=()=>{try{o(n({res:r,result:c.result}))}catch(d){a(d)}},c.readAsDataURL(i)})}const Bd={};function s6(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function Ud(e,t,n){const r=s6(e,t,n.includeQueryParams);if(Bd[r]!=null)return Bd[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const o=await gy(e,n.fetchRequestInit,({res:a,result:c})=>(t||(t=a.headers.get("Content-Type")||""),a6(c)));i=my(o,t)}catch(o){i=n.imagePlaceholder||"";let a=`Failed to fetch resource: ${e}`;o&&(a=typeof o=="string"?o:o.message),a&&console.warn(a)}return Bd[r]=i,i}async function l6(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):vl(t)}async function c6(e,t){if(e.currentSrc){const o=document.createElement("canvas"),a=o.getContext("2d");o.width=e.clientWidth,o.height=e.clientHeight,a==null||a.drawImage(e,0,0,o.width,o.height);const c=o.toDataURL();return vl(c)}const n=e.poster,r=Ld(n),i=await Ud(n,r,t);return vl(i)}async function u6(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await yl(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function d6(e,t){return tn(e,HTMLCanvasElement)?l6(e):tn(e,HTMLVideoElement)?c6(e,t):tn(e,HTMLIFrameElement)?u6(e):e.cloneNode(!1)}const f6=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function h6(e,t,n){var r,i;let o=[];return f6(e)&&e.assignedNodes?o=vr(e.assignedNodes()):tn(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?o=vr(e.contentDocument.body.childNodes):o=vr(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),o.length===0||tn(e,HTMLVideoElement)||await o.reduce((a,c)=>a.then(()=>yl(c,n)).then(d=>{d&&t.appendChild(d)}),Promise.resolve()),t}function p6(e,t){const n=t.style;if(!n)return;const r=window.getComputedStyle(e);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):vr(r).forEach(i=>{let o=r.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),tn(e,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),n.setProperty(i,o,r.getPropertyPriority(i))})}function m6(e,t){tn(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),tn(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function g6(e,t){if(tn(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function v6(e,t){return tn(t,Element)&&(p6(e,t),r6(e,t),m6(e,t),g6(e,t)),t}async function y6(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let o=0;o<n.length;o++){const c=n[o].getAttribute("xlink:href");if(c){const d=e.querySelector(c),p=document.querySelector(c);!d&&p&&!r[c]&&(r[c]=await yl(p,t,!0))}}const i=Object.values(r);if(i.length){const o="http://www.w3.org/1999/xhtml",a=document.createElementNS(o,"svg");a.setAttribute("xmlns",o),a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.overflow="hidden",a.style.display="none";const c=document.createElementNS(o,"defs");a.appendChild(c);for(let d=0;d<i.length;d++)c.appendChild(i[d]);e.appendChild(a)}return e}async function yl(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>d6(r,t)).then(r=>h6(e,r,t)).then(r=>v6(e,r)).then(r=>y6(r,t))}const vy=/url\((['"]?)([^'"]+?)\1\)/g,b6=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,x6=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function w6(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function C6(e){const t=[];return e.replace(vy,(n,r,i)=>(t.push(i),n)),t.filter(n=>!Pd(n))}async function k6(e,t,n,r,i){try{const o=n?VM(t,n):t,a=Ld(t);let c;if(i){const d=await i(o);c=my(d,a)}else c=await Ud(o,a,r);return e.replace(w6(t),`$1${c}$3`)}catch{}return e}function $6(e,{preferredFontFormat:t}){return t?e.replace(x6,n=>{for(;;){const[r,,i]=b6.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function yy(e){return e.search(vy)!==-1}async function by(e,t,n){if(!yy(e))return e;const r=$6(e,n);return C6(r).reduce((o,a)=>o.then(c=>k6(c,a,t,n)),Promise.resolve(r))}async function bl(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const o=await by(i,null,n);return t.style.setProperty(e,o,t.style.getPropertyPriority(e)),!0}return!1}async function T6(e,t){await bl("background",e,t)||await bl("background-image",e,t),await bl("mask",e,t)||await bl("mask-image",e,t)}async function E6(e,t){const n=tn(e,HTMLImageElement);if(!(n&&!Pd(e.src))&&!(tn(e,SVGImageElement)&&!Pd(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await Ud(r,Ld(r),t);await new Promise((o,a)=>{e.onload=o,e.onerror=a;const c=e;c.decode&&(c.decode=o),c.loading==="lazy"&&(c.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function I6(e,t){const r=vr(e.childNodes).map(i=>xy(i,t));await Promise.all(r).then(()=>e)}async function xy(e,t){tn(e,Element)&&(await T6(e,t),await E6(e,t),await I6(e,t))}function S6(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const wy={};async function Cy(e){let t=wy[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},wy[e]=t,t}async function ky(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map(async a=>{let c=a.replace(r,"$1");return c.startsWith("https://")||(c=new URL(c,e.url).href),gy(c,t.fetchRequestInit,({result:d})=>(n=n.replace(a,`url(${d})`),[a,d]))});return Promise.all(o).then(()=>n)}function $y(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const d=i.exec(r);if(d===null)break;t.push(d[0])}r=r.replace(i,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",c=new RegExp(a,"gi");for(;;){let d=o.exec(r);if(d===null){if(d=c.exec(r),d===null)break;o.lastIndex=c.lastIndex}else c.lastIndex=o.lastIndex;t.push(d[0])}return t}async function _6(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{vr(i.cssRules||[]).forEach((o,a)=>{if(o.type===CSSRule.IMPORT_RULE){let c=a+1;const d=o.href,p=Cy(d).then(m=>ky(m,t)).then(m=>$y(m).forEach(g=>{try{i.insertRule(g,g.startsWith("@import")?c+=1:i.cssRules.length)}catch(y){console.error("Error inserting rule from remote css",{rule:g,error:y})}})).catch(m=>{console.error("Error loading remote css",m.toString())});r.push(p)}})}catch(o){const a=e.find(c=>c.href==null)||document.styleSheets[0];i.href!=null&&r.push(Cy(i.href).then(c=>ky(c,t)).then(c=>$y(c).forEach(d=>{a.insertRule(d,i.cssRules.length)})).catch(c=>{console.error("Error loading remote stylesheet",c)})),console.error("Error inlining remote css file",o)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{vr(i.cssRules||[]).forEach(o=>{n.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${i.href}`,o)}}),n))}function A6(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>yy(t.style.getPropertyValue("src")))}async function N6(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=vr(e.ownerDocument.styleSheets),r=await _6(n,t);return A6(r)}async function O6(e,t){const n=await N6(e,t);return(await Promise.all(n.map(i=>{const o=i.parentStyleSheet?i.parentStyleSheet.href:null;return by(i.cssText,o,t)}))).join(`
`)}async function M6(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await O6(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function D6(e,t={}){const{width:n,height:r}=dy(e,t),i=await yl(e,t,!0);return await M6(i,t),await xy(i,t),S6(i,t),await JM(i,n,r)}async function R6(e,t={}){const{width:n,height:r}=dy(e,t),i=await D6(e,t),o=await vl(i),a=document.createElement("canvas"),c=a.getContext("2d"),d=t.pixelRatio||WM(),p=t.canvasWidth||n,m=t.canvasHeight||r;return a.width=p*d,a.height=m*d,t.skipAutoScale||ZM(a),a.style.width=`${p}`,a.style.height=`${m}`,t.backgroundColor&&(c.fillStyle=t.backgroundColor,c.fillRect(0,0,a.width,a.height)),c.drawImage(o,0,0,a.width,a.height),a}async function L6(e,t={}){const n=await R6(e,t);return await QM(n)}function P6(){const e=document.createElement("div");return{on:r=>new wt(i=>{const o=a=>i.next(a.detail);return e.addEventListener(r,o),()=>e.removeEventListener(r,o)}),emit:(r,i)=>{e.dispatchEvent(new CustomEvent(r,{detail:i}))}}}var Ty=(e=>(e.move="BalanceRange.move",e))(Ty||{}),Ey=(e=>(e.openTableProperties="Drawer.openTableProperties",e.close="Drawer.close",e))(Ey||{}),Iy=(e=>(e.close="Contextmenu.close",e))(Iy||{}),Sy=(e=>(e.close="ColorPicker.close",e.open="ColorPicker.open",e))(Sy||{}),_y=(e=>(e.add="ToastBar.add",e))(_y||{}),Ay=(e=>(e.change="Editor.change",e))(Ay||{}),Ny=(e=>(e.progress="Liquibase.liquibase-progress",e.progressEnd="Liquibase.liquibase-progress-end",e))(Ny||{});const je={BalanceRange:Ty,Drawer:Ey,Contextmenu:Iy,Liquibase:Ny,ColorPicker:Sy,ToastBar:_y,Editor:Ay},Oy=["MariaDB","MSSQL","MySQL","Oracle","PostgreSQL","SQLite"],B6=["GraphQL","C#","Java","Kotlin","TypeScript","JPA","Scala"],U6=["MonokaiSublime","VS2015","AtomOneDark","AtomOneLight","GithubGist"],z6={none:"",singleQuote:"'",doubleQuote:'"',backtick:"`"},My=()=>({version:"2.2.13",width:2e3,height:2e3,scrollTop:0,scrollLeft:0,zoomLevel:1,show:{tableComment:!0,columnComment:!0,columnDataType:!0,columnDefault:!0,columnAutoIncrement:!1,columnPrimaryKey:!0,columnUnique:!1,columnNotNull:!0,relationship:!0},database:"MySQL",databaseName:"",canvasType:"ERD",language:"GraphQL",tableCase:"pascalCase",columnCase:"camelCase",highlightTheme:"VS2015",bracketType:"none",setting:{relationshipDataTypeSync:!0,relationshipOptimization:!1,columnOrder:["columnName","columnDataType","columnNotNull","columnUnique","columnAutoIncrement","columnDefault","columnComment"]},pluginSerializationMap:{}}),Dy=()=>({memos:[]}),zd=["ZeroOne","OneOnly","One"],jd=["ZeroOneN","ZeroN","OneN","N"],Ry=()=>({relationships:[]}),Ly=()=>({tables:[],indexes:[]});function Py(e,t={tables:[],indexes:[],primaryKeys:[],foreignKeys:[],dropForeignKeys:[],uniques:[],addColumns:[],dropColumns:[],dropTable:[]}){return e.forEach(n=>{switch(n.type){case"create.table":const r=n;!nt(t.tables,r.name)&&r.name&&t.tables.push(r);break;case"create.index":const o=n;!nt(t.indexes,o.name)&&o.tableName&&o.columns.length&&t.indexes.push(o);break;case"alter.table.add.primaryKey":const c=n;!nt(t.primaryKeys,c.name)&&c.name&&c.columnNames.length&&t.primaryKeys.push(c);break;case"alter.table.add.foreignKey":const p=n;!j6(t.foreignKeys,p.constraintName)&&p.name&&p.columnNames.length&&p.refTableName&&p.refColumnNames.length&&p.columnNames.length===p.refColumnNames.length&&t.foreignKeys.push(p);break;case"alter.table.add.unique":const g=n;!nt(t.uniques,g.name)&&g.name&&g.columnNames.length&&t.uniques.push(g);break;case"alter.table.add.column":const b=n;!nt(t.addColumns,b.name)&&b.name&&b.columns.length&&t.addColumns.push(b);break;case"alter.table.drop.column":const w=n;!nt(t.dropColumns,w.name)&&w.name&&w.columns.length&&t.dropColumns.push(w);break;case"drop.table":const T=n;!nt(t.dropTable,T.name)&&T.name&&t.dropTable.push(T);break;case"alter.table.drop.foreignKey":const _=n;!nt(t.dropForeignKeys,_.name)&&_.name&&_.baseTableName&&t.dropForeignKeys.push(_);break}}),t}function nt(e,t){for(const n of e)if(n.name.toUpperCase()===t.toUpperCase())return n;return null}function j6(e,t){var n;if(!t)return null;for(const r of e)if(((n=r.constraintName)==null?void 0:n.toUpperCase())===(t==null?void 0:t.toUpperCase()))return r;return null}function F6(e){const{indexes:t,primaryKeys:n,foreignKeys:r,uniques:i,addColumns:o,dropColumns:a,dropForeignKeys:c,dropTable:d}=e;var{tables:p}=e;return t.forEach(m=>{const g=nt(p,m.tableName);g&&g.indexes.push({name:m.name,unique:m.unique,columns:m.columns,id:m.id})}),n.forEach(m=>{const g=nt(p,m.name);g&&m.columnNames.forEach(y=>{const b=nt(g.columns,y);b&&(b.primaryKey=!0)})}),i.forEach(m=>{const g=nt(p,m.name);g&&m.columnNames.forEach(y=>{const b=nt(g.columns,y);b&&(b.unique=!0)})}),r.forEach(m=>{const g=nt(p,m.name);g&&g.foreignKeys.push({columnNames:m.columnNames,refTableName:m.refTableName,refColumnNames:m.refColumnNames,constraintName:m.constraintName,visible:m.visible,id:m.id})}),o.forEach(m=>{const g=nt(p,m.name);g&&m.columns.forEach(y=>{nt(g.columns,y.name)||g.columns.push(y)})}),a.forEach(m=>{const g=nt(p,m.name);g&&m.columns.forEach(y=>{g.columns=g.columns.filter(b=>y.name!==b.name)})}),d.forEach(m=>{p=p.filter(g=>g.name!==m.name)}),c.forEach(m=>{const g=nt(p,m.baseTableName);g&&(g.foreignKeys=g.foreignKeys.filter(y=>y.constraintName!==m.name))}),p}function H6({table:e,relationship:t}){const n={tables:[],indexes:[],primaryKeys:[],foreignKeys:[],dropForeignKeys:[],uniques:[],addColumns:[],dropColumns:[],dropTable:[]};return n.tables.push(...e.tables.map(r=>{const i=r.columns.map(a=>({name:a.name,dataType:a.dataType,default:a.default,comment:a.comment,primaryKey:a.option.primaryKey,autoIncrement:a.option.autoIncrement,unique:a.option.unique,nullable:!a.option.notNull,id:a.id}));var o={type:"create.table",id:r.id,columns:i,comment:r.comment,foreignKeys:[],indexes:[],name:r.name,visible:r.visible};return o})),n.indexes.push(...e.indexes.map(r=>{const i=B(e.tables,r.tableId),o=[];i&&r.columns.forEach(c=>{const d=B(i.columns,c.id);d&&o.push({name:d.name,sort:c.orderType})});var a={type:"create.index",id:r.id,name:r.name,unique:r.unique,tableName:(i==null?void 0:i.name)||"",columns:o};return a})),n.foreignKeys.push(...t.relationships.map(r=>{const i=B(e.tables,r.end.tableId),o=r.end.columnIds.map(p=>{var m;return((m=B((i==null?void 0:i.columns)||[],p))==null?void 0:m.name)||""}),a=B(e.tables,r.start.tableId),c=r.start.columnIds.map(p=>{var m;return((m=B((a==null?void 0:a.columns)||[],p))==null?void 0:m.name)||""});return{type:"alter.table.add.foreignKey",id:r.id,name:(i==null?void 0:i.name)||"",columnNames:o,refTableName:(a==null?void 0:a.name)||"",refColumnNames:c,constraintName:r.constraintName??"",visible:r.visible}})),n}function By(e,t,n,r){const i=My();return i.width=e,i.height=e,i.database=t,{canvas:n||i,table:Ly(),memo:r||Dy(),relationship:Ry()}}function Uy(e,t,n,r){var i;r?(i=H6(r),i=Py(e,i)):i=Py(e);const o=F6(i);let a=o.length*100;a<Xc&&(a=Xc),a>Kc&&(a=Kc);var c;return r?c=By(a,n,r.canvas,r.memo):c=By(a,n),o.forEach(d=>{c.table.tables.push(G6(t,d,r==null?void 0:r.table.tables))}),Y6(c,o),X6(c,o),JSON.stringify(c)}function G6(e,t,n){const r=nt(n||[],t.name),i={id:t.id||Be(),name:t.name,comment:t.comment,columns:[],ui:r?r.ui:{active:!1,top:0,left:0,widthName:be,widthComment:be,zIndex:2},visible:t.visible===void 0?!0:t.visible},o=e.getFastTextWidth(i.name);be<o&&(i.ui.widthName=o);const a=e.getFastTextWidth(i.comment);return be<a&&(i.ui.widthComment=a),t.columns.forEach(c=>{i.columns.push(V6(e,c))}),i}function V6(e,t){const n={id:t.id||Be(),name:t.name,comment:t.comment,dataType:t.dataType,default:t.default,option:{autoIncrement:t.autoIncrement,primaryKey:t.primaryKey,unique:t.unique,notNull:!t.nullable},ui:{active:!1,pk:t.primaryKey,fk:!1,pfk:!1,widthName:be,widthComment:be,widthDataType:be,widthDefault:be}},r=e.getFastTextWidth(n.name);be<r&&(n.ui.widthName=r);const i=e.getFastTextWidth(n.comment);be<i&&(n.ui.widthComment=i);const o=e.getFastTextWidth(n.dataType);be<o&&(n.ui.widthDataType=o);const a=e.getFastTextWidth(n.default);return be<a&&(n.ui.widthDefault=a),n}function Y6(e,t){t.forEach(n=>{if(n.foreignKeys){const r=nt(e.table.tables,n.name);r&&n.foreignKeys.forEach(i=>{const o=nt(e.table.tables,i.refTableName);if(o){const a=[],c=[];i.refColumnNames.forEach(d=>{const p=nt(o.columns,d);p&&a.push(p)}),i.columnNames.forEach(d=>{const p=nt(r.columns,d);p&&(c.push(p),p.ui.pk?(p.ui.pk=!1,p.ui.pfk=!0):p.ui.fk=!0)}),o.visible&&r.visible?i.visible=!0:i.visible=!1,e.relationship.relationships.push({id:i.id||Be(),identification:!c.some(d=>!d.ui.pfk),relationshipType:"ZeroOneN",start:{tableId:o.id,columnIds:a.map(d=>d.id),x:0,y:0,direction:"top"},end:{tableId:r.id,columnIds:c.map(d=>d.id),x:0,y:0,direction:"top"},constraintName:i.constraintName,visible:i.visible})}})}})}function X6(e,t){t.forEach(n=>{n.indexes&&n.indexes.forEach(r=>{const i=nt(e.table.tables,n.name);if(i){const o=[];r.columns.forEach(a=>{const c=nt(i.columns,a.name);c&&o.push({id:c.id,orderType:a.sort})}),o.length!==0&&e.table.indexes.push({id:r.id||Be(),name:r.name,tableId:i.id,columns:o,unique:r.unique})}})})}let Fd=null,Ia=null;const K6=({canvasState:e,tableState:t,memoState:n,relationshipState:r})=>({canvas:e,table:t,memo:n,relationship:r}),Sa=(e,t)=>JSON.stringify(K6(e),(n,r)=>n.startsWith("_")?void 0:r,t);function W6(e,t){const n={fileName:(t==null?void 0:t.trim())===""?`unnamed-${new Date().getTime()}.png`:`${t}-${new Date().getTime()}.png`};L6(e).then(r=>{r&&Hd(r,n)})}const Z6=(e,t)=>{const n={fileName:(t==null?void 0:t.trim())===""?`unnamed-${new Date().getTime()}.vuerd.json`:`${t}-${new Date().getTime()}.vuerd.json`};Hd(new Blob([e],{type:"application/json"}),n)},Q6=(e,t)=>{const n={fileName:(t==null?void 0:t.trim())===""?`unnamed-${new Date().getTime()}.sql`:`${t}-${new Date().getTime()}.sql`};Hd(new Blob([e]),n)},Hd=(e,t)=>Fd?Fd(e,t):q6(e,t);function q6(e,t){const n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.download=t.fileName,n.click()}function J6(e){Fd=e}function eD(e){Ia=e}function tD({store:e,eventBus:t}){if(Ia){Ia({accept:".json,.erd,.vuerd",type:"json"});return}const n=document.createElement("input");n.setAttribute("type","file"),n.setAttribute("accept",".json,.erd,.vuerd"),n.addEventListener("change",r=>{const i=r.target;if(i.files&&i.files.length){const o=i.files[0];if(/\.(json|erd|vuerd)$/i.test(o.name)){const a=new FileReader;a.readAsText(o),a.onload=()=>{const c=a.result;typeof c=="string"&&e.dispatch(Hr(c))}}else t.emit(je.ToastBar.add,{bodyTpl:V`Just import the json file`})}}),n.click()}function nD(e){if(Ia){Ia({accept:".sql",type:"sql"});return}const t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept",".sql"),t.addEventListener("change",n=>{const r=n.target;if(r.files&&r.files.length){const i=r.files[0],{helper:o,store:a,eventBus:c}=e;if(/\.(sql)$/i.test(i.name)){const d=new FileReader;d.readAsText(i),d.onload=()=>{const p=d.result;if(typeof p=="string"){const m=uy(p),g=Uy(m,o,a.canvasState.database);a.dispatchSync(Hr(g),zu())}}}else c.emit(je.ToastBar.add,{bodyTpl:V`Just import the sql file`})}}),t.click()}function rD(e,t){t.push(Hr(Sa(e)))}function iD(e,t){t.push(Hr(Sa(e)))}const oD={"editor.loadJson":rD,"editor.clear":iD};function aD(e,t,n){t.push(Zs(e,n.id))}function sD({memoState:{memos:e}},t,{memoIds:n}){const r=n.map(i=>B(e,i)).filter(i=>!!i);r.length&&t.push(...r.map(i=>Qg(It(i))))}function lD({memoState:{memos:e}},t,n){const r=B(e,n.memoId);r&&t.push(Hu(r.id,r.value))}const cD={"memo.add":aD,"memo.remove":sD,"memo.changeValue":lD};function uD(e,t,n){t.push(fo([n.id]))}function dD({relationshipState:{relationships:e}},t,{relationshipIds:n}){const r=n.map(i=>B(e,i)).filter(i=>!!i);r.length&&t.push(...r.map(i=>da(It(i))))}function fD({relationshipState:{relationships:e}},t,n){const r=B(e,n.relationshipId);r&&t.push(U("relationship.changeRelationshipType",{relationshipId:r.id,relationshipType:r.relationshipType}))}function hD({relationshipState:{relationships:e}},t,n){const r=B(e,n.relationshipId);r&&t.push(U("relationship.changeStartRelationshipType",{relationshipId:r.id,startRelationshipType:r.startRelationshipType??"Dash"}))}function pD(e,t,{relationshipId:n,identification:r}){t.push(Lg(n,!r))}function mD(e,t,{relationshipId:n}){t.push(Bg(n))}function gD(e,t,{relationshipId:n}){t.push(Pg(n))}const vD={"relationship.add":uD,"relationship.remove":dD,"relationship.changeRelationshipType":fD,"relationship.changeStartRelationshipType":hD,"relationship.changeIdentification":pD,"relationship.hide":mD,"relationship.show":gD},Gd=20;function yD(e,t,n){const r=e.filter(p=>p.name==="table.move");if(!r.length)return;const i=r[0].data,o=i.tableIds,a=i.memoIds;let c=0,d=0;r.forEach(p=>{const m=p.data;c+=m.movementX,d+=m.movementY}),!(Math.abs(c)+Math.abs(d)<Gd)&&(t.push(U("table.move",{movementX:-1*c,movementY:-1*d,tableIds:o,memoIds:a})),n.push(U("table.move",{movementX:c,movementY:d,tableIds:o,memoIds:a})))}function bD(e,t,n){const r=e.filter(p=>p.name==="memo.move");if(!r.length)return;const i=r[0].data,o=i.tableIds,a=i.memoIds;let c=0,d=0;r.forEach(p=>{const m=p.data;c+=m.movementX,d+=m.movementY}),!(Math.abs(c)+Math.abs(d)<Gd)&&(t.push(U("memo.move",{movementX:-1*c,movementY:-1*d,tableIds:o,memoIds:a})),n.push(U("memo.move",{movementX:c,movementY:d,tableIds:o,memoIds:a})))}function xD(e,t,n){const r=e.filter(i=>i.name==="memo.resize");r.length<2||(t.push(r[0]),n.push(r[r.length-1]))}function wD(e,t,n){const r=e.filter(a=>a.name==="canvas.movement");if(!r.length)return;let i=0,o=0;r.forEach(a=>{const c=a.data;i+=c.movementX,o+=c.movementY}),!(Math.abs(i)+Math.abs(o)<Gd)&&(t.push(pr(-1*i,-1*o)),n.push(pr(i,o)))}function CD(e,t,n){const r=e.filter(o=>o.name==="canvas.movementZoom");if(!r.length)return;const i=r.map(o=>o.data.movementZoomLevel).reduce((o,a)=>o+a,0);t.push(js(-1*i)),n.push(js(i))}const zy={"table.move":yD,"memo.move":bD,"memo.resize":xD,"canvas.movement":wD,"canvas.movementZoom":CD};function kD(e,t,n){t.push(Ks(e,n.id))}function $D({tableState:{tables:e,indexes:t},relationshipState:{relationships:n}},r,{tableIds:i}){const o=[],a=[],c=[];i.forEach(d=>{const p=B(e,d);if(!p)return;o.push(It(p)),n.forEach(g=>{const{start:y,end:b}=g;(d===y.tableId||d===b.tableId)&&a.push(It(g))}),t.filter(g=>g.tableId===p.id).forEach(g=>c.push(It(g)))}),o.length&&(r.push(...o.map(d=>Gg(d))),a.length&&r.push(fo(a.map(d=>d.id)),...a.map(d=>da(d))),c.length&&r.push($a(c.map(d=>d.id)),...c.map(d=>pl(d))))}function TD({tableState:{tables:e}},t,n){const r=B(e,n.tableId);r&&t.push(U("table.changeName",{tableId:r.id,value:r.name,width:r.ui.widthName}))}function ED({tableState:{tables:e}},t,n){const r=B(e,n.tableId);r&&t.push(U("table.changeComment",{tableId:r.id,value:r.comment,width:r.ui.widthComment}))}function ID(e,t){t.push(Hr(Sa(e)))}const SD={...XO,...cD,...{"table.add":kD,"table.remove":$D,"table.changeName":TD,"table.changeComment":ED,"table.sort":ID},...aM,...oD,...vD};function _D(e,t,n){const r=[],i=[];n.forEach(o=>{const a=SD[o.name];a&&(a(e,r,o.data),i.push(o))}),Object.keys(zy).forEach(o=>zy[o](n,r,i)),!(!r.length||!i.length)&&t.push({undo:()=>e.history$.next([...Ko(r)]),redo:()=>e.history$.next([...Ko(i)])})}const AD=xs((e,t,n)=>{try{_D(e,t,n)}catch(r){so.error(r)}}),jy=(Or+Yi)*2,Co=30+20,ko=35,_e=10,ot=16,xl=26,Fy=["top","bottom","left","right"];function wl(e){const t=e.width()+jy,n=e.height()+jy,r=e.ui;return{width:t,height:n,top:{x:r.left+t/2,y:r.top},bottom:{x:r.left+t/2,y:r.top+n},left:{x:r.left,y:r.top+n/2},right:{x:r.left+t,y:r.top+n/2},lt:{x:r.left,y:r.top},rt:{x:r.left+t,y:r.top},lb:{x:r.left,y:r.top+n},rb:{x:r.left+t,y:r.top+n}}}const Cl=(e,t)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),Vd=e=>Fy.includes(e);function ND(e){let t="bottom";if(!e.start)return t;const n=wl(e.start.table);let r=Cl(n.bottom,e.end);return e.start.x=n.bottom.x,e.start.y=n.bottom.y,Object.keys(n).filter(Vd).forEach(i=>{const o=i,a=Cl(n[o],e.end);r<=a||(r=a,t=o,e.start&&(e.start.x=n[o].x,e.start.y=n[o].y))}),t}function OD(e,t){const n={start:{x1:0,y1:0,x2:0,y2:0}},r={M:{x:0,y:0},L:{x:0,y:0},Q:{x:0,y:0},d(){return`M ${this.M.x} ${this.M.y} L ${this.L.x} ${this.L.y}`}};if(t.start){n.start.x1=t.start.x,n.start.y1=t.start.y,n.start.x2=t.start.x,n.start.y2=t.start.y;let i=1;e==="left"||e==="right"?(e==="left"&&(i*=-1),n.start.x2=t.start.x+i*Co,n.start.x1+=i*ko,r.M.x=n.start.x2,r.M.y=t.start.y):(e==="top"||e==="bottom")&&(e==="top"&&(i*=-1),n.start.y2=t.start.y+i*Co,n.start.y1+=i*ko,r.M.x=t.start.x,r.M.y=n.start.y2)}return r.L.x=t.end.x,r.L.y=t.end.y,{path:r,line:n}}function MD(e,t){const n={start:{base:{x1:0,y1:0,x2:0,y2:0},base2:{x1:0,y1:0,x2:0,y2:0},center:{x1:0,y1:0,x2:0,y2:0},center2:{x1:0,y1:0,x2:0,y2:0}}};if(!t.start)return n;n.start.base.x1=n.start.base2.x1=n.start.center.x1=n.start.center2.x1=t.start.x,n.start.base.x2=n.start.base2.x2=n.start.center.x2=n.start.center2.x2=t.start.x,n.start.base.y1=n.start.base2.y1=n.start.center.y1=n.start.center2.y1=t.start.y,n.start.base.y2=n.start.base2.y2=n.start.center.y2=n.start.center2.y2=t.start.y;let r=1;return e==="left"||e==="right"?(e==="left"&&(r*=-1),n.start.base.x1=n.start.base.x2+=r*ot,n.start.base2.x1=n.start.base2.x2+=r*(_e+ot),n.start.center.x1=n.start.base.x1,n.start.base.y1-=_e,n.start.base.y2+=_e,n.start.base2.y1-=_e,n.start.base2.y2+=_e,n.start.center2.x1+=r*(ot+ot+3)):(e==="top"||e==="bottom")&&(e==="top"&&(r*=-1),n.start.base.y1=n.start.base.y2+=r*ot,n.start.base2.y1=n.start.base2.y2+=r*(_e+ot),n.start.center.y1=n.start.base.y1,n.start.base.x1-=_e,n.start.base.x2+=_e,n.start.base2.x1-=_e,n.start.base2.x2+=_e,n.start.center2.y1+=r*(ot+ot+3)),n}function DD(e){const t={path:{path:{M:{x:0,y:0},L:{x:0,y:0},Q:{x:0,y:0},d(){return`M ${this.M.x} ${this.M.y} L ${this.L.x} ${this.L.y}`}},line:{start:{x1:0,y1:0,x2:0,y2:0}}},line:{start:{base:{x1:0,y1:0,x2:0,y2:0},base2:{x1:0,y1:0,x2:0,y2:0},center:{x1:0,y1:0,x2:0,y2:0},center2:{x1:0,y1:0,x2:0,y2:0}}}};if(!e.start)return t;const n=ND(e);return t.path=OD(n,e),t.line=MD(n,e),t}const Yd=(e,t)=>e.find(n=>n.table.id===t.id);function RD(e,t,n){const r={start:"bottom",end:"bottom"};let i=Cl(e.bottom,t.bottom);return n.start.x=e.bottom.x,n.start.y=e.bottom.y,n.end.x=t.bottom.x,n.end.y=t.bottom.y,Object.keys(e).filter(Vd).forEach(o=>{Object.keys(t).filter(Vd).forEach(a=>{const c=o,d=a,p=Cl(e[c],t[d]);i<=p||(i=p,r.start=c,r.end=d,n.start.x=e[c].x,n.start.y=e[c].y,n.end.x=t[d].x,n.end.y=t[d].y)})}),r}function LD(e,t){const n=t[e].length,r={x:t.coordinate.width/n,y:t.coordinate.height/n},i={x:r.x/2,y:r.y/2},o=[],a=[];if(e==="left"||e==="right"){let c=t.coordinate.lt.y-i.y;for(let d=0;d<n;d++)c+=r.y,a.push(c)}else if(e==="top"||e==="bottom"){let c=t.coordinate.lt.x-i.x;for(let d=0;d<n;d++)c+=r.x,o.push(c)}return{xArray:o,yArray:a}}const PD=(e,t)=>e.distance-t.distance;function BD(e,t,n){const r=[],i=[],o=e==="top"||e==="bottom";n.forEach(c=>{c.start.tableId===c.end.tableId?e==="top"?(r.push(c.start),i.push(c.end)):e==="right"&&(r.push(c.end),i.push(c.start)):c.start.tableId===t.id?(r.push(c.start),i.push(c.end)):(r.push(c.end),i.push(c.start))});const a=[];return i.forEach((c,d)=>{a.push({start:r[d],end:i[d],distance:o?c.x:c.y})}),a.sort(PD)}function UD(e,t){const n=LD(e,t);let r=BD(e,t.table,t[e]);e==="left"||e==="right"?n.yArray.forEach((i,o)=>{r[o].start.y=i}):(e==="top"||e==="bottom")&&n.xArray.forEach((i,o)=>{r[o].start.x=i})}function Kr(e,t){const n=[];t.forEach(r=>{if(!r.visible)return;const i=B(e,r.start.tableId),o=B(e,r.end.tableId);if(i&&o)if(r.start.tableId===r.end.tableId){r.start.direction="top",r.end.direction="right";const a=Yd(n,i);if(a)r.start.x=a.coordinate.rt.x-20,r.start.y=a.coordinate.rt.y,r.end.x=a.coordinate.rt.x,r.end.y=a.coordinate.rt.y+20,a.top.push(r),a.right.push(r);else{const c=wl(i);r.start.x=c.rt.x-20,r.start.y=c.rt.y,r.end.x=c.rt.x,r.end.y=c.rt.y+20,n.push({table:i,coordinate:c,top:[r],bottom:[],left:[],right:[r]})}}else{const a=wl(i),c=wl(o),d=RD(a,c,r),p=Yd(n,i),m=Yd(n,o);if(r.start.direction=d.start,r.end.direction=d.end,p)p[d.start].push(r);else{const g={table:i,coordinate:a,top:[],bottom:[],left:[],right:[]};g[d.start].push(r),n.push(g)}if(m)m[d.end].push(r);else{const g={table:o,coordinate:c,top:[],bottom:[],left:[],right:[]};g[d.end].push(r),n.push(g)}}}),n.forEach(r=>{Fy.forEach(i=>{const o=i;r[o].length<2||UD(o,r)})})}function zD(e,t){const n={start:{x1:e.x,y1:e.y,x2:e.x,y2:e.y},end:{x1:t.x,y1:t.y,x2:t.x,y2:t.y}},r={M:{x:0,y:0},L:{x:0,y:0},Q:{x:0,y:0},d(){const o=this.M.x-this.L.x,a=this.M.y-this.L.y,c=o/2,d=a/2,p=Math.abs(a)<=Math.abs(o),m=Math.abs(p?d:c),g=HD(m),y=g(!0),b=g(!1),C=y(o),w=y(a),E=b(o),T=b(a),I=p?this.M.x-c+C:this.M.x,_=p?this.M.y:this.M.y-d+w,k=p?this.L.x+c+E:this.L.x,O=p?this.L.y:this.L.y+d+T;return[[{x:this.M.x,y:this.M.y},{x:I,y:_}],[{x:I,y:_},{x:k,y:O}],[{x:k,y:O},{x:this.L.x,y:this.L.y}]]}};let i=1;return e.direction==="left"||e.direction==="right"?(e.direction==="left"&&(i*=-1),n.start.x2=e.x+i*Co,n.start.x1+=i*ko,r.M.x=n.start.x2,r.M.y=e.y):(e.direction==="top"||e.direction==="bottom")&&(e.direction==="top"&&(i*=-1),n.start.y2=e.y+i*Co,n.start.y1+=i*ko,r.M.x=e.x,r.M.y=n.start.y2),i=1,t.direction==="left"||t.direction==="right"?(t.direction==="left"&&(i*=-1),n.end.x2=t.x+i*Co,n.end.x1+=i*ko,r.L.x=n.end.x2,r.L.y=t.y):(t.direction==="top"||t.direction==="bottom")&&(t.direction==="top"&&(i*=-1),n.end.y2=t.y+i*Co,n.end.y1+=i*ko,r.L.x=t.x,r.L.y=n.end.y2),{line:n,path:r}}function jD(e,t){const n={start:{base:{x1:e.x,y1:e.y,x2:e.x,y2:e.y},base2:{x1:e.x,y1:e.y,x2:e.x,y2:e.y},center:{x1:e.x,y1:e.y,x2:e.x,y2:e.y},center2:{x1:e.x,y1:e.y,x2:e.x,y2:e.y}},end:{base:{x1:t.x,y1:t.y,x2:t.x,y2:t.y},base2:{x1:t.x,y1:t.y,x2:t.x,y2:t.y},left:{x1:t.x,y1:t.y,x2:t.x,y2:t.y},center:{x1:t.x,y1:t.y,x2:t.x,y2:t.y},center2:{x1:t.x,y1:t.y,x2:t.x,y2:t.y},right:{x1:t.x,y1:t.y,x2:t.x,y2:t.y}}},r={cx:t.x,cy:t.y},i={cx:e.x,cy:e.y};let o=1;return e.direction==="left"||e.direction==="right"?(e.direction==="left"&&(o*=-1),n.start.base.x1=n.start.base.x2+=o*ot,n.start.base2.x1=n.start.base2.x2+=o*(_e+ot),n.start.center.x1=n.start.base.x1,n.start.base.y1-=_e,n.start.base.y2+=_e,n.start.base2.y1-=_e,n.start.base2.y2+=_e,n.start.center2.x1+=o*(ot+ot+3),i.cx+=o*xl):(e.direction==="top"||e.direction==="bottom")&&(e.direction==="top"&&(o*=-1),n.start.base.y1=n.start.base.y2+=o*ot,n.start.base2.y1=n.start.base2.y2+=o*(_e+ot),n.start.center.y1=n.start.base.y1,n.start.base.x1-=_e,n.start.base.x2+=_e,n.start.base2.x1-=_e,n.start.base2.x2+=_e,n.start.center2.y1+=o*(ot+ot+3),i.cy+=o*xl),o=1,t.direction==="left"||t.direction==="right"?(t.direction==="left"&&(o*=-1),n.end.base.x1=n.end.base.x2+=o*ot,n.end.base2.x1=n.end.base2.x2+=o*(_e+ot),n.end.center.x1=n.end.left.x1=n.end.right.x1=n.end.base.x1,n.end.base.y1-=_e,n.end.base.y2+=_e,n.end.base2.y1-=_e,n.end.base2.y2+=_e,n.end.left.y2+=_e,n.end.right.y2-=_e,n.end.center2.x1+=o*(ot+ot+3),r.cx+=o*xl):(t.direction==="top"||t.direction==="bottom")&&(t.direction==="top"&&(o*=-1),n.end.base.y1=n.end.base.y2+=o*ot,n.end.base2.y1=n.end.base2.y2+=o*(_e+ot),n.end.center.y1=n.end.left.y1=n.end.right.y1=n.end.base.y1,n.end.base.x1-=_e,n.end.base.x2+=_e,n.end.base2.x1-=_e,n.end.base2.x2+=_e,n.end.left.x2+=_e,n.end.right.x2-=_e,n.end.center2.y1+=o*(ot+ot+3),r.cy+=o*xl),{line:n,circle:r,startCircle:i}}function FD(e){return{path:zD(e.start,e.end),line:jD(e.start,e.end)}}function HD(e){return t=>n=>n<0?(t?-1:1)*e:(t?1:-1)*e}function mn(e){return[...e].sort((t,n)=>{const r=t.name.toLowerCase(),i=n.name.toLowerCase();return r<i?-1:r>i?1:0})}function GD(e,t){const n=[],r=[],i=[];return e.forEach(o=>{t.filter(c=>c.end.tableId===o.id).map(c=>c.start.tableId).length===0?n.push(o):(r.push(o),i.push(o))}),r.forEach(o=>{const a=VD(i,t.filter(d=>d.start.tableId===o.id).map(d=>d.end.tableId)),c=Ae(i,o.id);c!==-1&&i.splice(c,1),i.splice(a,0,o)}),[...n,...i]}function VD(e,t){let n=e.length-1;for(let r=0;r<e.length;r++){const i=e[r].id;if(t.includes(i)){n=r;break}}return n}function Hy(e,t){e.forEach(n=>{n.ui.widthName=Gs(t.getTextWidth(n.name)),n.ui.widthComment=Hs(t.getTextWidth(n.comment)),n.columns.forEach(r=>{r.ui.widthName=Gs(t.getTextWidth(r.name)),r.ui.widthDataType=Gs(t.getTextWidth(r.dataType)),r.ui.widthDefault=Gs(t.getTextWidth(r.default)),r.ui.widthComment=Hs(t.getTextWidth(r.comment))})})}const YD=["editor.loadJson","editor.initLoadJson"],XD=(e,{tableState:{tables:t},relationshipState:{relationships:n}},r)=>e.pipe(aa(YD),ao(1e3)).subscribe(()=>{Hy(t,r),Kr(t,n)}),KD=["canvas.changeShow","relationship.add","memo.move","table.move","table.changeName","table.changeComment","table.sort","column.add","column.addCustom","column.remove","column.changeName","column.changeComment","column.changeDataType","column.changeDefault","column.move"],WD=(e,{tableState:{tables:t},relationshipState:{relationships:n}},r)=>e.pipe(aa(KD)).subscribe(()=>Kr(t,n)),ZD=["editor.loadJson","editor.initLoadJson"],QD=(e,{tableState:{tables:t},memoState:{memos:n}},r)=>e.pipe(aa(ZD),ao(1e3)).subscribe(()=>{const i=[...t.map(o=>o.ui),...n.map(o=>o.ui)];i.sort((o,a)=>o.zIndex-a.zIndex),i.forEach((o,a)=>o.zIndex=a+1)}),qD=(e,t,n)=>[XD(e,t,n),WD(e,t),QD(e,t)],JD=()=>Ce({canvasState:My(),tableState:Ly(),relationshipState:Ry(),memoState:Dy(),editorState:a4()});function eR(e){const t=Ap(),n=JD(),{dispatch$:r,history$:i,change$:o,hook$:a}=RO(),c=(...E)=>r.next([...Ko(E)]),d=(...E)=>queueMicrotask(()=>c(...E)),p=BO(()=>d(mv(p.hasUndo(),p.hasRedo()))),b={...n,dispatch:d,dispatchSync:c,undo:()=>{!p.hasUndo()||n.editorState.readonly||(d(qs()),p.undo())},redo:()=>{!p.hasRedo()||n.editorState.readonly||(d(qs()),p.redo())},history$:i,change$:o,destroy:()=>{t.destroy(),p.clear()}},C=PO(n),w=AD(b,p);return t.push(i.pipe(lo).subscribe(C),r.pipe(ey(n),aa(oS),zO([["@@move",["table.move","memo.move"]],["@@scroll",["canvas.movement","canvas.movementZoom"]]])).subscribe(w),r.pipe(ey(n)).subscribe(C),...qD(a,n,e)),b}function tR(){const e=Ct(window,"mousedown"),t=Ct(window,"mousemove"),n=Ct(window,"mouseup"),r=Ct(window,"touchstart"),i=Ct(window,"touchmove"),o=Ct(window,"touchend");let a=0,c=0;const d=r.subscribe(b=>{a=b.touches[0].clientX,c=b.touches[0].clientY}),p=jr(t.pipe(oo(b=>{const C=b.movementX,w=b.movementY;return{event:b,movementX:C,movementY:w,x:b.clientX,y:b.clientY}})),i.pipe(Cu(b=>b.touches.length===1),oo(b=>{const C=b.touches[0].clientX-a,w=b.touches[0].clientY-c;return a=b.touches[0].clientX,c=b.touches[0].clientY,{event:b,movementX:C,movementY:w,x:b.touches[0].clientX,y:b.touches[0].clientY}}))),m=jr(e,r),g=jr(n,o),y=p.pipe(Jm(g));return{mousedown$:e,mouseup$:n,mousemove$:t,touchstart$:r,touchend$:o,touchmove$:i,moveStart$:m,moveEnd$:g,move$:p,drag$:y,destroy(){d.unsubscribe()}}}const nR=()=>({edit:[{key:"Enter"}],stop:[{key:"Escape"}],find:[{ctrlKey:!0,key:"F",preventDefault:!0,stopPropagation:!0},{metaKey:!0,key:"F",preventDefault:!0,stopPropagation:!0}],undo:[{ctrlKey:!0,key:"Z",preventDefault:!0},{metaKey:!0,key:"Z",preventDefault:!0}],redo:[{ctrlKey:!0,shiftKey:!0,key:"Z",preventDefault:!0},{metaKey:!0,shiftKey:!0,key:"Z",preventDefault:!0}],addTable:[{altKey:!0,key:"N",preventDefault:!0}],addColumn:[{altKey:!0,key:"Enter",preventDefault:!0}],addMemo:[{altKey:!0,key:"M",preventDefault:!0}],removeTable:[{ctrlKey:!0,key:"Delete",preventDefault:!0},{ctrlKey:!0,key:"Backspace",preventDefault:!0},{metaKey:!0,key:"Delete",preventDefault:!0},{metaKey:!0,key:"Backspace",preventDefault:!0}],removeColumn:[{altKey:!0,key:"Delete",preventDefault:!0},{altKey:!0,key:"Backspace",preventDefault:!0}],primaryKey:[{altKey:!0,key:"K",preventDefault:!0}],selectAllTable:[{ctrlKey:!0,altKey:!0,key:"A",preventDefault:!0},{metaKey:!0,altKey:!0,key:"A",preventDefault:!0}],selectAllColumn:[{altKey:!0,key:"A",preventDefault:!0}],copyColumn:[{ctrlKey:!0,key:"C"},{metaKey:!0,key:"C"}],pasteColumn:[{ctrlKey:!0,key:"V"},{metaKey:!0,key:"V"}],relationshipZeroOne:[{ctrlKey:!0,altKey:!0,key:"1",preventDefault:!0},{metaKey:!0,altKey:!0,key:"1",preventDefault:!0}],relationshipZeroN:[{ctrlKey:!0,altKey:!0,key:"2",preventDefault:!0},{metaKey:!0,altKey:!0,key:"2",preventDefault:!0}],relationshipOneOnly:[{ctrlKey:!0,altKey:!0,key:"3",preventDefault:!0},{metaKey:!0,altKey:!0,key:"3",preventDefault:!0}],relationshipOneN:[{ctrlKey:!0,altKey:!0,key:"4",preventDefault:!0},{metaKey:!0,altKey:!0,key:"4",preventDefault:!0}],tableProperties:[{altKey:!0,key:"Space",preventDefault:!0},{ctrlKey:!0,key:"Space",preventDefault:!0}],zoomIn:[{ctrlKey:!0,key:"Equal",preventDefault:!0,stopPropagation:!0},{metaKey:!0,key:"Equal",preventDefault:!0,stopPropagation:!0}],zoomOut:[{ctrlKey:!0,key:"Minus",preventDefault:!0,stopPropagation:!0},{metaKey:!0,key:"Minus",preventDefault:!0,stopPropagation:!0}]}),rR=["altKey","metaKey","ctrlKey","shiftKey"],iR=(e,t)=>e.key.toUpperCase()===t.toUpperCase()||e.code.toUpperCase()===t.toUpperCase()||e.code.toUpperCase()===`Key${t}`.toUpperCase()||e.code.toUpperCase()===`Digit${t}`.toUpperCase(),oR=(e,t)=>t.find(n=>{const r=rR.every(i=>!!n[i]===e[i]);return n.key?r&&iR(e,n.key):r});function $t(e,t){const n=oR(e,t);return n!=null&&n.preventDefault&&e.preventDefault(),n!=null&&n.stopPropagation&&e.stopPropagation(),!!n}function $o(e){if(!e)return"";const t=[];return e.metaKey&&t.push("Cmd"),e.ctrlKey&&t.push("Ctrl"),e.altKey&&t.push("Alt"),e.shiftKey&&t.push("Shift"),e.key&&t.push(e.key),t.join(" + ")}const $e=e=>e.map(t=>$o(t)).join(", "),aR=(e,t)=>Object.keys(e).filter(n=>Dr(t[n])).forEach(n=>e[n]=t[n]);function sR(){const e=rS();return{theme:Ce(OT()),keymap:Ce(nR()),globalEvent:tR(),eventBus:P6(),store:eR(e),command:DO(),helper:e,snapshots:[],showPrompt:Ts,showAlert:Ts}}const lR=Wc(TT(["globalEvent","eventBus","snapshots","showPrompt","showAlert"]),dr(["store","history$"]),dr(["store","change$"]),dr(["store","destroy"]),dr(["helper","keydown$"]),dr(["helper","setGhostText"]),dr(["helper","setGhostInput"]),dr(["helper","focus"]),dr(["helper","blur"]),dr(["helper","destroy"]));fe("vuerd-panel-view",{observedProps:["panel",{name:"width",default:0},{name:"height",default:0}],styleMap:{height:"100%",display:"flex",position:"relative"},render(e,t){const n=ke(t),{unmountedGroup:r}=Re();let i=null;const o=()=>{t.style.height=`${e.height}px`};return Pe(()=>{o();const a=lR(n.value);i=new e.panel.type(e,a),i.beforeMount&&i.beforeMount(),r.push(ue(e,c=>{c==="height"&&o()}))}),Vi(()=>(i==null?void 0:i.mounted)&&i.mounted()),ur(()=>(i==null?void 0:i.unmounted)&&i.unmounted()),Fc(()=>(i==null?void 0:i.beforeFirstUpdate)&&i.beforeFirstUpdate()),p$(()=>(i==null?void 0:i.firstUpdated)&&i.firstUpdated()),us(()=>(i==null?void 0:i.beforeUpdate)&&i.beforeUpdate()),Go(()=>(i==null?void 0:i.updated)&&i.updated()),()=>V`${i==null?void 0:i.render()}`}});const qn=Ce({panels:[],exclude:[]}),cR=(...e)=>qn.panels.push(...e),uR=e=>qn.exclude=e,dR={title:"Entity Relationship Diagram",canvasType:"ERD",icon:{prefix:"fas",name:"project-diagram",size:18}},fR=e=>({title:e.name??"",canvasType:e.key,icon:Object.assign({size:18},e.icon)});function hR(e){const t=ke(e),n=i=>{const{store:o}=t.value;i!==o.canvasState.canvasType&&o.dispatch(og(i))},r=()=>{const{editorState:i}=t.value.store,o=[dR];return[...qn.panels,...i.panels].filter(a=>!qi(qn.exclude,a.key)&&!qi(i.excludePanel,a.key)).forEach(a=>o.push(fR(a))),o};return{panelMenusTpl:()=>{const{canvasState:i}=t.value.store;return r().map(o=>V`
          <div
            class=${et({"vuerd-menubar-menu":!0,active:i.canvasType===o.canvasType})}
            data-tippy-content=${o.title}
            @click=${()=>n(o.canvasType)}
          >
            <vuerd-icon
              .prefix=${o.icon.prefix}
              .name=${o.icon.name}
              .size=${o.icon.size}
            ></vuerd-icon>
          </div>
        `)}}}function Gy(e){return jo(sa(e),2)}function Vy(e,t){const n=Qn(e),{canvasState:{width:r,height:i,zoomLevel:o,scrollLeft:a,scrollTop:c}}=e,d=hl(r,i,o),p=hl(r,i,t),m=(d.w-p.w)/2,g=(d.h-p.h)/2,y=r/2,b=i/2,C=a*-1+n.width/2,w=c*-1+n.height/2,E=(y-C)/y,T=(b-w)/b,I=jo(-1*m*E,4),_=jo(-1*g*T,4);return{movementX:I,movementY:_}}function*Xd(e,t){const n=Gy(e.canvasState.zoomLevel+t),{movementX:r,movementY:i}=Vy(e,n);yield js(t),yield pr(r,i)}function*pR(e,t){const n=Gy(t),{movementX:r,movementY:i}=Vy(e,n),{scrollTop:o,scrollLeft:a}=e.canvasState;yield Eu(t),yield yi(o+i,a+r)}const mR=pe`
  .vuerd-menubar {
    height: ${Wi}px;
    display: flex;
    align-items: center;
    overflow: hidden;
    background-color: var(--vuerd-color-menubar);
    box-sizing: border-box;
  }

  .vuerd-editor-status {
    width: 10px;
    height: 10px;
    margin-left: 15px;
    border-radius: 50%;
    transition:
      box-shadow 0.4s ease-in-out,
      background-color 0.4s ease-in-out;
  }

  .vuerd-editor-status.focus {
    background-color: var(--vuerd-color-focus);
    box-shadow: 0 0 5px var(--vuerd-color-focus);
  }

  .vuerd-editor-status.edit {
    background-color: var(--vuerd-color-edit);
    box-shadow: 0 0 5px var(--vuerd-color-edit);
  }

  .vuerd-menubar-input {
    margin-left: 15px;
    outline: none;
    border: none;
    opacity: 0.9;
    font-size: ${Qt}px;
    font-family: var(--vuerd-font-family);
    color: var(--vuerd-color-font-active);
    background-color: var(--vuerd-color-menubar);
  }

  .vuerd-menubar-menu {
    cursor: pointer;
    fill: var(--vuerd-color-font);
    margin-left: 10px;
    display: flex;
    align-items: center;
  }

  .vuerd-menubar-menu.active,
  .vuerd-menubar-menu:hover {
    fill: var(--vuerd-color-font-active);
  }

  .vuerd-menubar-menu.undo-redo {
    cursor: not-allowed;
    fill: var(--vuerd-color-font);
  }

  .vuerd-menubar-menu.undo-redo.active {
    cursor: pointer;
    fill: var(--vuerd-color-font-active);
  }

  .vuerd-menubar-menu-vertical {
    margin-left: 10px;
  }
`;fe("vuerd-menubar",{observedProps:[{name:"focusState",type:Boolean,default:!1}],style:mR,render:(e,t)=>{const n=ke(t),{panelMenusTpl:r}=hR(t),{resetTooltip:i}=fn([".vuerd-menubar-input",".vuerd-menubar-menu",".vuerd-editor-status"],t),{unmountedGroup:o}=Re(),a=C=>{const w=C.target,{store:E}=n.value;E.dispatch(Su(w.value))},c=C=>{const w=C.target,E=cS(w.value),{store:T}=n.value;w.value=E.toString(),T.dispatch(Tu(E,E))},d=C=>{const w=C.target,E=uS(Number(w.value.replace(/[^0-9]/g,""))/100),{store:T}=n.value;w.value=rg(E),T.dispatch(pR(T,E))},p=()=>{const{store:C,eventBus:w}=n.value,{findActive:E}=C.editorState;E?C.dispatch(vo()):C.dispatch(Vu()),w.emit(je.Drawer.close)},m=()=>{const{store:C}=n.value;C.undo()},g=()=>{const{store:C}=n.value;C.redo()},y=()=>t.dispatchEvent(new CustomEvent("open-help")),b=()=>t.dispatchEvent(new CustomEvent("open-setting"));return Pe(()=>{const{editorState:C,canvasState:w}=n.value.store;o.push(ue(C.panels,()=>i()),ue(C.excludePanel,()=>i()),ue(qn.panels,()=>i()),ue(qn.exclude,()=>i()),ue(w,E=>{E==="canvasType"&&i()}))}),()=>{const{store:C,keymap:w}=n.value,{canvasState:{databaseName:E,width:T,zoomLevel:I,canvasType:_},editorState:{hasUndo:k,hasRedo:O,readonly:M}}=C;return V`
      <div class="vuerd-menubar">
        <div
          class=${et({"vuerd-editor-status":!0,focus:e.focusState&&M,edit:e.focusState&&!M})}
          data-tippy-content="Editor Status"
        ></div>
        <input
          class="vuerd-menubar-input"
          style="width: 150px;"
          type="text"
          data-tippy-content="database name"
          placeholder="database name"
          spellcheck="false"
          ?disabled=${M}
          .value=${E}
          @input=${a}
        />
        <input
          class="vuerd-menubar-input"
          style="width: 45px;"
          type="text"
          data-tippy-content="canvas size"
          spellcheck="false"
          placeholder="canvas size"
          ?disabled=${M}
          .value=${T.toString()}
          @input=${tg}
          @change=${c}
        />
        <input
          class="vuerd-menubar-input"
          style="width: 45px;"
          type="text"
          data-tippy-content="zoom level"
          spellcheck="false"
          placeholder="zoom level"
          .value=${rg(I)}
          @input=${tg}
          @change=${d}
        />
        ${r()}
        <div class="vuerd-menubar-menu-vertical"></div>
        <div
          class="vuerd-menubar-menu"
          data-tippy-content="Help"
          @click=${y}
        >
          <vuerd-icon name="question" size="16"></vuerd-icon>
        </div>
        <div
          class="vuerd-menubar-menu"
          data-tippy-content="Setting"
          @click=${b}
        >
          <vuerd-icon name="cog" size="16"></vuerd-icon>
        </div>
        <div class="vuerd-menubar-menu-vertical"></div>
        ${_==="ERD"?V`
              <div
                class="vuerd-menubar-menu"
                data-tippy-content="Find [${$e(w.find)}]"
                @click=${p}
              >
                <vuerd-icon name="search" size="16"></vuerd-icon>
              </div>
              <div
                class=${et({"vuerd-menubar-menu":!0,"undo-redo":!0,active:k&&!M})}
                data-tippy-content=${`Undo [${$e(w.undo)}]`}
                @click=${m}
              >
                <vuerd-icon name="undo-alt" size="16"></vuerd-icon>
              </div>
              <div
                class=${et({"vuerd-menubar-menu":!0,"undo-redo":!0,active:O&&!M})}
                data-tippy-content=${`Redo [${$e(w.redo)}]`}
                @click=${g}
              >
                <vuerd-icon name="redo-alt" size="16"></vuerd-icon>
              </div>
            `:null}
      </div>
    `}}});var Yy={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(v2,function(){function n(h,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"rgba(0, 0, 0, 0)";return Array.isArray(h)&&(h={r:h[0],g:h[1],b:h[2],a:h[3]}),u=="hex"?r(h):u=="rgb"?i(h,l):u=="hsl"?o(h):h}function r(h){Array.isArray(h)&&(h={r:h[0],g:h[1],b:h[2],a:h[3]});var u=h.r.toString(16);h.r<16&&(u="0"+u);var l=h.g.toString(16);h.g<16&&(l="0"+l);var s=h.b.toString(16);h.b<16&&(s="0"+s);var f="";if(h.a<1){var v=Math.floor(h.a*255),f=v.toString(16);v<16&&(f="0"+f)}return"#"+u+l+s+f}function i(h){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"rgba(0, 0, 0, 0)";if(Array.isArray(h)&&(h={r:h[0],g:h[1],b:h[2],a:h[3]}),!(typeof h>"u"))return h.a==1||typeof h.a>"u"?isNaN(h.r)?u:"rgb("+h.r+","+h.g+","+h.b+")":"rgba("+h.r+","+h.g+","+h.b+","+h.a+")"}function o(h){return Array.isArray(h)&&(h={r:h[0],g:h[1],b:h[2],a:h[3]}),h.a==1||typeof h.a>"u"?"hsl("+h.h+","+h.s+"%,"+h.l+"%)":"hsla("+h.h+","+h.s+"%,"+h.l+"%,"+h.a+")"}var a={format:n,rgb:i,hsl:o,hex:r};function c(h,u){return u=typeof u>"u"?1:u,Math.round(h*u)/u}function d(h){return h*Math.PI/180}function p(h){var u=h*180/Math.PI;return u<0&&(u=360+u),u}function m(h,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return l+u*Math.cos(d(h))}function g(h,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return l+u*Math.sin(d(h))}function y(h,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return{x:m(h,u,l),y:g(h,u,s)}}function b(h,u){return p(Math.atan2(u,h))}var C={round:c,radianToDegree:p,degreeToRadian:d,getXInCircle:m,getYInCircle:g,caculateAngle:b},w={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb(0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb(0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb(0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb(95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(237, 20, 61)",cyan:"rgb(0, 255, 255)",darkblue:"rgb(0, 0, 139)",darkcyan:"rgb(0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgrey:"rgb(169, 169, 169)",darkgreen:"rgb(0, 100, 0)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb(85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb(72, 61, 139)",darkslategray:"rgb(47, 79, 79)",darkslategrey:"rgb(47, 79, 79)",darkturquoise:"rgb(0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb(0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb(30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb(34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb(75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgreen:"rgb(144, 238, 144)",lightgray:"rgb(211, 211, 211)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb(32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb(0, 255, 0)",limegreen:"rgb(50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb(0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb(60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb(0, 250, 154)",mediumturquoise:"rgb(72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb(25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb(0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",rebeccapurple:"rgb(102, 51, 153)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb(65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb(46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb(0, 255, 127)",steelblue:"rgb(70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb(0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb(64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)",transparent:"rgba(0, 0, 0, 0)"};function E(h){return!!w[h]}function T(h){return w[h]}var I={isColorName:E,getColorByName:T};function _(h,u,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?h+(u-h)*6*l:l<1/2?u:l<2/3?h+(u-h)*(2/3-l)*6:h}function k(h,u,l){if(arguments.length==1)var s=arguments[0],h=s.h,u=s.s,l=s.l;var f=O(h,u,l);return Ge(f.r,f.g,f.b)}function O(h,u,l){if(arguments.length==1)var s=arguments[0],h=s.h,u=s.s,l=s.l;var f,v,x;if(h/=360,u/=100,l/=100,u==0)f=v=x=l;else{var $=l<.5?l*(1+u):l+u-l*u,S=2*l-$;f=_(S,$,h+1/3),v=_(S,$,h),x=_(S,$,h-1/3)}return{r:c(f*255),g:c(v*255),b:c(x*255)}}var M={HUEtoRGB:_,HSLtoHSV:k,HSLtoRGB:O},D=function(h,u){if(!(h instanceof u))throw new TypeError("Cannot call a class as a function")},P=function(){function h(u,l){for(var s=0;s<l.length;s++){var f=l[s];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,l,s){return l&&h(u.prototype,l),s&&h(u,s),u}}(),Y=function(h,u,l){return u in h?Object.defineProperty(h,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):h[u]=l,h},H=Object.assign||function(h){for(var u=1;u<arguments.length;u++){var l=arguments[u];for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(h[s]=l[s])}return h},X=function h(u,l,s){u===null&&(u=Function.prototype);var f=Object.getOwnPropertyDescriptor(u,l);if(f===void 0){var v=Object.getPrototypeOf(u);return v===null?void 0:h(v,l,s)}else{if("value"in f)return f.value;var x=f.get;return x===void 0?void 0:x.call(s)}},j=function(h,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);h.prototype=Object.create(u&&u.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(h,u):h.__proto__=u)},F=function(h,u){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:h},ge=function(){function h(u,l){var s=[],f=!0,v=!1,x=void 0;try{for(var $=u[Symbol.iterator](),S;!(f=(S=$.next()).done)&&(s.push(S.value),!(l&&s.length===l));f=!0);}catch(A){v=!0,x=A}finally{try{!f&&$.return&&$.return()}finally{if(v)throw x}}return s}return function(u,l){if(Array.isArray(u))return u;if(Symbol.iterator in Object(u))return h(u,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Te=function(h){return Array.isArray(h)?h:Array.from(h)},ne=function(h){if(Array.isArray(h)){for(var u=0,l=Array(h.length);u<h.length;u++)l[u]=h[u];return l}else return Array.from(h)},ut=/(#(?:[\da-f]{3}){1,2}|#(?:[\da-f]{8})|rgb\((?:\s*\d{1,3},\s*){2}\d{1,3}\s*\)|rgba\((?:\s*\d{1,3},\s*){3}\d*\.?\d+\s*\)|hsl\(\s*\d{1,3}(?:,\s*\d{1,3}%){2}\s*\)|hsla\(\s*\d{1,3}(?:,\s*\d{1,3}%){2},\s*\d*\.?\d+\s*\)|([\w_\-]+))/gi,dt=",";function Pt(h){var u=h.match(ut),l=[];if(!u)return l;for(var s=0,f=u.length;s<f;s++)if(u[s].indexOf("#")>-1||u[s].indexOf("rgb")>-1||u[s].indexOf("hsl")>-1)l.push({color:u[s]});else{var v=I.getColorByName(u[s]);v&&l.push({color:u[s],nameColor:v})}var x={next:0};return l.forEach(function($){var S=h.indexOf($.color,x.next);$.startIndex=S,$.endIndex=S+$.color.length,x.next=$.endIndex}),l}function He(h){var u=Pt(h);return u.forEach(function(l,s){h=h.replace(l.color,"@"+s)}),{str:h,matches:u}}function vn(h){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",",l=He(h);return l.str.split(u).map(function(s,f){return s=G(s),l.matches[f]&&(s=s.replace("@"+f,l.matches[f].color)),s})}function mt(h,u){return u.forEach(function(l,s){h=h.replace("@"+s,l.color)}),h}function G(h){return h.replace(/^\s+|\s+$/g,"")}function q(h){if(typeof h=="string"){if(I.isColorName(h)&&(h=I.getColorByName(h)),h.indexOf("rgb(")>-1){for(var u=h.replace("rgb(","").replace(")","").split(","),l=0,s=u.length;l<s;l++)u[l]=parseInt(G(u[l]),10);var f={type:"rgb",r:u[0],g:u[1],b:u[2],a:1};return f=Object.assign(f,rt(f)),f}else if(h.indexOf("rgba(")>-1){for(var u=h.replace("rgba(","").replace(")","").split(","),l=0,s=u.length;l<s;l++)s-1==l?u[l]=parseFloat(G(u[l])):u[l]=parseInt(G(u[l]),10);var f={type:"rgb",r:u[0],g:u[1],b:u[2],a:u[3]};return f=Object.assign(f,rt(f)),f}else if(h.indexOf("hsl(")>-1){for(var u=h.replace("hsl(","").replace(")","").split(","),l=0,s=u.length;l<s;l++)u[l]=parseFloat(G(u[l]));var f={type:"hsl",h:u[0],s:u[1],l:u[2],a:1};return f=Object.assign(f,O(f)),f}else if(h.indexOf("hsla(")>-1){for(var u=h.replace("hsla(","").replace(")","").split(","),l=0,s=u.length;l<s;l++)s-1==l?u[l]=parseFloat(G(u[l])):u[l]=parseInt(G(u[l]),10);var f={type:"hsl",h:u[0],s:u[1],l:u[2],a:u[3]};return f=Object.assign(f,O(f)),f}else if(h.indexOf("#")==0){h=h.replace("#","");var u=[],v=1;if(h.length==3)for(var l=0,s=h.length;l<s;l++){var x=h.substr(l,1);u.push(parseInt(x+x,16))}else if(h.length===8){for(var l=0,s=h.length;l<s;l+=2)u.push(parseInt(h.substr(l,2),16));v=u.pop()/255}else for(var l=0,s=h.length;l<s;l+=2)u.push(parseInt(h.substr(l,2),16));var f={type:"hex",r:u[0],g:u[1],b:u[2],a:v};return f=Object.assign(f,rt(f)),f}}else if(typeof h=="number"){if(0<=h&&h<=16777215){var $=(h&16711680)>>16,S=(h&65280)>>8,A=(h&255)>>0,f={type:"hex",r:$,g:S,b:A,a:1};return f=Object.assign(f,rt(f)),f}else if(0<=h&&h<=4294967295){var N=(h&4278190080)>>24,R=(h&16711680)>>16,z=(h&65280)>>8,Z=(h&255)/255,f={type:"hex",r:N,g:R,b:z,a:Z};return f=Object.assign(f,rt(f)),f}}return h}function oe(h){typeof h=="string"&&(h=vn(h)),h=h.map(function(f){if(typeof f=="string"){var v=He(f),x=G(v.str).split(" ");return x[1]?x[1].includes("%")?x[1]=parseFloat(x[1].replace(/%/,""))/100:x[1]=parseFloat(x[1]):x[1]="*",x[0]=mt(x[0],v.matches),x}else if(Array.isArray(f))return f[1]?typeof f[1]=="string"&&(f[1].includes("%")?f[1]=parseFloat(f[1].replace(/%/,""))/100:f[1]=+f[1]):f[1]="*",[].concat(ne(f))});var u=h.filter(function(f){return f[1]==="*"}).length;if(u>0){var l=h.filter(function(f){return f[1]!="*"&&f[1]!=1}).map(function(f){return f[1]}).reduce(function(f,v){return f+v},0),s=(1-l)/u;h.forEach(function(f,v){f[1]=="*"&&v>0&&(h.length-1==v||(f[1]=s))})}return h}var xe={matches:Pt,convertMatches:He,convertMatchesArray:vn,reverseMatches:mt,parse:q,parseGradient:oe,trim:G,color_regexp:ut,color_split:dt};function Ge(h,u,l){if(arguments.length==1)var s=arguments[0],h=s.r,u=s.g,l=s.b;var f=h/255,v=u/255,x=l/255,$=Math.max(f,v,x),S=Math.min(f,v,x),A=$-S,N=0;A==0?N=0:$==f?N=60*((v-x)/A%6):$==v?N=60*((x-f)/A+2):$==x&&(N=60*((f-v)/A+4)),N<0&&(N=360+N);var R=0;$==0?R=0:R=A/$;var z=$;return{h:N,s:R,v:z}}function Mt(h,u,l){if(arguments.length==1)var s=arguments[0],h=s.r,u=s.g,l=s.b;var f=h/255,v=u/255,x=l/255,$=1-Math.max(f,v,x),S=(1-f-$)/(1-$),A=(1-v-$)/(1-$),N=(1-x-$)/(1-$);return{c:S,m:A,y:N,k:$}}function rt(h,u,l){if(arguments.length==1)var s=arguments[0],h=s.r,u=s.g,l=s.b;h/=255,u/=255,l/=255;var f=Math.max(h,u,l),v=Math.min(h,u,l),x,$,S=(f+v)/2;if(f==v)x=$=0;else{var A=f-v;switch($=S>.5?A/(2-f-v):A/(f+v),f){case h:x=(u-l)/A+(u<l?6:0);break;case u:x=(l-h)/A+2;break;case l:x=(h-u)/A+4;break}x/=6}return{h:c(x*360),s:c($*100),l:c(S*100)}}function ft(h,u,l){if(arguments.length==1)var s=arguments[0],h=s.r,u=s.g,l=s.b;return gt((h+u+l)/3>90?0:255)}function gt(h){return{r:h,g:h,b:h}}function Vt(h,u,l){if(arguments.length==1)var s=arguments[0],h=s.r,u=s.g,l=s.b;return gt(Math.ceil((h+u+l)/3))}function xr(h,u,l){if(arguments.length==1)var s=arguments[0],h=s.r,u=s.g,l=s.b;return gt(Cr(h,u,l).y)}function wr(h,u,l){return Math.ceil(h*.2126+u*.7152+l*.0722)}function Cr(h,u,l){if(arguments.length==1)var s=arguments[0],h=s.r,u=s.g,l=s.b;var f=wr(h,u,l),v=.564*(l-f),x=.713*(h-f);return{y:f,cr:x,cb:v}}function yn(h){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.04045;return(h>u?Math.pow((h+.055)/1.055,2.4):h/12.92)*100}function bn(h,u,l){if(arguments.length==1)var s=arguments[0],h=s.r,u=s.g,l=s.b;var f=h/255,v=u/255,x=l/255;f=yn(f),v=yn(v),x=yn(x);var $=f*.4124+v*.3576+x*.1805,S=f*.2126+v*.7152+x*.0722,A=f*.0193+v*.1192+x*.9505;return{x:$,y:S,z:A}}function tr(h,u,l){if(arguments.length==1)var s=arguments[0],h=s.r,u=s.g,l=s.b;return XYZtoLAB(bn(h,u,l))}var rn={RGBtoCMYK:Mt,RGBtoGray:xr,RGBtoHSL:rt,RGBtoHSV:Ge,RGBtoLAB:tr,RGBtoSimpleGray:Vt,RGBtoXYZ:bn,RGBtoYCrCb:Cr,c:ft,brightness:wr,gray:gt};function Ha(h,u,l,s){if(arguments.length==1)var f=arguments[0],h=f.c,u=f.m,l=f.y,s=f.k;var v=255*(1-h)*(1-s),x=255*(1-u)*(1-s),$=255*(1-l)*(1-s);return{r:v,g:x,b:$}}var kr={CMYKtoRGB:Ha};function he(h){return Math.pow(h,3)>.008856?Math.pow(h,3):(h-16/116)/7.787}function Fn(h){return h>.0031308?1.055*Math.pow(h,1/2.4)-.055:12.92*h}function Tt(h,u,l){if(arguments.length==1)var s=arguments[0],h=s.x,u=s.y,l=s.z;var f=h/100,v=u/100,x=l/100,$=f*3.2406+v*-1.5372+x*-.4986,S=f*-.9689+v*1.8758+x*.0415,A=f*.0557+v*-.204+x*1.057;$=Fn($),S=Fn(S),A=Fn(A);var N=c($*255),R=c(S*255),z=c(A*255);return{r:N,g:R,b:z}}function it(h,u,l){if(arguments.length==1)var s=arguments[0],h=s.l,u=s.a,l=s.b;var f=(h+16)/116,v=u/500+f,x=f-l/200;f=he(f),v=he(v),x=he(x);var $=v*95.047,S=f*100,A=x*108.883;return{x:$,y:S,z:A}}function ei(h,u,l){if(arguments.length==1)var s=arguments[0],h=s.l,u=s.a,l=s.b;return Tt(it(h,u,l))}var nr={XYZtoRGB:Tt,LABtoRGB:ei,LABtoXYZ:it};function Tr(h,u,l){if(arguments.length==1)var s=arguments[0],h=s.h,u=s.s,l=s.v;var f=h,v=u,x=l;f>=360&&(f=0);var $=v*x,S=$*(1-Math.abs(f/60%2-1)),A=x-$,N=[];return 0<=f&&f<60?N=[$,S,0]:60<=f&&f<120?N=[S,$,0]:120<=f&&f<180?N=[0,$,S]:180<=f&&f<240?N=[0,S,$]:240<=f&&f<300?N=[S,0,$]:300<=f&&f<360&&(N=[$,0,S]),{r:c((N[0]+A)*255),g:c((N[1]+A)*255),b:c((N[2]+A)*255)}}function _i(h,u,l){if(arguments.length==1)var s=arguments[0],h=s.h,u=s.s,l=s.v;var f=Tr(h,u,l);return rt(f.r,f.g,f.b)}var te={HSVtoHSL:_i,HSVtoRGB:Tr};function ie(h,u,l,s){if(arguments.length==1){var f=arguments[0],h=f.y,u=f.cr,l=f.cb,s=f.bit;s=s||0}var v=h+1.402*(u-s),x=h-.344*(l-s)-.714*(u-s),$=h+1.772*(l-s);return{r:Math.ceil(v),g:Math.ceil(x),b:Math.ceil($)}}var me={YCrCbtoRGB:ie};function Oe(h,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"hex",f={r:c(h.r+(u.r-h.r)*l),g:c(h.g+(u.g-h.g)*l),b:c(h.b+(u.b-h.b)*l),a:c(h.a+(u.a-h.a)*l,100)};return n(f,f.a<1?"rgb":s)}function L(h){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5;if(!h)return[];typeof h=="string"&&(h=vn(h)),h=h||[];for(var l=h.length,s=[],f=0;f<l-1;f++)for(var v=0;v<u;v++)s.push(J(h[f],h[f+1],v/u));return s}function J(h,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"hex",f=q(h),v=q(u);return Oe(f,v,l,s)}function ae(h,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"hex";return J(h,u,l,s)}function Me(h){return h=q(h),(Math.round(h.r*299)+Math.round(h.g*587)+Math.round(h.b*114))/1e3}function Ie(h){return Me(h)>=128?"black":"white"}function Bt(h){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:10;h=oe(h);for(var l=[],s=u-(h.length-1),f=s,v=1,x=h.length;v<x;v++){var $=h[v-1][0],S=h[v][0],A=v==1?h[v][1]:h[v][1]-h[v-1][1],N=v==h.length-1?f:Math.floor(A*s);l=l.concat(L([$,S],N),[S]),f-=N}return l}function Ut(h){for(var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"h",l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:9,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"rgb",f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,v=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1,x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:100,$=q(h),S=Ge($),A=(v-f)*x/l,N=[],R=1;R<=l;R++)S[u]=Math.abs((x-A*R)/x),N.push(n(Tr(S),s));return N}function ti(h){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:9,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"rgb",s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:360;return Ut(h,"h",u,l,s,f,1)}function Kl(h){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:9,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"rgb",s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;return Ut(h,"s",u,l,s,f,100)}function Er(h){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:9,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"rgb",s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;return Ut(h,"v",u,l,s,f,100)}L.parula=function(h){return L(["#352a87","#0f5cdd","#00b5a6","#ffc337","#fdff00"],h)},L.jet=function(h){return L(["#00008f","#0020ff","#00ffff","#51ff77","#fdff00","#ff0000","#800000"],h)},L.hsv=function(h){return L(["#ff0000","#ffff00","#00ff00","#00ffff","#0000ff","#ff00ff","#ff0000"],h)},L.hot=function(h){return L(["#0b0000","#ff0000","#ffff00","#ffffff"],h)},L.pink=function(h){return L(["#1e0000","#bd7b7b","#e7e5b2","#ffffff"],h)},L.bone=function(h){return L(["#000000","#4a4a68","#a6c6c6","#ffffff"],h)},L.copper=function(h){return L(["#000000","#3d2618","#9d623e","#ffa167","#ffc77f"],h)};var Ga={interpolateRGB:Oe,blend:J,mix:ae,scale:L,contrast:Me,contrastColor:Ie,gradient:Bt,scaleHSV:Ut,scaleH:ti,scaleS:Kl,scaleV:Er};function Ao(h,u){if(h.length!==u.length)return!1;for(var l=0,s=h.length;l<s;++l)if(h[l]!==u[l])return!1;return!0}function ni(h,u){for(var l=0,s=0,f=h.length;s<f;s++)l+=Math.pow(u[s]-h[s],2);return Math.sqrt(l)}function Tf(h,u){for(var l=0,s=0,f=h.length;s<f;s++)l+=Math.abs(u[s]-h[s]);return l}function Va(h,u){for(var l=0,s=0,f=h.length;s<f;s++)l=Math.max(l,Math.abs(u[s]-h[s]));return l}var No={euclidean:ni,manhattan:Tf,max:Va},wU={linear:function(u,l){var s=[],f=Math.round(Math.random()*u),v=Math.floor(u/l);do s.push(f),f=(f+v)%u;while(s.length<l);return s},shuffle:function(u,l){for(var s=[];s.length<l;){var f=Math.round(Math.random()*u);s.indexOf(f)==-1&&s.push(f)}return s}};function CU(h,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"linear",s=wU[l](h.length,u);return s.map(function(f){return h[f]})}function kU(h,u,l){var s=1/0,f=0;return u.forEach(function(v,x){var $=l(h,v);$<s&&(s=$,f=x)}),f}function $U(h){if(!h.length)return[];for(var u=new Array(h[0].length),l=0,s=u.length;l<s;l++)u[l]=0;for(var f=0,s=h.length;f<s;f++)for(var v=h[f],x=f+1,$=0,S=v.length;$<S;$++)u[$]+=(v[$]-u[$])/x;return u=u.map(function(A){return Math.floor(A)}),u}function ZF(h){return h}function TU(h,u,l,s){for(var f=new Array(h),v=0;v<h;v++)f[v]=[];for(var x=0,$=u.length;x<$;x++){var S=u[x],A=kU(S,l,s);f[A].push(S)}return f}function EU(h,u,l,s,f,v){for(var x=0;x<h;x++){var $=l[x],S=s[x],A=new Array(S.length);if($.length>0)A=$U($);else{var N=Math.floor(v()*u.length);A=u[N]}Ao(A,S)?f=!1:f=!0,s[x]=A}return f}function IU(h,u,l){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:10,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"linear";h=h,u=u||Math.max(2,Math.ceil(Math.sqrt(h.length/2)));var v=l||"euclidean";typeof v=="string"&&(v=No[v]);for(var x=0,$=function(){return x=(x*9301+49297)%233280,x/233280},S=CU(h,u,f),A=!0,N=0;A;){var R=TU(u,h,S,v);if(A=EU(u,h,R,S,!1,$),N++,N%s==0)break}return S}function SU(h,u){for(var l=0;l<h;l+=4)u(l)}function _U(h,u){SU(h.pixels.length,function(l){u(h.pixels,l)})}var Ai={create:function(u,l){var s=document.createElement("canvas");return s.width=u||0,s.height=l||0,s},drawPixels:function(u){var l=this.create(u.width,u.height),s=l.getContext("2d"),f=s.getImageData(0,0,l.width,l.height);return f.data.set(u.pixels),s.putImageData(f,0,0),l},createHistogram:function(u,l,s,f){var v=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{black:!0,red:!1,green:!1,blue:!1},x=this.create(u,l),$=x.getContext("2d");$.clearRect(0,0,u,l),$.fillStyle="white",$.fillRect(0,0,u,l),$.globalAlpha=.7;var S={black:!1};v.black?S.black=!1:S.black=!0,v.red?S.red=!1:S.red=!0,v.green?S.green=!1:S.green=!0,v.blue?S.blue=!1:S.blue=!0,Object.keys(s).forEach(function(A){if(!S[A]){var N=s[A],R=Math.max.apply(Math,N),z=u/N.length;$.fillStyle=A,N.forEach(function(Z,K){var W=l*(Z/R),re=K*z;$.fillRect(re,l-W,z,W)})}}),typeof f=="function"&&f(x)},getHistogram:function(u){for(var l=new Array(256),s=new Array(256),f=new Array(256),v=new Array(256),x=0;x<256;x++)l[x]=0,s[x]=0,f[x]=0,v[x]=0;return _U(u,function($,S){var A=Math.round(Se.brightness($[S],$[S+1],$[S+2]));l[A]++,s[$[S]]++,f[$[S+1]]++,v[$[S+2]]++}),{black:l,red:s,green:f,blue:v}},getBitmap:function(u,l){var s=this.drawPixels(u),f=s.getContext("2d"),v=f.getImageData(l.x||0,l.y||0,l.width||s.width,l.height||s.height).data;return{pixels:v,width:l.width,height:l.height}},putBitmap:function(u,l,s){var f=this.drawPixels(u),v=this.drawPixels(l),x=f.getContext("2d");return x.drawImage(v,s.x,s.y),u.pixels=x.getImageData(0,0,u.width,u.height).data,u}},Oo=function(){function h(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D(this,h),this.isLoaded=!1,this.imageUrl=u,this.opt=l,this.initialize()}return P(h,[{key:"initialize",value:function(){this.canvas=this.createCanvas(),this.context=this.canvas.getContext("2d")}},{key:"createCanvas",value:function(){return document.createElement("canvas")}},{key:"load",value:function(l){this.loadImage(l)}},{key:"loadImage",value:function(l){var s=this,f=this.context;this.newImage=new Image;var v=this.newImage;v.onload=function(){var x=v.height/v.width;s.opt.canvasWidth&&s.opt.canvasHeight?(s.canvas.width=s.opt.canvasWidth,s.canvas.height=s.opt.canvasHeight):(s.canvas.width=s.opt.maxWidth?s.opt.maxWidth:v.width,s.canvas.height=s.canvas.width*x),f.drawImage(v,0,0,v.width,v.height,0,0,s.canvas.width,s.canvas.height),s.isLoaded=!0,l&&l()},this.getImageUrl(function(x){v.src=x})}},{key:"load",value:function(l){var s=this;this.newImage=new Image;var f=this.newImage;f.onload=function(){s.isLoaded=!0,l&&l()},this.getImageUrl(function(v){f.src=v})}},{key:"getImageUrl",value:function(l){if(typeof this.imageUrl=="string")return l(this.imageUrl);if(this.imageUrl instanceof Blob){var s=new FileReader;s.onload=function(f){l(f.target.result)},s.readAsDataURL(this.imageUrl)}}},{key:"getRGBA",value:function(l,s,f,v){return[l,s,f,v]}},{key:"toArray",value:function(l,s){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),x=v.width,$=v.height,S=new Uint8ClampedArray(v.data),A={pixels:S,width:x,height:$};l||(l=function(){return function(N,R){R(N)}}()),l(A,function(N){var R=Ai.drawPixels(N);f.returnTo=="canvas"?s(R):s(R.toDataURL(f.outputFormat||"image/png"))},f)}},{key:"toHistogram",value:function(l){var s=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),f=s.width,v=s.height,x=new Uint8ClampedArray(s.data),$={pixels:x,width:f,height:v};return Ai.getHistogram($)}},{key:"toRGB",value:function(){for(var l=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),s=l.data,f=[],v=0,x=s.length;v<x;v+=4)f[f.length]=[s[v+0],s[v+1],s[v+2],s[v+3]];return f}}]),h}();function AU(h){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"hex";return h.length>u&&(h=IU(h,u)),h.map(function(s){return n(s,l)})}function NU(h){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments[2];if(l){if(l){var s=new Oo(h,u);s.loadImage(function(){typeof l=="function"&&l(s.toRGB())})}}else{var s=new Oo(h);s.loadImage(function(){typeof u=="function"&&u(s.toRGB())})}}function OU(h,u,l){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{frameTimer:"full"};sx(h,u,l,Object.assign({returnTo:"canvas"},s))}function sx(h,u,l){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{frameTimer:"full"},f=new Oo(h);f.loadImage(function(){f.toArray(u,function(v){typeof l=="function"&&l(v)},s)})}function MU(h,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=new Oo(h);s.loadImage(function(){typeof u=="function"&&u(s.toHistogram(l))})}function DU(h){for(var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.2,l=[],s=0;s<h.length;s++){var f=h[s];if(s==0){l[s]=[];continue}if(s==h.length-1){l[s]=[];continue}var v=h[s-1],x=h[s+1];(x[1]-v[1])/(x[0]-v[0]);var $=[v[0]+(x[0]-v[0])*u,v[1]+(x[1]-v[1])*u],S=[[].concat(ne(v)),[].concat($)],A=Math.sqrt(Math.pow(f[0]-v[0],2)+Math.pow(f[1]-v[1],2)),N=Math.sqrt(Math.pow(x[0]-f[0],2)+Math.pow(x[1]-f[1],2)),R=A/N,z=S[0][0]+(S[1][0]-S[0][0])*R,Z=S[0][1]+(S[1][1]-S[0][1])*R;S[0][0]+=f[0]-z,S[0][1]+=f[1]-Z,S[1][0]+=f[0]-z,S[1][1]+=f[1]-Z,l[s]=S}return l}function RU(h,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{width:200,height:100},s=new Oo(h);s.loadImage(function(){Ai.createHistogram(l.width||200,l.height||100,s.toHistogram(l),function(f){typeof u=="function"&&u(f.toDataURL("image/png"))},l)})}var LU={palette:AU,ImageToCanvas:OU,ImageToHistogram:RU,ImageToRGB:NU,ImageToURL:sx,histogram:MU,histogramToPoints:DU},Se=H({},a,C,Ga,xe,me,rn,kr,te,M,nr,LU);function Ni(h){return typeof h>"u"||h===null}function Dt(h){return Ni(h)===!1}function Wl(h){return typeof h=="string"}function Ef(h){return typeof h=="function"}function lx(h){return typeof h=="number"}var on=[{rgb:"#ff0000",start:0},{rgb:"#ffff00",start:.17},{rgb:"#00ff00",start:.33},{rgb:"#00ffff",start:.5},{rgb:"#0000ff",start:.67},{rgb:"#ff00ff",start:.83},{rgb:"#ff0000",start:1}];function If(h){for(var u,l,s=0;s<on.length;s++)if(on[s].start>=h){u=on[s-1],l=on[s];break}return u&&l?Se.mix(u.rgb,l.rgb,(h-u.start)/(l.start-u.start)):on[0].rgb}function PU(h){for(var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.1,l=arguments[2],s=Ni(l)?h-u:u,f=Ni(l)?h+scale:l,v=[],x=0;x<on.length;x++){var $=on[x];s<=$.start&&$.start<f?v.push({rgb:$.rgb,start:$.start}):on[x+1]&&$.start<s&&s<on[x+1].start?v.push({rgb:If(s),start:s}):on[x-1]&&on[x-1].start<f&&f<$.start?v.push({rgb:If(f),start:f}):$.start<s||$.start>f||v.push({rgb:$.rgb,start:$.start})}return v}function BU(){for(var h=0,u=on.length;h<u;h++){var l=on[h],s=Se.parse(l.rgb);l.r=s.r,l.g=s.g,l.b=s.b}}BU();var Sf={colors:on,checkHueColor:If,getHueScale:PU},Oi={identity:function(){return[1,0,0,0,1,0,0,0,1]},stretching:function(u){return[u,0,0,0,1,0,0,0,1]},squeezing:function(u){return[u,0,0,0,1/u,0,0,0,1]},scale:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return u=u||u===0?u:1,l=l||l===0?l:1,[u,0,0,0,l,0,0,0,1]},scaleX:function(u){return this.scale(u)},scaleY:function(u){return this.scale(1,u)},translate:function(u,l){return[1,0,u,0,1,l,0,0,1]},rotate:function(u){var l=this.radian(u);return[Math.cos(l),-Math.sin(l),0,Math.sin(l),Math.cos(l),0,0,0,1]},rotate90:function(){return[0,-1,0,1,0,0,0,0,1]},rotate180:function(){return[-1,0,0,0,-1,0,0,0,1]},rotate270:function(){return[0,1,0,-1,0,0,0,0,1]},radian:function(u){return u*Math.PI/180},skew:function(u,l){var s=this.radian(u),f=this.radian(l);return[1,Math.tan(s),0,Math.tan(f),1,0,0,0,1]},skewX:function(u){var l=this.radian(u);return[1,Math.tan(l),0,0,1,0,0,0,1]},skewY:function(u){var l=this.radian(u);return[1,0,0,Math.tan(l),1,0,0,0,1]},shear1:function(u){return[1,-Math.tan(this.radian(u)/2),0,0,1,0,0,0,1]},shear2:function(u){return[1,0,0,Math.sin(this.radian(u)),1,0,0,0,1]}},rr={CONSTANT:Oi,radian:function(u){return Oi.radian(u)},multiply:function(u,l){return[u[0]*l[0]+u[1]*l[1]+u[2]*l[2],u[3]*l[0]+u[4]*l[1]+u[5]*l[2],u[6]*l[0]+u[7]*l[1]+u[8]*l[2]]},identity:function(u){return this.multiply(Oi.identity(),u)},translate:function(u,l,s){return this.multiply(Oi.translate(u,l),s)},rotate:function(u,l){return this.multiply(Oi.rotate(u),l)},shear1:function(u,l){return this.multiply(Oi.shear1(u),l)},shear2:function(u,l){return this.multiply(Oi.shear2(u),l)},rotateShear:function(u,l){var s=l;return s=this.shear1(u,s),s=this.shear2(u,s),s=this.shear1(u,s),s}};function UU(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=arguments[2],s=arguments[3],f=Di(l*s*4,l,s);return function(v,x){for(var $=u,S=0;$<s;$++,S++)for(var A=h,N=0;A<l;A++,N++)f.pixels[S*l*N]=v.pixels[$*l*A];x(f)}}function zU(h,u){return function(l,s){var f=Ai.drawPixels(l),v=f.getContext("2d");f.width=h,f.height=u,s({pixels:new Uint8ClampedArray(v.getImageData(0,0,h,u).data),width:h,height:u})}}function jU(){return function(h,u){for(var l=h.width,s=h.height,f=s%2==1?1:0,v=f?Math.floor(s/2):s/2,x=0;x<v;x++)for(var $=0;$<l;$++){var S=x*l+$<<2,A=(s-1-x)*l+$<<2;Rx(h.pixels,S,A)}u(h)}}function FU(){return function(h,u){for(var l=h.width,s=h.height,f=l%2==1?1:0,v=f?Math.floor(l/2):l/2,x=0;x<s;x++)for(var $=0;$<v;$++){var S=x*l+$<<2,A=x*l+(l-1-$)<<2;Rx(h.pixels,S,A)}u(h)}}function _f(h){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"center",l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"center";return function(s,f){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},x=Di(s.pixels.length,s.width,s.height),$=s.width,S=s.height;u=="center"&&(u=Math.floor($/2)),l=="center"&&(l=Math.floor(S/2));var A=rr.CONSTANT.translate(-u,-l),N=rr.CONSTANT.translate(u,l),R=rr.CONSTANT.shear1(h),z=rr.CONSTANT.shear2(h);Af(function(Z,K,W,re){var se=rr.multiply(A,[W,re,1]);se=rr.multiply(R,se).map(Math.round),se=rr.multiply(z,se).map(Math.round),se=rr.multiply(R,se).map(Math.round),se=rr.multiply(N,se);var Ee=se,Le=ge(Ee,2),qe=Le[0],Ke=Le[1];if(!(qe<0)&&!(Ke<0)&&!(qe>$-1)&&!(Ke>S-1)){var yt=Ke*$+qe<<2;Of(Z,yt,s.pixels,K)}})(x,function(){f(x)},v)}}function HU(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return h=ve(h),h=h%360,function(u,l){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(h==0)return u;if(h==90||h==270)var f=Di(u.pixels.length,u.height,u.width);else if(h==180)var f=Di(u.pixels.length,u.width,u.height);else return _f(h)(u,l,s);Af(function(v,x,$,S){if(h==90)var A=$*f.width+(f.width-1-S)<<2;else if(h==270)var A=(f.height-1-$)*f.width+S<<2;else if(h==180)var A=(f.height-1-S)*f.width+(f.width-1-$)<<2;Of(f.pixels,A,u.pixels,x)})(u,function(){l(f)},s)}}function GU(){for(var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"gray",u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=[],s=0;s<u.length-1;s++)for(var f=u[s],v=u[s+1],x=v[0]-f[0],$=v[1]-f[1],S=$/x,A=0,N=f[0];A<x;A++,N++)l[N]=f[1]+A*S;return l[255]=255,h==="red"?Ve(function(){$r=l[$r]},{},{$realPoints:l}):h==="green"?Ve(function(){$g=l[$g]},{},{$realPoints:l}):h==="blue"?Ve(function(){$b=l[$b]},{},{$realPoints:l}):Ve(function(){var R=Color.RGBtoYCrCb($r,$g,$b),z=Color.YCrCbtoRGB(clamp(l[clamp(R.y)]),R.cr,R.cb,0);$r=z.r,$g=z.g,$b=z.b},{},{$realPoints:l})}var VU={crop:UU,resize:zU,flipH:FU,flipV:jU,rotate:HU,rotateDegree:_f,histogram:GU,"rotate-degree":_f};function YU(h,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,s=Se.parse(h),f=Se.parse(u),v=l;return Ve(`        
        const thresholdColor = ( $r + $g + $b ) <= $threshold ? $darkColor : $lightColor

        $r = thresholdColor.r;
        $g = thresholdColor.g;
        $b = thresholdColor.b; 
    `,{$threshold:v},{$darkColor:s,$lightColor:f})}function XU(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;h=ve(h);var u=Math.floor(255*(h/100));return Ve(`
        $r += $C;
        $g += $C;
        $b += $C;
    `,{$C:u})}function KU(){var h=[.5997023498159715,.34553243048391263,-.2708298674538042,0,-.037703249837783157,.8609577587992641,.15059552388459913,0,.24113635128153335,-.07441037908422492,.44972182064877153,0,0,0,0,1];return Ve(`
        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;
        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;
        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;
        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;        
    `,{$matrix:h})}function WU(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;h=ve(h);var u=Math.abs(h)*2.55;return Ve(`

        $r = ($r > 255 - $C) ? 255 : 0;
        $g = ($g > 255 - $C) ? 255 : 0;
        $b = ($b > 255 - $C) ? 255 : 0;

    `,{$C:u})}function ZU(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;h=ve(h);var u=Math.max((128+h)/128,0);return Ve(`
        $r *= $C;
        $g *= $C;
        $b *= $C;
    `,{$C:u})}function QU(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,u=ve(h);return Ve(`
        $r = Math.pow($r / 255, $C) * 255;
        $g = Math.pow($g / 255, $C) * 255;
        $b = Math.pow($b / 255, $C) * 255;
    `,{$C:u})}function qU(){var h=[].concat(Array.prototype.slice.call(arguments));h.length===1&&typeof h[0]=="string"&&(h=Se.convertMatchesArray(h[0])),h=h.map(function(s){var f=Se.matches(s);return f.length?{type:"param",value:s}:{type:"scale",value:s}});var u=h.filter(function(s){return s.type=="scale"})[0];u=u?+u.value:256,h=h.filter(function(s){return s.type=="param"}).map(function(s){return s.value}).join(",");var l=Se.gradient(h,u).map(function(s){var f=Se.parse(s),v=f.r,x=f.g,$=f.b,S=f.a;return{r:v,g:x,b:$,a:S}});return Ve(`
        const colorIndex = clamp(Math.ceil($r * 0.2126 + $g * 0.7152 + $b * 0.0722));
        const newColorIndex = clamp(Math.floor(colorIndex * ($scale / 256)));
        const color = $colors[newColorIndex];

        $r = color.r; 
        $g = color.g; 
        $b = color.b; 
        $a = clamp(Math.floor(color.a * 256));
    `,{},{$colors:l,$scale:u})}function JU(h){h=ve(h);var u=h/100;u>1&&(u=1);var l=[.2126+.7874*(1-u),.7152-.7152*(1-u),.0722-.0722*(1-u),0,.2126-.2126*(1-u),.7152+.2848*(1-u),.0722-.0722*(1-u),0,.2126-.2126*(1-u),.7152-.7152*(1-u),.0722+.9278*(1-u),0,0,0,0,1];return Ve(`
        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;
        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;
        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;
        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;
    `,{$matrix:l})}function ez(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:360,u=ve(h);return Ve(`
        var hsv = Color.RGBtoHSV($r, $g, $b);

        // 0 ~ 360 
        var h = hsv.h;
        h += Math.abs($C);
        h = h % 360;
        hsv.h = h;

        var rgb = Color.HSVtoRGB(hsv);

        $r = rgb.r;
        $g = rgb.g;
        $b = rgb.b;
    `,{$C:u})}function tz(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;h=ve(h);var u=h/100;return Ve(`
        $r = (255 - $r) * $C;
        $g = (255 - $g) * $C;
        $b = (255 - $b) * $C;
    `,{$C:u})}function nz(){var h=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,0,0,0,1];return Ve(`
        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;
        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;
        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;
        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;
    `,{$matrix:h})}function rz(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,v=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,$=arguments.length>7&&arguments[7]!==void 0?arguments[7]:0,S=arguments.length>8&&arguments[8]!==void 0?arguments[8]:0,A=arguments.length>9&&arguments[9]!==void 0?arguments[9]:0,N=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,R=arguments.length>11&&arguments[11]!==void 0?arguments[11]:0,z=arguments.length>12&&arguments[12]!==void 0?arguments[12]:0,Z=arguments.length>13&&arguments[13]!==void 0?arguments[13]:0,K=arguments.length>14&&arguments[14]!==void 0?arguments[14]:0,W=arguments.length>15&&arguments[15]!==void 0?arguments[15]:0,re=[h,u,l,s,f,v,x,$,S,A,N,R,z,Z,K,W];return Ve(`
        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;
        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;
        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;
        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;
    `,{$matrix:re})}function iz(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,u=ve(h);return Ve(`
        const C = Math.abs($C) * 5;
        const min = -C;
        const max = C;
        const noiseValue = Math.round(min + (Math.random() * (max - min)));

        $r += noiseValue;
        $g += noiseValue;
        $b += noiseValue;
    `,{$C:u})}function oz(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;h=ve(h);var u=h/100;return Ve(`
        $a *= $C; 
    `,{$C:u})}function az(){var h=[1.438,-.062,-.062,0,-.122,1.378,-.122,0,-.016,-.016,1.483,0,0,0,0,1];return Ve(`
        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;
        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;
        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;
        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;
    `,{$matrix:h})}function sz(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;h=ve(h);var u=h/100,l=1-Math.abs(u),s=[l,0,0,0,0,l,0,0,0,0,l,0,0,0,0,l];return Ve(`
        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;
        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;
        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;
        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;        
    `,{$matrix:s})}function lz(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,u=ve(h);u>1&&(u=1);var l=[.393+.607*(1-u),.769-.769*(1-u),.189-.189*(1-u),0,.349-.349*(1-u),.686+.314*(1-u),.168-.168*(1-u),0,.272-.272*(1-u),.534-.534*(1-u),.131+.869*(1-u),0,0,0,0,1];return Ve(`
        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;
        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;
        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;
        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;        
    `,{$matrix:l})}function cz(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=ve(h),f=ve(u),v=ve(l);return Ve(`
        $r *= $redValue;
        $g *= $greenValue;
        $b *= $blueValue;
    `,{$redValue:s,$greenValue:f,$blueValue:v})}function uz(){var h=[1.438,-.062,-.062,0,-.122,1.378,-.122,0,-.016,-.016,1.483,0,0,0,0,1];return Ve(`
        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;
        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;
        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;
        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;        
    `,{$matrix:h})}function dz(h,u,l){var s=ve(h),f=ve(u),v=ve(l);return Ve(`
        $r = ($r < $redValue) ? 255 - $r: $r;
        $g = ($g < $greenValue) ? 255 - $g: $g;
        $b = ($b < $blueValue) ? 255 - $b: $b;
    `,{$redValue:s,$greenValue:f,$blueValue:v})}function fz(){var h=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-.231103377548616,-.7501899197440212,1.847597816108189,0,0,0,0,1];return Ve(`
        $r = $matrix[0] * $r + $matrix[1] * $g + $matrix[2] * $b + $matrix[3] * $a;
        $g = $matrix[4] * $r + $matrix[5] * $g + $matrix[6] * $b + $matrix[7] * $a;
        $b = $matrix[8] * $r + $matrix[9] * $g + $matrix[10] * $b + $matrix[11] * $a;
        $a = $matrix[12] * $r + $matrix[13] * $g + $matrix[14] * $b + $matrix[15] * $a;
    `,{$matrix:h})}function cx(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:200,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=ve(h);u=ve(u);var f=u/100,v=l;return Ve(`
        // refer to Color.brightness 
        const v = ($C * Math.ceil($r * 0.2126 + $g * 0.7152 + $b * 0.0722) ) >= $scale ? 255 : 0;

        if ($hasColor) {

            if (v == 0) {
                $r = 0; 
                $g = 0; 
                $b = 0;
            }
            
        } else {
            const value = Math.round(v);
            $r = value; 
            $g = value;
            $b = value; 
        }
        
    `,{$C:f,$scale:s,$hasColor:v})}function hz(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:200,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;return cx(h,u,!1)}function pz(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=ve(h),f=ve(u),v=ve(l);return Ve(`

        $r += (255 - $r) * $redTint;
        $g += (255 - $g) * $greenTint;
        $b += (255 - $b) * $blueTint;

    `,{$redTint:s,$greenTint:f,$blueTint:v})}var mz={bitonal:YU,brightness:XU,brownie:KU,clip:WU,contrast:ZU,gamma:QU,gradient:qU,grayscale:JU,hue:ez,invert:tz,kodachrome:nz,matrix:rz,noise:iz,opacity:oz,polaroid:az,saturation:sz,sepia:lz,shade:cz,shift:uz,solarize:dz,technicolor:fz,threshold:hz,"threshold-color":cx,tint:pz};function gz(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3;return h=ve(h),vt(Lx(h))}function vz(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:4;return h=ve(h),vt([h*-2,-h,0,-h,1,h,0,h,h*2])}function ux(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;h=ve(h);var u=h/100;return vt(an([1,2,1,2,4,2,1,2,1],1/16*u))}function dx(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;h=ve(h);var u=h/100;return vt(an([1,4,6,4,1,4,16,24,16,4,6,24,36,24,6,4,16,24,16,4,1,4,6,4,1],1/256*u))}function yz(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return h=ve(h),vt(an([.3,.3,.3,0,0,.59,.59,.59,0,0,.11,.11,.11,0,0,0,0,0,0,0,0,0,0,0,0],h/100))}function bz(){return vt([0,0,0,0,1,0,0,0,0])}function fx(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return h=ve(h),vt([5,5,5,-3,0,-3,-3,-3,-3])}function hx(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return h=ve(h),vt([5,-3,-3,5,0,-3,5,-3,-3])}function xz(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return h=ve(h),vt(an([-1,-1,-1,-1,8,-1,-1,-1,-1],h/100))}function px(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return h=ve(h),vt(an([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,24,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],h/100))}function mx(){return vt(an([1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1],1/9))}function gx(){return vt(an([1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1],1/9))}function vx(){return vt(an([1,0,0,0,1,0,0,0,1,0,1,0,0,1,0,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,0,1,0,0,1,0,1,0,0,0,1,0,0,0,1],1/9))}function wz(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return h=ve(h),vt(an([-1,0,0,0,0,0,-1,0,0,0,0,0,-1,0,0,0,0,0,1,0,1,1,1,1,1],h/100))}function Cz(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return h=ve(h),vt(an([.393,.349,.272,0,0,.769,.686,.534,0,0,.189,.168,.131,0,0,0,0,0,0,0,0,0,0,0,0],h/100))}function kz(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return h=ve(h),vt(an([0,-1,0,-1,5,-1,0,-1,0],h/100))}function yx(){return vt([-1,-2,-1,0,0,0,1,2,1])}function bx(){return vt([-1,0,1,-2,0,2,-1,0,1])}var xx=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],wx=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function Zl(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function $z(h,u,l){return l?Cx(h,0,0,u):stackBlurCanvasRGB(h,0,0,u)}function Cx(h,u,l,s){if(isNaN(s)||s<1)return h;s|=0;var f=h.pixels,v=h.width,x=h.height,$,S,A,N,R,z,Z,K,W,re,se,Ee,Le,qe,Ke,yt,at,st,lt,bt,Xt=s+s+1,_t=v-1,De=x-1,ct=s+1,ii=ct*(ct+1)/2,Hn=new Zl,ze=Hn;for(A=1;A<Xt;A++)if(ze=ze.next=new Zl,A==ct)var Et=ze;ze.next=Hn;var We=null,At=null;Z=z=0;var we=xx[s],Ir=wx[s];for(S=0;S<x;S++){for(qe=Ke=yt=K=W=re=0,se=ct*(at=f[z]),Ee=ct*(st=f[z+1]),Le=ct*(lt=f[z+2]),K+=ii*at,W+=ii*st,re+=ii*lt,ze=Hn,A=0;A<ct;A++)ze.r=at,ze.g=st,ze.b=lt,ze=ze.next;for(A=1;A<ct;A++)N=z+((_t<A?_t:A)<<2),K+=(ze.r=at=f[N])*(bt=ct-A),W+=(ze.g=st=f[N+1])*bt,re+=(ze.b=lt=f[N+2])*bt,qe+=at,Ke+=st,yt+=lt,ze=ze.next;for(We=Hn,At=Et,$=0;$<v;$++)f[z]=K*we>>Ir,f[z+1]=W*we>>Ir,f[z+2]=re*we>>Ir,K-=se,W-=Ee,re-=Le,se-=We.r,Ee-=We.g,Le-=We.b,N=Z+((N=$+s+1)<_t?N:_t)<<2,qe+=We.r=f[N],Ke+=We.g=f[N+1],yt+=We.b=f[N+2],K+=qe,W+=Ke,re+=yt,We=We.next,se+=at=At.r,Ee+=st=At.g,Le+=lt=At.b,qe-=at,Ke-=st,yt-=lt,At=At.next,z+=4;Z+=v}for($=0;$<v;$++){for(Ke=yt=qe=W=re=K=0,z=$<<2,se=ct*(at=f[z]),Ee=ct*(st=f[z+1]),Le=ct*(lt=f[z+2]),K+=ii*at,W+=ii*st,re+=ii*lt,ze=Hn,A=0;A<ct;A++)ze.r=at,ze.g=st,ze.b=lt,ze=ze.next;for(R=v,A=1;A<=s;A++)z=R+$<<2,K+=(ze.r=at=f[z])*(bt=ct-A),W+=(ze.g=st=f[z+1])*bt,re+=(ze.b=lt=f[z+2])*bt,qe+=at,Ke+=st,yt+=lt,ze=ze.next,A<De&&(R+=v);for(z=$,We=Hn,At=Et,S=0;S<x;S++)N=z<<2,f[N]=K*we>>Ir,f[N+1]=W*we>>Ir,f[N+2]=re*we>>Ir,K-=se,W-=Ee,re-=Le,se-=We.r,Ee-=We.g,Le-=We.b,N=$+((N=S+ct)<De?N:De)*v<<2,K+=qe+=We.r=f[N],W+=Ke+=We.g=f[N+1],re+=yt+=We.b=f[N+2],We=We.next,se+=at=At.r,Ee+=st=At.g,Le+=lt=At.b,qe-=at,Ke-=st,yt-=lt,At=At.next,z+=v}return h}function kx(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return h=ve(h),function(l,s){var f=$z(l,h,u);s(f)}}function Tz(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:100;return h=ve(h),vt(an([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,.3,0,0,0,0,0,1],h/100))}function $x(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:256;return h=ve(h),vt(an([1,4,6,4,1,4,16,24,16,4,6,24,-476,24,6,4,16,24,16,4,1,4,6,4,1],-1/h))}var Ez={blur:gz,emboss:vz,gaussianBlur:ux,"gaussian-blur":ux,gaussianBlur5x:dx,"gaussian-blur-5x":dx,grayscale2:yz,normal:bz,kirschHorizontal:fx,"kirsch-horizontal":fx,kirschVertical:hx,"kirsch-vertical":hx,laplacian:xz,laplacian5x:px,"laplacian-5x":px,motionBlur:mx,"motion-blur":mx,motionBlur2:gx,"motion-blur-2":gx,motionBlur3:vx,"motion-blur-3":vx,negative:wz,sepia2:Cz,sharpen:kz,sobelHorizontal:yx,"sobel-horizontal":yx,sobelVertical:bx,"sobel-vertical":bx,stackBlur:kx,"stack-blur":kx,transparency:Tz,unsharpMasking:$x,"unsharp-masking":$x};function Iz(){return Ya("kirsch-horizontal kirsch-vertical")}function Sz(){return Ya("sobel-horizontal sobel-vertical")}function _z(){return Ya("brightness(15) saturation(-20) gamma(1.8)")}var Az={kirsch:Iz,sobel:Sz,vintage:_z},Tx=H({},VU,mz,Ez,Az),Mi,Ex=0,Ix=(Mi={partial:zx,multi:Mf,merge:Ql,weight:an,repeat:Sx,colorMatrix:Oz,each:Ax,eachXY:Nx,createRandomCount:Rz,createRandRange:Dz,createBitmap:Di,createBlurMatrix:Lx,pack:Uz,packXY:Af,pixel:Ve,getBitmap:Ox,putBitmap:Mx,radian:Gz,convolution:vt,parseParamNumber:ve,filter:Ya,clamp:Ux,fillColor:Nf,fillPixelColor:Of},Y(Mi,"multi",Mf),Y(Mi,"merge",Ql),Y(Mi,"matches",Px),Y(Mi,"parseFilter",Bx),Y(Mi,"partial",zx),Mi),Nz=Ix;function an(h){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return h.map(function(l){return l*u})}function Sx(h,u){for(var l=new Array(u),s=0;s<u;s++)l[s]=h;return l}function Oz(h,u,l){var s=h[u],f=h[u+1],v=h[u+2],x=h[u+3];Nf(h,u,l[0]*s+l[1]*f+l[2]*v+l[3]*x,l[4]*s+l[5]*f+l[6]*v+l[7]*x,l[8]*s+l[9]*f+l[10]*v+l[11]*x,l[12]*s+l[13]*f+l[14]*v+l[15]*x)}function Mz(h){if(typeof h=="function")return h;typeof h=="string"&&(h=[h]),h=h.slice(0);var u=h.shift();if(typeof u=="function")return u;var l=h,s=Tx[u]||Nz[u];if(!s)throw new Error(u+" is not filter. please check filter name.");return s.apply(s,l)}function _x(h){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,s=arguments[3],f=arguments[4],v=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1e4,x=arguments.length>6&&arguments[6]!==void 0?arguments[6]:"full",$=arguments.length>7&&arguments[7]!==void 0?arguments[7]:50,S=u,A=function(K){setTimeout(K,0)};x=="requestAnimationFrame"&&(A=requestAnimationFrame,v=1e3),x=="full"&&(A=null,v=h);function N(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:50,K=[].concat(ne(Array(Z))),W=K.map(function(se){return"cri = ri + i * s; if (cri >= mx) return {currentRunIndex: cri, i: null}; c(cri); i++;"}).join(`
`),re=new Function("ri","i","s","mx","c",`
            let cri = ri;
            
            `+W+`
            
            return {currentRunIndex: cri, i: i} 
        `);return re}function R(){for(var Z=N($),K=S,W={},re=0;re<v;){if(W=Z(S,re,l,h,s),W.i==null){K=W.currentRunIndex;break}re=W.i,K=W.currentRunIndex}z(K)}function z(Z){if(Z?S=Z:S+=l,S>=h){f();return}A?A(R):R()}R()}function Ax(h,u,l){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};_x(h,0,4,function(f){u(f,f>>2)},function(){l()},s.functionDumpCount,s.frameTimer,s.loopCount)}function Nx(h,u,l,s){var f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};_x(h,0,4,function(v){var x=v>>2;l(v,x%u,Math.floor(x/u))},function(){s()},f.functionDumpCount,f.frameTimer,f.loopCount)}function Dz(h,u,l){for(var s=[],f=1;f<=l;f++){var v=Math.random()*(u-h)+h,x=Math.floor(Math.random()*10)%2==0?-1:1;s.push(x*v)}s.sort();var $=Math.floor(l>>1),S=s[$];return s[$]=s[0],s[0]=S,s}function Rz(){return[3*3,4*4,5*5,6*6,7*7,8*8,9*9,10*10].sort(function(h,u){return .5-Math.random()})[0]}function Di(h,u,l){return{pixels:new Uint8ClampedArray(h),width:u,height:l}}function Lz(h,u,l,s){for(var f=u.pixels.length/4,v=0,x=0,$=0,S=0,A=0,N=0,R=0;R<f;R++)$=R%u.width,S=Math.floor(R/u.width),v=l+$,x=s+S,!(v>h.width)&&(x>h.height||(A=S*u.width+$<<2,N=x*h.width+v<<2,h.pixels[N]=u.pixels[A],h.pixels[N+1]=u.pixels[A+1],h.pixels[N+2]=u.pixels[A+2],h.pixels[N+3]=u.pixels[A+3]))}function Pz(h,u,l,s){for(var f=u.pixels.length>>2,v=0,x=0,$=0,S=0,A=0,N=0,R=0;R<f;R++){var $=R%u.width,S=Math.floor(R/u.width);v=l+$,x=s+S,!(v>h.width)&&(x>h.height||(A=x*h.width+v<<2,N=S*u.width+$<<2,u.pixels[N]=h.pixels[A],u.pixels[N+1]=h.pixels[A+1],u.pixels[N+2]=h.pixels[A+2],u.pixels[N+3]=h.pixels[A+3]))}}function Bz(h){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=h.width+u,s=h.height+u,f={pixels:new Uint8ClampedArray(l*s*4),width:l,height:s};return f}function Ox(h,u){return Ai.getBitmap(h,u)}function Mx(h,u,l){return Ai.putBitmap(h,u,l)}function ve(h){return typeof h=="string"&&(h=h.replace(/deg/,""),h=h.replace(/px/,"")),+h}var Dx=/(([\w_\-]+)(\(([^\)]*)\))?)+/gi;function Uz(h){return function(u,l){Ax(u.pixels.length,function(s,f){h(u.pixels,s,f,u.pixels[s],u.pixels[s+1],u.pixels[s+2],u.pixels[s+3])},function(){l(u)})}}function zz(h){var u=h.map(function(x){return` 
            `+x.userFunction.$preContext+`

            `+x.userFunction.$preCallbackString+`

            $r = clamp($r); $g = clamp($g); $b = clamp($b); $a = clamp($a);
        `}).join(`

`),l={clamp:Ux,Color:Se};h.forEach(function(x){Object.assign(l,x.userFunction.rootContextObject)});var s="const "+Object.keys(l).map(function(x){return" "+x+" = $rc."+x+" "}).join(","),f=` 
    let $r = $p[$pi], $g = $p[$pi+1], $b = $p[$pi+2], $a = $p[$pi+3];
    
    `+s+`

    `+u+`
    
    $p[$pi] = $r; $p[$pi+1] = $g; $p[$pi+2] = $b; $p[$pi+3] = $a;
    `,v=new Function("$p","$pi","$rc",f);return function(x,$){v(x,$,l)}}function jz(h){var u={},l=h.map(function($){var S=[];Object.keys($.context).forEach(function(R,z){S[R]="n$"+Ex+++R+"$"}),Object.keys($.rootContext).forEach(function(R,z){S[R]="r$"+Ex+++R+"$",u[S[R]]=$.rootContext[R]});var A=Object.keys($.context).filter(function(R){return typeof $.context[R]=="number"||typeof $.context[R]=="string"?!1:!(Array.isArray($.context[R])&&(typeof $.context[R][0]=="number"||typeof $.context[R][0]=="string"))}).map(function(R,z){return[S[R],JSON.stringify($.context[R])].join(" = ")}),N=$.callback;return typeof $.callback=="function"&&(N=$.callback.toString().split("{"),N.shift(),N=N.join("{"),N=N.split("}"),N.pop(),N=N.join("}")),Object.keys(S).forEach(function(R){var z=S[R];typeof $.context[R]=="number"||typeof $.context[R]=="string"?N=N.replace(new RegExp("\\"+R,"g"),$.context[R]):Array.isArray($.context[R])?typeof $.context[R][0]=="number"||typeof $.context[R][0]=="string"?$.context[R].forEach(function(Z,K){N=N.replace(new RegExp("\\"+R+"\\["+K+"\\]","g"),Z)}):N=N.replace(new RegExp("\\"+R,"g"),z):N=N.replace(new RegExp("\\"+R,"g"),z)}),{preCallbackString:N,preContext:A}}),s=l.map(function($,S){return $.preContext.length?"const "+$.preContext+";":""}).join(`

`),f=l.map(function($){return $.preCallbackString}).join(`

`),v=` 
    let $r = $pixels[$pixelIndex], $g = $pixels[$pixelIndex+1], $b = $pixels[$pixelIndex+2], $a = $pixels[$pixelIndex+3];

    `+s+`

    `+f+`
    
    $pixels[$pixelIndex] = $r
    $pixels[$pixelIndex+1] = $g 
    $pixels[$pixelIndex+2] = $b   
    $pixels[$pixelIndex+3] = $a   
    `,x=new Function("$pixels","$pixelIndex","$clamp","$Color",v);return x.$preCallbackString=f,x.$preContext=s,x.rootContextObject=u,x}function Fz(h){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return jz([{callback:h,context:u,rootContext:l}])}function Ve(h){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=Fz(h,u,l),f=function(x,$){};return f.userFunction=s,f}var Hz=[0,1,2,3];function Rx(h,u,l){Hz.forEach(function(s){var f=h[u+s];h[u+s]=h[l+s],h[l+s]=f})}function Af(h){return function(u,l){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Nx(u.pixels.length,u.width,function(f,v,x){h(u.pixels,f,v,x)},function(){l(u)},s)}}function Gz(h){return rr.CONSTANT.radian(h)}function Lx(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3,u=Math.pow(h,2),l=1/u;return Sx(l,u)}function Nf(h,u,l,s,f,v){if(arguments.length==3)var x=arguments[2],l=x.r,s=x.g,f=x.b,v=x.a;typeof l=="number"&&(h[u]=l),typeof s=="number"&&(h[u+1]=s),typeof f=="number"&&(h[u+2]=f),typeof v=="number"&&(h[u+3]=v)}function Of(h,u,l,s){Nf(h,u,l[s],l[s+1],l[s+2],l[s+3])}function Vz(h){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:255,s=[];return s=h.map(function(f,v){return[]}),h.forEach(function(f,v){if(f!=0)for(var x=s[v],v=u;v<=l;v++)x[v]=f*v}),s}function Yz(h,u,l,s,f){var v=Math.round(Math.sqrt(h.length)),x=Math.floor(v/2),$=f?1:0,S="let r = 0, g = 0, b = 0, a = 0, scy = 0, scx =0, si = 0; ",A=[],N=[],R=[],z=[];h.forEach(function(K,W){var re=Math.floor(W/v),se=W%v,Ee=re-x,Le=se-x;K!=0&&(A.push("$t["+W+"][$sp[(($sy + ("+Ee+")) * "+l+" + ($sx + ("+Le+"))) * 4]]"),N.push("$t["+W+"][$sp[(($sy + ("+Ee+")) * "+l+" + ($sx + ("+Le+"))) * 4 + 1]]"),R.push("$t["+W+"][$sp[(($sy + ("+Ee+")) * "+l+" + ($sx + ("+Le+"))) * 4 + 2]]"),z.push("$t["+W+"][$sp[(($sy + ("+Ee+")) * "+l+" + ($sx + ("+Le+"))) * 4 + 3]]"))}),S+="r = "+A.join(" + ")+"; g = "+N.join(" + ")+"; b = "+R.join(" + ")+"; a = "+z.join(" + ")+";",S+="$dp[$di] = r; $dp[$di+1] = g;$dp[$di+2] = b;$dp[$di+3] = a + ("+$+")*(255-a); ";var Z=new Function("$dp","$sp","$di","$sx","$sy","$t",S);return function(K,W,re,se,Ee){Z(K,W,re,se,Ee,u)}}function vt(h){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,l=Vz(h);return function(s,f){var v=Math.round(Math.sqrt(h.length)),x=v*2,$=Bz(s,x);Lz($,s,v,v);for(var S=Di($.pixels.length,$.width,$.height),A=Di(s.pixels.length,s.width,s.height),N=Yz(h,l,$.width,$.height,u),R=s.pixels.length/4,z=0;z<R;z++){var Z=z,K=Z%s.width+v,W=Math.floor(Z/s.width)+v;N(S.pixels,$.pixels,(W*$.width+K)*4,K,W)}Pz(S,A,v,v),f(A)}}function Px(h){var u=Se.convertMatches(h),l=u.str.match(Dx),s=[];if(!l)return s;s=l.map(function(v){return{filter:v,origin:Se.reverseMatches(v,u.matches)}});var f={next:0};return s=s.map(function(v){var x=h.indexOf(v.origin,f.next);return v.startIndex=x,v.endIndex=x+v.origin.length,v.arr=Bx(v.origin),f.next=v.endIndex,v}).filter(function(v){return!!v.arr.length}),s}function Bx(h){var u=Se.convertMatches(h),l=u.str.match(Dx);if(!l[0])return[];var s=l[0].split("("),f=s.shift(),v=[];s.length&&(v=s.shift().split(")")[0].split(",").map(function($){return Se.reverseMatches($,u.matches)}));var x=[f].concat(ne(v)).map(Se.trim);return x}function Ux(h){return Math.min(255,h)}function Ya(h){return Ql(Px(h).map(function(u){return u.arr}))}function Xz(){for(var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],u=[],l=[],s=0,f=h.length;s<f;s++){var v=h[s];v.userFunction?l.push(v):(l.length&&u.push([].concat(ne(l))),u.push(v),l=[])}return l.length&&u.push([].concat(ne(l))),u.forEach(function(x,$){Array.isArray(x)&&(u[$]=function(){var S=zz(x);return function(A,N){for(var R=0,z=A.pixels.length;R<z;R+=4)S(A.pixels,R);N(A)}}())}),u}function Mf(){for(var h=arguments.length,u=Array(h),l=0;l<h;l++)u[l]=arguments[l];u=u.map(function(f){return Mz(f)}).filter(function(f){return f}),u=Xz(u);var s=u.length;return function(f,v){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},$=f,S=0;function A(){u[S].call(null,$,function(R){$=R,N()},x)}function N(){if(S++,S>=s){v($);return}A()}A()}}function Ql(h){return Mf.apply(void 0,ne(h))}function zx(h){for(var u=null,l=arguments.length,s=Array(l>1?l-1:0),f=1;f<l;f++)s[f-1]=arguments[f];return s.length==1&&typeof s[0]=="string"?u=Ya(s[0]):u=Ql(s),function(v,x){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};u(Ox(v,h),function(S){x(Mx(v,S,h))},$)}}var Kz=H({},Tx,Ix),Wz={Color:Se,HueColor:Sf,ColorNames:I,ImageFilter:Kz,Canvas:Ai,ImageLoader:Oo};Se.color;var Zz=0,ql=[],sn=function(){function h(u,l,s){if(D(this,h),typeof u!="string")this.el=u;else{var f=document.createElement(u);this.uniqId=Zz++,l&&(f.className=l),s=s||{};for(var v in s)f.setAttribute(v,s[v]);this.el=f}}return P(h,[{key:"attr",value:function(l,s){return arguments.length==1?this.el.getAttribute(l):(this.el.setAttribute(l,s),this)}},{key:"closest",value:function(l){for(var s=this,f=!1;!(f=s.hasClass(l));)if(s.el.parentNode)s=new h(s.el.parentNode);else return null;return f?s:null}},{key:"checked",value:function(){return this.el.checked}},{key:"removeClass",value:function(l){return this.el.className=(" "+this.el.className+" ").replace(" "+l+" "," ").trim(),this}},{key:"hasClass",value:function(l){if(this.el.className){var s=" "+this.el.className+" ";return s.indexOf(" "+l+" ")>-1}else return!1}},{key:"addClass",value:function(l){return this.hasClass(l)||(this.el.className=this.el.className+" "+l),this}},{key:"toggleClass",value:function(l){this.hasClass(l)?this.removeClass(l):this.addClass(l)}},{key:"html",value:function(l){try{typeof l=="string"?this.el.innerHTML=l:this.empty().append(l)}catch{console.log(l)}return this}},{key:"find",value:function(l){return this.el.querySelector(l)}},{key:"$",value:function(l){return new h(this.find(l))}},{key:"findAll",value:function(l){return this.el.querySelectorAll(l)}},{key:"$$",value:function(l){return[].concat(ne(this.findAll(l))).map(function(s){return new h(s)})}},{key:"empty",value:function(){return this.html("")}},{key:"append",value:function(l){return typeof l=="string"?this.el.appendChild(document.createTextNode(l)):this.el.appendChild(l.el||l),this}},{key:"appendTo",value:function(l){var s=l.el?l.el:l;return s.appendChild(this.el),this}},{key:"remove",value:function(){return this.el.parentNode&&this.el.parentNode.removeChild(this.el),this}},{key:"text",value:function(){return this.el.textContent}},{key:"css",value:function(l,s){var f=this;if(arguments.length==2)this.el.style[l]=s;else if(arguments.length==1){if(typeof l=="string")return getComputedStyle(this.el)[l];var v=l||{};Object.keys(v).forEach(function(x){f.el.style[x]=v[x]})}return this}},{key:"cssFloat",value:function(l){return parseFloat(this.css(l))}},{key:"cssInt",value:function(l){return parseInt(this.css(l))}},{key:"px",value:function(l,s){return this.css(l,s+"px")}},{key:"offset",value:function(){var l=this.el.getBoundingClientRect();return{top:l.top+h.getScrollTop(),left:l.left+h.getScrollLeft()}}},{key:"rect",value:function(){return this.el.getBoundingClientRect()}},{key:"position",value:function(){return this.el.style.top?{top:parseFloat(this.css("top")),left:parseFloat(this.css("left"))}:this.el.getBoundingClientRect()}},{key:"size",value:function(){return[this.width(),this.height()]}},{key:"width",value:function(){return this.el.offsetWidth||this.el.getBoundingClientRect().width}},{key:"contentWidth",value:function(){return this.width()-this.cssFloat("padding-left")-this.cssFloat("padding-right")}},{key:"height",value:function(){return this.el.offsetHeight||this.el.getBoundingClientRect().height}},{key:"contentHeight",value:function(){return this.height()-this.cssFloat("padding-top")-this.cssFloat("padding-bottom")}},{key:"dataKey",value:function(l){return this.uniqId+"."+l}},{key:"data",value:function(l,s){if(arguments.length==2)ql[this.dataKey(l)]=s;else{if(arguments.length==1)return ql[this.dataKey(l)];var f=Object.keys(ql),v=this.uniqId+".";return f.filter(function(x){return x.indexOf(v)==0}).map(function(x){return ql[x]})}return this}},{key:"val",value:function(l){return arguments.length==0?this.el.value:(arguments.length==1&&(this.el.value=l),this)}},{key:"int",value:function(){return parseInt(this.val(),10)}},{key:"float",value:function(){return parseFloat(this.val())}},{key:"show",value:function(){return this.css("display","block")}},{key:"hide",value:function(){return this.css("display","none")}},{key:"toggle",value:function(){return this.css("display")=="none"?this.show():this.hide()}},{key:"scrollTop",value:function(){return this.el===document.body?h.getScrollTop():this.el.scrollTop}},{key:"scrollLeft",value:function(){return this.el===document.body?h.getScrollLeft():this.el.scrollLeft}},{key:"on",value:function(l,s,f,v){return this.el.addEventListener(l,s,f,v),this}},{key:"off",value:function(l,s){return this.el.removeEventListener(l,s),this}},{key:"getElement",value:function(){return this.el}},{key:"createChild",value:function(l){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},x=new h(l,s,f);return x.css(v),this.append(x),x}},{key:"firstChild",value:function(){return new h(this.el.firstElementChild)}},{key:"replace",value:function(l,s){return this.el.replaceChild(s,l),this}}],[{key:"getScrollTop",value:function(){return Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)}},{key:"getScrollLeft",value:function(){return Math.max(window.pageXOffset,document.documentElement.scrollLeft,document.body.scrollLeft)}}]),h}(),jx=function(){function h(u){D(this,h),this.$store=u,this.initialize()}return P(h,[{key:"initialize",value:function(){var l=this;this.filterProps().forEach(function(s){l.$store.action(s,l)})}},{key:"filterProps",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"/";return Object.getOwnPropertyNames(this.__proto__).filter(function(s){return s.startsWith(l)})}}]),h}(),Qz=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"initialize",value:function(){X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"initialize",this).call(this),this.$store.colorSetsList=[{name:"Material",colors:["#F44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E","#607D8B"],edit:!0},{name:"Custom",edit:!0,colors:[]},{name:"Color Scale",scale:["red","yellow","black"],count:5}],this.$store.currentColorSets={}}},{key:"/list",value:function(s){return Array.isArray(s.userList)&&s.userList.length?s.userList:s.colorSetsList}},{key:"/setUserPalette",value:function(s,f){s.userList=f,s.dispatch("/resetUserPalette"),s.dispatch("/setCurrentColorSets")}},{key:"/resetUserPalette",value:function(s){s.userList&&s.userList.length&&(s.userList=s.userList.map(function(f,v){if(typeof f.colors=="function"){var x=f.colors;f.colors=x(s),f._colors=x}return Object.assign({name:"color-"+v,colors:[]},f)}),s.emit("changeUserList"))}},{key:"/setCurrentColorSets",value:function(s,f){var v=s.dispatch("/list");typeof f>"u"?s.currentColorSets=v[0]:typeof f=="number"?s.currentColorSets=v[f]:s.currentColorSets=v.filter(function(x){return x.name==f})[0],s.emit("changeCurrentColorSets")}},{key:"/getCurrentColorSets",value:function(s){return s.currentColorSets}},{key:"/addCurrentColor",value:function(s,f){Array.isArray(s.currentColorSets.colors)&&(s.currentColorSets.colors.push(f),s.emit("changeCurrentColorSets"),s.emit("addCurrentColor",f))}},{key:"/setCurrentColorAll",value:function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];s.currentColorSets.colors=f,s.emit("changeCurrentColorSets")}},{key:"/removeCurrentColor",value:function(s,f){s.currentColorSets.colors[f]&&(s.currentColorSets.colors.splice(f,1),s.emit("changeCurrentColorSets"))}},{key:"/removeCurrentColorToTheRight",value:function(s,f){s.currentColorSets.colors[f]&&(s.currentColorSets.colors.splice(f,Number.MAX_VALUE),s.emit("changeCurrentColorSets"))}},{key:"/clearPalette",value:function(s){s.currentColorSets.colors&&(s.currentColorSets.colors=[],s.emit("changeCurrentColorSets"))}},{key:"/getCurrentColors",value:function(s){return s.dispatch("/getColors",s.currentColorSets)}},{key:"/getColors",value:function(s,f){return f.scale?Se.scale(f.scale,f.count):f.colors||[]}},{key:"/getColorSetsList",value:function(s){return s.dispatch("/list").map(function(f){return{name:f.name,edit:f.edit,colors:s.dispatch("/getColors",f)}})}}]),u}(jx),ir={addEvent:function(u,l,s,f){u&&u.addEventListener(l,s,f)},removeEvent:function(u,l,s){u&&u.removeEventListener(l,s)},pos:function(u){return u.touches&&u.touches[0]?u.touches[0]:u},posXY:function(u){var l=this.pos(u);return{x:l.pageX,y:l.pageY}}},qz=".",Jz=function(){function h(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};D(this,h),this.masterObj=u,this.settingObj=l}return P(h,[{key:"set",value:function(l,s){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.settingObj[l]=s||f}},{key:"init",value:function(l){if(!this.has(l)||!this.settingObj[l]){var s=l.split(qz),f=this.masterObj.refs[s[0]]||this.masterObj[s[0]]||this.masterObj,v=s.pop();if(f[v]){for(var x=arguments.length,$=Array(x>1?x-1:0),S=1;S<x;S++)$[S-1]=arguments[S];var A=f[v].apply(f,$);this.set(l,A)}}}},{key:"get",value:function(l){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.init(l,s),this.settingObj[l]||s}},{key:"has",value:function(l){return!!this.settingObj[l]}}]),h}(),ej=/^(click|mouse(down|up|move|enter|leave)|touch(start|move|end)|key(down|up|press)|contextmenu|change|input)/ig,tj=/^load (.*)/ig,Fx=" ",nj=["Control","Shift","Alt","Meta"],rj=function(){function h(){D(this,h),this.state=new Jz(this),this.refs={},this.childComponents=this.components()}return P(h,[{key:"newChildComponents",value:function(){var l=this,s=Object.keys(this.childComponents);s.forEach(function(f){var v=l.childComponents[f];l[f]=new v(l)})}},{key:"render",value:function(){this.$el=this.parseTemplate(this.template()),this.refs.$el=this.$el,this.parseTarget(),this.load(),this.afterRender()}},{key:"afterRender",value:function(){}},{key:"components",value:function(){return{}}},{key:"parseTemplate",value:function(l){var s=this,f=new sn("div").html(l).firstChild(),v=f.findAll("[ref]");return[].concat(ne(v)).forEach(function(x){var $=x.getAttribute("ref");s.refs[$]=new sn(x)}),f}},{key:"parseTarget",value:function(){var l=this,s=this.$el,f=s.findAll("[target]");[].concat(ne(f)).forEach(function(v){var x=v.getAttribute("target"),$=v.getAttribute("ref")||x,S=l.childComponents[x],A=new S(l);if(l[$]=A,l.refs[$]=A.$el,A){A.render();var N=new sn(v.parentNode);N.replace(v,A.$el.el)}})}},{key:"load",value:function(){var l=this;this.filterProps(tj).forEach(function(s){var f=s.split("load ")[1];l.refs[f]&&l.refs[f].html(l.parseTemplate(l[s].call(l)))})}},{key:"template",value:function(){return"<div></div>"}},{key:"initialize",value:function(){}},{key:"initializeEvent",value:function(){var l=this;this.initializeEventMachin(),Object.keys(this.childComponents).forEach(function(s){l[s]&&l[s].initializeEvent()})}},{key:"destroy",value:function(){var l=this;this.destroyEventMachin(),Object.keys(this.childComponents).forEach(function(s){l[s]&&l[s].destroy()})}},{key:"destroyEventMachin",value:function(){this.removeEventAll()}},{key:"initializeEventMachin",value:function(){this.filterProps(ej).forEach(this.parseEvent.bind(this))}},{key:"collectProps",value:function(){if(!this.collapsedProps){var l=this.__proto__,s=[];do s.push.apply(s,ne(Object.getOwnPropertyNames(l))),l=l.__proto__;while(l);this.collapsedProps=s}return this.collapsedProps}},{key:"filterProps",value:function(l){return this.collectProps().filter(function(s){return s.match(l)})}},{key:"parseEvent",value:function(l){var s=l.split(Fx);this.bindingEvent(s,this[l].bind(this))}},{key:"getDefaultDomElement",value:function(l){var s=void 0;return l?s=this.refs[l]||this[l]||window[l]:s=this.el||this.$el||this.$root,s instanceof sn?s.getElement():s}},{key:"getDefaultEventObject",value:function(l){var s=this,f=l.split("."),v=f.shift(),x=f.includes("Control"),$=f.includes("Shift"),S=f.includes("Alt"),A=f.includes("Meta");f=f.filter(function(R){return nj.includes(R)===!1});var N=f.filter(function(R){return!!s[R]});return f=f.filter(function(R){return N.includes(R)===!1}).map(function(R){return R.toLowerCase()}),{eventName:v,isControl:x,isShift:$,isAlt:S,isMeta:A,codes:f,checkMethodList:N}}},{key:"bindingEvent",value:function(l,s){var f=Te(l),v=f[0],x=f[1],$=f.slice(2);x=this.getDefaultDomElement(x);var S=this.getDefaultEventObject(v);S.dom=x,S.delegate=$.join(Fx),this.addEvent(S,s)}},{key:"matchPath",value:function(l,s){return l?l.matches(s)?l:this.matchPath(l.parentElement,s):null}},{key:"getBindings",value:function(){return this._bindings||this.initBindings(),this._bindings}},{key:"addBinding",value:function(l){this.getBindings().push(l)}},{key:"initBindings",value:function(){this._bindings=[]}},{key:"checkEventType",value:function(l,s){var f=this,v=s.isControl?l.ctrlKey:!0,x=s.isShift?l.shiftKey:!0,$=s.isAlt?l.altKey:!0,S=s.isMeta?l.metaKey:!0,A=!0;s.codes.length&&(A=s.codes.includes(l.code.toLowerCase())||s.codes.includes(l.key.toLowerCase()));var N=!0;return s.checkMethodList.length&&(N=s.checkMethodList.every(function(R){return f[R].call(f,l)})),v&&$&&x&&S&&A&&N}},{key:"makeCallback",value:function(l,s){var f=this;return l.delegate?function(v){if(v.xy=ir.posXY(v),f.checkEventType(v,l)){var x=f.matchPath(v.target||v.srcElement,l.delegate);if(x)return v.delegateTarget=x,v.$delegateTarget=new sn(x),s(v)}}:function(v){if(v.xy=ir.posXY(v),f.checkEventType(v,l))return s(v)}}},{key:"addEvent",value:function(l,s){l.callback=this.makeCallback(l,s),this.addBinding(l);var f=!0;l.eventName==="touchstart"&&(f={passive:!0}),ir.addEvent(l.dom,l.eventName,l.callback,f)}},{key:"removeEventAll",value:function(){var l=this;this.getBindings().forEach(function(s){l.removeEvent(s)}),this.initBindings()}},{key:"removeEvent",value:function(l){var s=l.eventName,f=l.dom,v=l.callback;ir.removeEvent(f,s,v)}}]),h}(),ij=/^@/,zt=function(h){j(u,h);function u(l){D(this,u);var s=F(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l));return s.opt=l||{},l&&l.$store&&(s.$store=l.$store),s.initialize(),s.initializeStoreEvent(),s}return P(u,[{key:"initializeStoreEvent",value:function(){var s=this;this.storeEvents={},this.filterProps(ij).forEach(function(f){var v=f.split("@");v.shift();var x=v.join("@");s.storeEvents[x]=s[f].bind(s),s.$store.on(x,s.storeEvents[x])})}},{key:"destoryStoreEvent",value:function(){var s=this;Object.keys(this.storeEvents).forEach(function(f){s.$store.off(f,s.storeEvents[f])})}}]),u}(rj);function oj(h){return typeof h>"u"||h==null}var aj=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"initialize",value:function(){X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"initialize",this).call(this),this.$store.rgb={},this.$store.hsl={},this.$store.hsv={},this.$store.alpha=1,this.$store.format="hex"}},{key:"/changeFormat",value:function(s,f){s.format=f,s.emit("changeFormat")}},{key:"/initColor",value:function(s,f,v){s.dispatch("/changeColor",f,v,!0),s.emit("initColor")}},{key:"/changeColor",value:function(s,f,v,x){f=f||"#FF0000",typeof f=="string"&&(f=Se.parse(f)),f.source=f.source||v,s.alpha=oj(f.a)?s.alpha:f.a,s.format=f.type!="hsv"&&f.type||s.format,f.type=="hsl"?(s.hsl=Object.assign(s.hsl,f),s.rgb=Se.HSLtoRGB(s.hsl),s.hsv=Se.HSLtoHSV(f)):f.type=="hex"||f.type=="rgb"?(s.rgb=Object.assign(s.rgb,f),s.hsl=Se.RGBtoHSL(s.rgb),s.hsv=Se.RGBtoHSV(f)):f.type=="hsv"&&(s.hsv=Object.assign(s.hsv,f),s.rgb=Se.HSVtoRGB(s.hsv),s.hsl=Se.HSVtoHSL(s.hsv)),x||s.emit("changeColor",f.source)}},{key:"/getHueColor",value:function(s){return Sf.checkHueColor(s.hsv.h/360)}},{key:"/toString",value:function(s,f){f=f||s.format;var v=s[f]||s.rgb;return Se.format(H({},v,{a:s.alpha}),f)}},{key:"/toColor",value:function(s,f){return f=f||s.format,f=="rgb"?s.dispatch("/toRGB"):f=="hsl"?s.dispatch("/toHSL"):f=="hex"?s.dispatch("/toHEX"):s.dispatch("/toString",f)}},{key:"/toRGB",value:function(s){return s.dispatch("/toString","rgb")}},{key:"/toHSL",value:function(s){return s.dispatch("/toString","hsl")}},{key:"/toHEX",value:function(s){return s.dispatch("/toString","hex").toUpperCase()}}]),u}(jx),sj=function(){function h(u){D(this,h),this.callbacks=[],this.actions=[],this.modules=u.modules||[],this.initialize()}return P(h,[{key:"initialize",value:function(){this.initializeModule()}},{key:"initializeModule",value:function(){var l=this;this.modules.forEach(function(s){new s(l)})}},{key:"action",value:function(l,s){this.actions[l]={context:s,callback:s[l]}}},{key:"dispatch",value:function(f){var s=[].concat(Array.prototype.slice.call(arguments)),f=s.shift(),v=this.actions[f];if(v)return v.callback.apply(v.context,[this].concat(ne(s)))}},{key:"module",value:function(l){}},{key:"on",value:function(l,s){this.callbacks.push({event:l,callback:s})}},{key:"off",value:function(l,s){arguments.length==0?this.callbacks=[]:arguments.length==1?this.callbacks=this.callbacks.filter(function(f){return f.event!=l}):arguments.length==2&&(this.callbacks=this.callbacks.filter(function(f){return f.event!=l&&f.callback!=s}))}},{key:"emit",value:function(){var l=[].concat(Array.prototype.slice.call(arguments)),s=l.shift();this.callbacks.filter(function(f){return f.event==s}).forEach(function(f){f&&typeof f.callback=="function"&&f.callback.apply(f,ne(l))})}}]),h}(),ri=function(h){j(u,h);function u(l){D(this,u);var s=F(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l));return s.isColorPickerShow=!1,s.isShortCut=!1,s.hideDelay=+(typeof s.opt.hideDeplay>"u"?2e3:s.opt.hideDelay),s.timerCloseColorPicker,s.autoHide=s.opt.autoHide||!0,s.outputFormat=s.opt.outputFormat,s.$checkColorPickerClass=s.checkColorPickerClass.bind(s),s}return P(u,[{key:"initialize",value:function(){var s=this;this.$body=null,this.$root=null,this.$store=new sj({modules:[aj,Qz]}),this.callbackChange=function(){s.callbackColorValue()},this.callbackLastUpdate=function(){s.callbackLastUpdateColorValue()},this.callbackAddCurrentColor=function(f){s.callbackAddCurrentColorValue(f)},this.colorpickerShowCallback=function(){},this.colorpickerHideCallback=function(){},this.colorpickerLastUpdateCallback=function(){},this.colorpickerAddCurrentColorCallback=function(){},this.$body=new sn(this.getContainer()),this.$root=new sn("div","easylogic-colorpicker",{tabIndex:-1}),this.opt.position=="inline"&&this.$body.append(this.$root),this.opt.type&&this.$root.addClass(this.opt.type),this.opt.hideInformation&&this.$root.addClass("hide-information"),this.opt.hideColorsets&&this.$root.addClass("hide-colorsets"),this.$arrow=new sn("div","arrow"),this.$root.append(this.$arrow),this.opt.colorSets?this.$store.dispatch("/setUserPalette",this.opt.colorSet):Ef(this.opt.onRetrievePreset)?this.$store.dispatch("/setUserPalette",this.opt.onRetrievePreset()):this.$store.dispatch("/setUserPalette",[]),this.render(),this.$root.append(this.$el),this.initColorWithoutChangeEvent(this.opt.color),this.initializeEvent()}},{key:"initColorWithoutChangeEvent",value:function(s){this.$store.dispatch("/initColor",s)}},{key:"show",value:function(s,f,v,x,$,S){this.colorpickerShowCallback=v,this.colorpickerHideCallback=x,this.colorpickerLastUpdateCallback=$,this.colorpickerAddCurrentColorCallback=S,this.$root.css(this.getInitalizePosition()).show(),this.isColorPickerShow=!0,this.isShortCut=s.isShortCut||!1,this.outputFormat=s.outputFormat,this.hideDelay=+(typeof s.hideDelay>"u"?2e3:s.hideDelay),this.hideDelay>0&&this.setHideDelay(this.hideDelay),this.$root.appendTo(this.$body),this.definePosition(s),this.initColorWithoutChangeEvent(f)}},{key:"initColor",value:function(s,f){this.$store.dispatch("/changeColor",s,f)}},{key:"hide",value:function(){this.isColorPickerShow&&(this.$root.hide(),this.$root.remove(),this.isColorPickerShow=!1,this.callbackHideColorValue())}},{key:"setColorsInPalette",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.$store.dispatch("/setCurrentColorAll",s)}},{key:"setUserPalette",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];this.$store.dispatch("/setUserPalette",s)}},{key:"getOption",value:function(s){return this.opt[s]}},{key:"setOption",value:function(s,f){this.opt[s]=f}},{key:"isType",value:function(s){return this.getOption("type")==s}},{key:"isPaletteType",value:function(){return this.isType("palette")}},{key:"isSketchType",value:function(){return this.isType("sketch")}},{key:"getContainer",value:function(){return this.opt.container||document.body}},{key:"getColor",value:function(s){return this.$store.dispatch("/toColor",s)}},{key:"definePositionForArrow",value:function(s,f,v){}},{key:"definePosition",value:function(s){var f=this.$root.width(),v=this.$root.height(),x=s.left-this.$body.scrollLeft();f+x>window.innerWidth&&(x-=f+x-window.innerWidth),x<0&&(x=0);var $=s.top-this.$body.scrollTop();v+$>window.innerHeight&&($-=v+$-window.innerHeight),$<0&&($=0),this.$root.css({left:x+"px",top:$+"px"})}},{key:"getInitalizePosition",value:function(){return this.opt.position=="inline"?{position:"relative",left:"auto",top:"auto",display:"inline-block"}:{position:"fixed",left:"-10000px",top:"-10000px"}}},{key:"isAbsolute",value:function(){return this.opt.position!=="inline"}},{key:"mouseup.isAbsolute document",value:function(s){this.__isMouseDown=!1,this.checkInHtml(s.target)||(this.checkColorPickerClass(s.target)==!1?this.hide():this.__isMouseIn||(clearTimeout(this.timerCloseColorPicker),this.timerCloseColorPicker=setTimeout(this.hide.bind(this),this.delayTime||this.hideDelay)))}},{key:"keyup.isAbsolute.escape $root",value:function(s){this.hide()}},{key:"mouseover.isAbsolute $root",value:function(s){clearTimeout(this.timerCloseColorPicker)}},{key:"mousemove.isAbsolute $root",value:function(s){clearTimeout(this.timerCloseColorPicker)}},{key:"mouseenter.isAbsolute $root",value:function(s){clearTimeout(this.timerCloseColorPicker),this.__isMouseIn=!0}},{key:"mouseleave.isAbsolute $root",value:function(s){this.__isMouseIn=!1,this.__isMouseDown||(clearTimeout(this.timerCloseColorPicker),this.timerCloseColorPicker=setTimeout(this.hide.bind(this),this.delayTime||this.hideDelay))}},{key:"mousedown.isAbsolute $root",value:function(s){this.__isMouseDown=!0}},{key:"setHideDelay",value:function(s){this.delayTime=s||0}},{key:"runHideDelay",value:function(){this.isColorPickerShow&&this.setHideDelay()}},{key:"callbackColorValue",value:function(s){s=s||this.getCurrentColor(),typeof this.opt.onChange=="function"&&this.opt.onChange.call(this,s),typeof this.colorpickerShowCallback=="function"&&this.colorpickerShowCallback(s)}},{key:"callbackLastUpdateColorValue",value:function(s){s=s||this.getCurrentColor(),typeof this.opt.onLastUpdate=="function"&&this.opt.onLastUpdate.call(this,s),typeof this.colorpickerLastUpdateCallback=="function"&&this.colorpickerLastUpdateCallback(s)}},{key:"callbackAddCurrentColorValue",value:function(s){typeof this.opt.onLastUpdate=="function"&&this.opt.onAddPreset.call(this,s),typeof this.colorpickerAddCurrentColorCallback=="function"&&this.colorpickerAddCurrentColorCallback(s)}},{key:"callbackHideColorValue",value:function(s){s=s||this.getCurrentColor(),typeof this.opt.onHide=="function"&&this.opt.onHide.call(this,s),typeof this.colorpickerHideCallback=="function"&&this.colorpickerHideCallback(s)}},{key:"getCurrentColor",value:function(){return this.$store.dispatch("/toColor",this.outputFormat)}},{key:"checkColorPickerClass",value:function(s){var f=new sn(s).closest("codemirror-colorview"),v=new sn(s).closest("easylogic-colorpicker"),x=new sn(s).closest("CodeMirror");return s.nodeName=="HTML",!!(v||f||x)}},{key:"checkInHtml",value:function(s){var f=s.nodeName=="HTML";return f}},{key:"initializeStoreEvent",value:function(){X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"initializeStoreEvent",this).call(this),this.$store.on("changeColor",this.callbackChange),this.$store.on("lastUpdateColor",this.callbackLastUpdate),this.$store.on("changeFormat",this.callbackChange),this.$store.on("addCurrentColor",this.callbackAddCurrentColor)}},{key:"destroy",value:function(){X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"destroy",this).call(this),this.$store.off("changeColor",this.callbackChange),this.$store.off("lastUpdateColor",this.callbackLastUpdate),this.$store.off("changeFormat",this.callbackChange),this.$store.off("addCurrentColor",this.callbackAddCurrentColor),this.callbackChange=void 0,this.callbackLastUpdate=void 0,this.callbackAddCurrentColor=void 0,this.colorpickerShowCallback=void 0,this.colorpickerHideCallback=void 0}}]),u}(zt),lj=function(h){j(u,h);function u(l){D(this,u);var s=F(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l));return s.source="base-box",s}return P(u,[{key:"refresh",value:function(){}},{key:"refreshColorUI",value:function(s){}},{key:"changeColor",value:function(s){this.$store.dispatch("/changeColor",Object.assign({source:this.source},s||{}))}},{key:"mouseup document",value:function(s){this.onDragEnd(s)}},{key:"mousemove document",value:function(s){this.onDragMove(s)}},{key:"mousedown $bar",value:function(s){s.preventDefault(),this.isDown=!0}},{key:"mousedown $container",value:function(s){this.isDown=!0,this.onDragStart(s)}},{key:"touchend document",value:function(s){this.onDragEnd(s)}},{key:"touchmove document",value:function(s){this.onDragMove(s)}},{key:"touchstart $bar",value:function(s){s.preventDefault(),this.isDown=!0}},{key:"touchstart $container",value:function(s){this.onDragStart(s)}},{key:"onDragStart",value:function(s){this.isDown=!0,this.refreshColorUI(s)}},{key:"onDragMove",value:function(s){this.isDown&&this.refreshColorUI(s)}},{key:"onDragEnd",value:function(s){this.isDown&&(this.$store.emit("lastUpdateColor"),this.isDown=!1)}},{key:"@changeColor",value:function(s){this.source!=s&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),u}(zt),Xa=function(h){j(u,h);function u(l){D(this,u);var s=F(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l));return s.minValue=0,s.maxValue=1,s.source="base-slider",s}return P(u,[{key:"getMinMaxPosition",value:function(){var s=this.getMinPosition(),f=this.getMaxDist(),v=s+f;return{min:s,max:v,width:f}}},{key:"getCurrent",value:function(s){return min+this.getMaxDist()*s}},{key:"getMinPosition",value:function(){return this.refs.$container.offset().left}},{key:"getMaxDist",value:function(){return this.state.get("$container.width")}},{key:"getDist",value:function(s){var f=this.getMinMaxPosition(),v=f.min,x=f.max,$;return s<v?$=0:s>x?$=100:$=(s-v)/(x-v)*100,$}},{key:"getCaculatedDist",value:function(s){var f=s?this.getMousePosition(s):this.getCurrent(this.getDefaultValue()/this.maxValue),v=this.getDist(f);return v}},{key:"getDefaultValue",value:function(){return 0}},{key:"setMousePosition",value:function(s){this.refs.$bar.css({left:s+"px"})}},{key:"getMousePosition",value:function(s){return ir.pos(s).pageX}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(s){if(s=s||this.getDefaultValue(),this.lastV===s)return!0;this.lastV=s,s<=this.minValue?this.refs.$bar.addClass("first").removeClass("last"):s>=this.maxValue?this.refs.$bar.addClass("last").removeClass("first"):this.refs.$bar.removeClass("last").removeClass("first"),this.setMousePosition(this.getMaxDist()*((s||0)/this.maxValue))}}]),u}(lj),Hx=function(h){j(u,h);function u(l){D(this,u);var s=F(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l));return s.minValue=0,s.maxValue=1,s.source="value-control",s}return P(u,[{key:"template",value:function(){return`
            <div class="value">
                <div ref="$container" class="value-container">
                    <div ref="$bar" class="drag-bar"></div>
                </div>
            </div>
        `}},{key:"setBackgroundColor",value:function(){this.refs.$container.css("background-color",this.$store.dispatch("/toRGB"))}},{key:"refresh",value:function(){X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"refresh",this).call(this),this.setBackgroundColor()}},{key:"getDefaultValue",value:function(){return this.$store.hsv.v}},{key:"refreshColorUI",value:function(s){var f=this.getCaculatedDist(s);this.setColorUI(f/100*this.maxValue),this.changeColor({type:"hsv",v:f/100*this.maxValue})}}]),u}(Xa),Jl=function(h){j(u,h);function u(l){D(this,u);var s=F(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l));return s.minValue=0,s.maxValue=1,s.source="opacity-control",s}return P(u,[{key:"template",value:function(){return`
        <div class="opacity">
            <div ref="$container" class="opacity-container">
                <div ref="$colorbar" class="color-bar"></div>
                <div ref="$bar" class="drag-bar2"></div>
            </div>
        </div>
        `}},{key:"refresh",value:function(){X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"refresh",this).call(this),this.setOpacityColorBar()}},{key:"setOpacityColorBar",value:function(){var s=Object.assign({},this.$store.rgb);s.a=0;var f=Se.format(s,"rgb");s.a=1;var v=Se.format(s,"rgb");this.setOpacityColorBarBackground(f,v)}},{key:"setOpacityColorBarBackground",value:function(s,f){this.refs.$colorbar.css("background","linear-gradient(to right, "+s+", "+f+")")}},{key:"getDefaultValue",value:function(){return this.$store.alpha}},{key:"refreshColorUI",value:function(s){var f=this.getCaculatedDist(s);this.setColorUI(f/100*this.maxValue),this.changeColor({a:Math.floor(f)/100*this.maxValue})}}]),u}(Xa),cj="macos-control",uj=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"components",value:function(){return{Value:Hx,Opacity:Jl}}},{key:"template",value:function(){return`
        <div class="control">
            <div target="Value" ></div>
            <div target="Opacity" ></div>
            <div ref="$controlPattern" class="empty"></div>
            <div ref="$controlColor" class="color"></div>
        </div>
        `}},{key:"setBackgroundColor",value:function(){this.refs.$controlColor.css("background-color",this.$store.dispatch("/toRGB"))}},{key:"refresh",value:function(){this.setColorUI(),this.setBackgroundColor()}},{key:"setColorUI",value:function(){this.Value.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(s){cj!=s&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),u}(zt),Gx=function(h){j(u,h);function u(l){D(this,u);var s=F(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l));return s.width=214,s.height=214,s.thinkness=0,s.half_thinkness=0,s.source="colorwheel",s}return P(u,[{key:"template",value:function(){return`
        <div class="wheel">
            <canvas class="wheel-canvas" ref="$colorwheel" ></canvas>
            <div class="wheel-canvas" ref="$valuewheel" ></div>
            <div class="drag-pointer" ref="$drag_pointer"></div>
        </div>
        `}},{key:"refresh",value:function(s){this.setColorUI(s)}},{key:"setColorUI",value:function(s){this.renderCanvas(),this.renderValue(),this.setHueColor(null,s)}},{key:"renderValue",value:function(){var s=1-this.$store.hsv.v;this.refs.$valuewheel.css({"background-color":"rgba(0, 0, 0, "+s+")"})}},{key:"renderWheel",value:function(s,f){this.width&&!s&&(s=this.width),this.height&&!f&&(f=this.height);var v=new sn("canvas"),x=v.el.getContext("2d");v.el.width=s,v.el.height=f,v.css({width:s+"px",height:f+"px"});for(var $=x.getImageData(0,0,s,f),S=$.data,A=Math.floor(s/2),N=Math.floor(f/2),R=s>f?N:A,z=A,Z=N,K=0;K<f;K++)for(var W=0;W<s;W++){var re=W-z+1,se=K-Z+1,Ee=re*re+se*se,Le=b(re,se),qe=Se.HSVtoRGB(Le,Math.min(Math.sqrt(Ee)/R,1),1),Ke=(K*s+W)*4;S[Ke]=qe.r,S[Ke+1]=qe.g,S[Ke+2]=qe.b,S[Ke+3]=255}return x.putImageData($,0,0),this.thinkness>0&&(x.globalCompositeOperation="destination-out",x.fillStyle="black",x.beginPath(),x.arc(z,Z,R-this.thinkness,0,Math.PI*2),x.closePath(),x.fill()),v}},{key:"renderCanvas",value:function(){if(!this.$store.createdWheelCanvas){var s=this.refs.$colorwheel,f=s.el.getContext("2d"),v=s.size(),x=ge(v,2),$=x[0],S=x[1];this.width&&!$&&($=this.width),this.height&&!S&&(S=this.height),s.el.width=$,s.el.height=S,s.css({width:$+"px",height:S+"px"});var A=this.renderWheel($,S);f.drawImage(A.el,0,0),this.$store.createdWheelCanvas=!0}}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"getDefaultSaturation",value:function(){return this.$store.hsv.s}},{key:"getCurrentXY",value:function(s,f,v,x,$){return s?ir.posXY(s):y(f,v,x,$)}},{key:"getRectangle",value:function(){var s=this.state.get("$el.width"),f=this.state.get("$el.height"),v=this.state.get("$colorwheel.width")/2,x=this.refs.$el.offset().left,$=x+s/2,S=this.refs.$el.offset().top,A=S+f/2;return{minX:x,minY:S,width:s,height:f,radius:v,centerX:$,centerY:A}}},{key:"setHueColor",value:function(s,f){if(this.state.get("$el.width")){var v=this.getRectangle(),x=v.minX,$=v.minY,S=v.radius,A=v.centerX,N=v.centerY,R=this.getCurrentXY(s,this.getDefaultValue(),this.getDefaultSaturation()*S,A,N),z=R.x,Z=R.y,K=z-A,W=Z-N,re=K*K+W*W,se=b(K,W);if(re>S*S)var Ee=this.getCurrentXY(null,se,S,A,N),z=Ee.x,Z=Ee.y;var Le=Math.min(Math.sqrt(re)/S,1);this.refs.$drag_pointer.css({left:z-x+"px",top:Z-$+"px"}),f||this.changeColor({type:"hsv",h:se,s:Le})}}},{key:"changeColor",value:function(s){this.$store.dispatch("/changeColor",Object.assign({source:this.source},s||{}))}},{key:"@changeColor",value:function(s){this.source!=s&&this.refresh(!0)}},{key:"@initColor",value:function(){this.refresh(!0)}},{key:"mouseup document",value:function(s){this.isDown&&(this.isDown=!1,this.$store.emit("lastUpdateColor"))}},{key:"mousemove document",value:function(s){this.isDown&&this.setHueColor(s)}},{key:"mousedown $drag_pointer",value:function(s){s.preventDefault(),this.isDown=!0}},{key:"mousedown $el",value:function(s){this.isDown=!0,this.setHueColor(s)}},{key:"touchend document",value:function(s){this.isDown&&(this.isDown=!1,this.$store.emit("lastUpdateColor"))}},{key:"touchmove document",value:function(s){this.isDown&&this.setHueColor(s)}},{key:"touchstart $drag_pointer",value:function(s){s.preventDefault(),this.isDown=!0}},{key:"touchstart $el",value:function(s){s.preventDefault(),this.isDown=!0,this.setHueColor(s)}}]),u}(zt),ec="chromedevtool-information",tc=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"template",value:function(){return`
        <div class="information hex">
            <div ref="$informationChange" class="information-change">
                <button ref="$formatChangeButton" type="button" class="format-change-button arrow-button"></button>
            </div>
            <div class="information-item hex">
                <div class="input-field hex">
                    <input ref="$hexCode" class="input" type="text" />
                    <div class="title">HEX</div>
                </div>
            </div>
            <div class="information-item rgb">
                <div class="input-field rgb-r">
                    <input ref="$rgb_r" class="input" type="number" step="1" min="0" max="255" />
                    <div class="title">R</div>
                </div>
                <div class="input-field rgb-g">
                    <input ref="$rgb_g" class="input" type="number" step="1" min="0" max="255" />
                    <div class="title">G</div>
                </div>
                <div class="input-field rgb-b">
                    <input ref="$rgb_b" class="input" type="number" step="1" min="0" max="255" />
                    <div class="title">B</div>
                </div>          
                <div class="input-field rgb-a">
                    <input ref="$rgb_a" class="input" type="number" step="0.01" min="0" max="1" />
                    <div class="title">A</div>
                </div>                                                            
            </div>
            <div class="information-item hsl">
                <div class="input-field hsl-h">
                    <input ref="$hsl_h" class="input" type="number" step="1" min="0" max="360" />
                    <div class="title">H</div>
                </div>
                <div class="input-field hsl-s">
                    <input ref="$hsl_s" class="input" type="number" step="1" min="0" max="100" />
                    <div class="postfix">%</div>
                    <div class="title">S</div>
                </div>
                <div class="input-field hsl-l">
                    <input ref="$hsl_l" class="input" type="number" step="1" min="0" max="100" />
                    <div class="postfix">%</div>                        
                    <div class="title">L</div>
                </div>
                <div class="input-field hsl-a">
                    <input ref="$hsl_a" class="input" type="number" step="0.01" min="0" max="1" />
                    <div class="title">A</div>
                </div>
            </div>
        </div>
        `}},{key:"setCurrentFormat",value:function(s){this.format=s,this.initFormat()}},{key:"initFormat",value:function(){var s=this,f=this.format||"hex";["hex","rgb","hsl"].filter(function(v){return v!==f}).forEach(function(v){s.$el.removeClass(v)}),this.$el.addClass(f)}},{key:"nextFormat",value:function(){var s=this.format||"hex",f="hex";s=="hex"?f="rgb":s=="rgb"?f="hsl":s=="hsl"&&(f="hex"),this.format=f,this.initFormat(),this.$store.dispatch("/changeFormat",this.format),this.$store.emit("lastUpdateColor")}},{key:"goToFormat",value:function(s){this.format=s,(s==="rgb"||s==="hsl")&&this.initFormat(),this.$store.dispatch("/changeFormat",this.format)}},{key:"getFormat",value:function(){return this.format||"hex"}},{key:"checkNumberKey",value:function(s){var f=s.which,v=!1;return(f==37||f==39||f==8||f==46||f==9)&&(v=!0),!(!v&&(f<48||f>57))}},{key:"checkNotNumberKey",value:function(s){return!this.checkNumberKey(s)}},{key:"changeRgbColor",value:function(){this.$store.dispatch("/changeColor",{type:"rgb",r:this.refs.$rgb_r.int(),g:this.refs.$rgb_g.int(),b:this.refs.$rgb_b.int(),a:this.refs.$rgb_a.float(),source:ec}),this.$store.emit("lastUpdateColor")}},{key:"changeHslColor",value:function(){this.$store.dispatch("/changeColor",{type:"hsl",h:this.refs.$hsl_h.int(),s:this.refs.$hsl_s.int(),l:this.refs.$hsl_l.int(),a:this.refs.$hsl_a.float(),source:ec}),this.$store.emit("lastUpdateColor")}},{key:"@changeColor",value:function(s){ec!=s&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}},{key:"input $rgb_r",value:function(s){this.changeRgbColor()}},{key:"input $rgb_g",value:function(s){this.changeRgbColor()}},{key:"input $rgb_b",value:function(s){this.changeRgbColor()}},{key:"input $rgb_a",value:function(s){this.changeRgbColor()}},{key:"input $hsl_h",value:function(s){this.changeHslColor()}},{key:"input $hsl_s",value:function(s){this.changeHslColor()}},{key:"input $hsl_l",value:function(s){this.changeHslColor()}},{key:"input $hsl_a",value:function(s){this.changeHslColor()}},{key:"keyup $hexCode",value:function(s){var f=this.refs.$hexCode.val();f.charAt(0)=="#"&&(f.length==7||f.length===9)&&(this.$store.dispatch("/changeColor",f,ec),this.$store.emit("lastUpdateColor"))}},{key:"click $formatChangeButton",value:function(s){this.nextFormat()}},{key:"click $el .information-item.hex .input-field .title",value:function(s){this.goToFormat("hex")}},{key:"click $el .information-item.rgb .input-field .title",value:function(s){this.goToFormat("hsl")}},{key:"click $el .information-item.hsl .input-field .title",value:function(s){this.goToFormat("rgb")}},{key:"setRGBInput",value:function(){this.refs.$rgb_r.val(this.$store.rgb.r),this.refs.$rgb_g.val(this.$store.rgb.g),this.refs.$rgb_b.val(this.$store.rgb.b),this.refs.$rgb_a.val(this.$store.alpha)}},{key:"setHSLInput",value:function(){this.refs.$hsl_h.val(this.$store.hsl.h),this.refs.$hsl_s.val(this.$store.hsl.s),this.refs.$hsl_l.val(this.$store.hsl.l),this.refs.$hsl_a.val(this.$store.alpha)}},{key:"setHexInput",value:function(){this.refs.$hexCode.val(this.$store.dispatch("/toHEX"))}},{key:"refresh",value:function(){this.setCurrentFormat(this.$store.format),this.setRGBInput(),this.setHSLInput(),this.setHexInput()}}]),u}(zt),dj="data-colorsets-index",nc=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"template",value:function(){return`
            <div class="color-chooser">
                <div class="color-chooser-container">
                    <div class="colorsets-item colorsets-item-header">
                        <h1 class="title">Color Palettes</h1>
                        <span ref="$toggleButton" class="items">&times;</span>
                    </div>
                    <div ref="$colorsetsList" class="colorsets-list"></div>
                </div>
            </div>
        `}},{key:"refresh",value:function(){this.load()}},{key:"@changeCurrentColorSets",value:function(){this.refresh()}},{key:"@toggleColorChooser",value:function(){this.toggle()}},{key:"load $colorsetsList",value:function(){var s=this.$store.dispatch("/getColorSetsList");return`
            <div>
                `+s.map(function(f,v){return`
                        <div class="colorsets-item" data-colorsets-index="`+v+`" >
                            <h1 class="title">`+f.name+`</h1>
                            <div class="items">
                                <div>
                                    `+f.colors.filter(function(x,$){return $<5}).map(function(x){return x=x||"rgba(255, 255, 255, 1)",'<div class="color-item" title="'+x+`">
                                                <div class="color-view" style="background-color: `+x+`"></div>
                                            </div>`}).join("")+`
                                </div>
                            </div>
                        </div>`}).join("")+`
            </div>
        `}},{key:"show",value:function(){this.$el.addClass("open")}},{key:"hide",value:function(){this.$el.removeClass("open")}},{key:"toggle",value:function(){this.$el.toggleClass("open")}},{key:"click $toggleButton",value:function(s){this.toggle()}},{key:"click $colorsetsList .colorsets-item",value:function(s){var f=s.$delegateTarget;if(f){var v=parseInt(f.attr(dj));this.$store.dispatch("/setCurrentColorSets",v),this.hide()}}},{key:"destroy",value:function(){X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"destroy",this).call(this),this.hide()}}]),u}(zt),rc=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"template",value:function(){return`
            <div class="colorsets">
                <div class="menu" title="Open Color Palettes">
                    <button ref="$colorSetsChooseButton" type="button" class="color-sets-choose-btn arrow-button"></button>
                </div>
                <div ref="$colorSetsColorList" class="color-list"></div>
            </div>
        `}},{key:"load $colorSetsColorList",value:function(){var s=this.$store.dispatch("/getCurrentColorSets"),f=this.$store.dispatch("/getCurrentColors");return`
            <div>
                <h6>`+s.name+`</h6>
                <div class="current-color-sets">
                `+f.map(function(v,x){return'<div class="color-item" title="'+v+'" data-index="'+x+'" data-color="'+v+`">
                        <div class="empty"></div>
                        <div class="color-view" style="background-color: `+v+`"></div>
                    </div>`}).join("")+`   
                `+(s.edit?'<div class="add-color-item">+</div>':"")+`         
                </div>
            </div>
            
        `}},{key:"refresh",value:function(){this.load()}},{key:"addColor",value:function(s){this.$store.dispatch("/addCurrentColor",s)}},{key:"@changeCurrentColorSets",value:function(){this.refresh()}},{key:"click $colorSetsChooseButton",value:function(s){this.$store.emit("toggleColorChooser")}},{key:"contextmenu $colorSetsColorList",value:function(s){s.preventDefault();var f=this.$store.dispatch("/getCurrentColorSets");if(f.edit){var v=new sn(s.target),x=v.closest("color-item");if(x){var $=parseInt(x.attr("data-index"));this.$store.emit("showContextMenu",s,$)}else this.$store.emit("showContextMenu",s)}}},{key:"click $colorSetsColorList .add-color-item",value:function(s){this.addColor(this.$store.dispatch("/toColor"))}},{key:"click $colorSetsColorList .color-item",value:function(s){this.$store.dispatch("/changeColor",s.$delegateTarget.attr("data-color")),this.$store.emit("lastUpdateColor")}}]),u}(zt),ic=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"template",value:function(){return`
            <ul class="colorsets-contextmenu">
                <li class="menu-item small-hide" data-type="remove-color">Remove color</li>
                <li class="menu-item small-hide" data-type="remove-all-to-the-right">Remove all to the right</li>
                <li class="menu-item" data-type="clear-palette">Clear palette</li>
            </ul>
        `}},{key:"show",value:function(s,f){var v=ir.pos(s);this.$el.css({top:v.clientY-10+"px",left:v.clientX+"px"}),this.$el.addClass("show"),this.selectedColorIndex=f,typeof this.selectedColorIndex>"u"?this.$el.addClass("small"):this.$el.removeClass("small")}},{key:"hide",value:function(){this.$el.removeClass("show")}},{key:"runCommand",value:function(s){switch(s){case"remove-color":this.$store.dispatch("/removeCurrentColor",this.selectedColorIndex);break;case"remove-all-to-the-right":this.$store.dispatch("/removeCurrentColorToTheRight",this.selectedColorIndex);break;case"clear-palette":this.$store.dispatch("/clearPalette");break}}},{key:"@showContextMenu",value:function(s,f){this.show(s,f)}},{key:"click $el .menu-item",value:function(s){s.preventDefault(),this.runCommand(s.$delegateTarget.attr("data-type")),this.hide()}}]),u}(zt),Vx=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"template",value:function(){return`
            <div class='colorpicker-body'>
                <div target="colorwheel"></div>
                <div target="control"></div>
                <div target="information"></div>
                <div target="currentColorSets"></div>
                <div target="colorSetsChooser"></div>
                <div target="contextMenu"></div>                
            </div>
        `}},{key:"components",value:function(){return{colorwheel:Gx,control:uj,information:tc,currentColorSets:rc,colorSetsChooser:nc,contextMenu:ic}}}]),u}(ri),Yx=function(h){j(u,h);function u(l){D(this,u);var s=F(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l));return s.minValue=0,s.maxValue=360,s.source="hue-control",s}return P(u,[{key:"template",value:function(){return`
            <div class="hue"> 
                <div ref="$container" class="hue-container">
                    <div ref="$bar" class="drag-bar"></div>
                </div>
            </div>
        `}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"refreshColorUI",value:function(s){var f=this.getCaculatedDist(s),v=this.setColorUI(f/100*this.maxValue);v!==!0&&this.changeColor({h:f/100*this.maxValue,type:"hsv"})}}]),u}(Xa),fj=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"initialize",value:function(){X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"initialize",this).call(this),this.minValue=0,this.maxValue=360,this.hueScaleDist=.05}},{key:"template",value:function(){return`
            <div class="hue-scale">
                <div ref="$container" class="hue-scale-container">
                    <div ref="$bar" class="drag-bar"></div>
                </div>
            </div>
        `}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"getCalculatedDist",value:function(s){var f=s?this.getMousePosition(s):this.getCurrent(this.getDefaultValue()/this.maxValue),v=this.getDist(f);return v}},{key:"refreshColorUI",value:function(s){var f=this.getCalculatedDist(s),v=this.setColorUI(f/100);v!==!0&&this.changeColor({h:(this.minValue+this.fullDist*(f/100))*360,type:"hsv"})}},{key:"setColorUI",value:function(s){var f=void 0;if(s){if(f=this.minValue+s*this.fullDist,this.lastP===f)return!0;this.lastP=f}else{if(f=this.getDefaultValue()/360,this.lastP===f)return!0;this.lastP=f;var v=f+.05,x=f-.05;if(v>1)v=1,x=1-this.hueScaleDist*2;else if(x<0){var $=Math.abs(x);x=0,v=v+$}var S=Sf.getHueScale(f,x,v);this.list=S;var A=S[0].start,N=S[S.length-1].start;this.minValue=A,this.maxValue=N;var R=this.maxValue-this.minValue;this.fullDist=R;var z=S.map(function(Z){return{color:Z.rgb,percent:(Z.start-A)/R*100,unit:"%"}});this.refs.$container.css("background-image","linear-gradient(to right, "+z.map(function(Z){return Z.color+" "+Z.percent+Z.unit}).join(",")+")")}f<=this.minValue?(f=this.minValue,this.refs.$bar.addClass("first").removeClass("last")):f>=this.maxValue?(f=this.maxValue,this.refs.$bar.addClass("last").removeClass("first")):this.refs.$bar.removeClass("last").removeClass("first"),this.setMousePosition(this.getMaxDist()*((f-this.minValue)/this.fullDist))}}]),u}(Xa),Xx="chromedevtool-control",hj=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"components",value:function(){return{Hue:Yx,Opacity:Jl,HueScale:fj}}},{key:"template",value:function(){return`
        <div class="control">
            <div target="Hue" ></div>
            <div target="HueScale" ></div>
            <div target="Opacity" ></div>
            <div ref="$controlPattern" class="empty"></div>
            <div ref="$controlColor" class="color"></div>
            <div ref="$controlPattern2" class="empty2"></div>
            <div ref="$controlColor2" class="color2"></div>            
        </div>
        `}},{key:"setBackgroundColor",value:function(){this.refs.$controlColor.css("background-color",this.$store.dispatch("/toRGB"))}},{key:"setLastUpdateColor",value:function(){this.refs.$controlColor2.css("background-color",this.$store.dispatch("/toRGB"))}},{key:"refresh",value:function(){this.setColorUI(),this.setBackgroundColor()}},{key:"setColorUI",value:function(){this.Hue.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(s){Xx!=s&&this.refresh()}},{key:"@lastUpdateColor",value:function(s){Xx!=s&&this.setLastUpdateColor()}},{key:"@initColor",value:function(){this.refresh()}}]),u}(zt),Kx="chromedevtool-palette",Mo=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"template",value:function(){return`
        <div class="color">
            <div ref="$saturation" class="saturation">
                <div ref="$value" class="value">
                    <div ref="$drag_pointer" class="drag-pointer" data-axis-value="all">
                        <div ref="$left_saturation" class="left-saturation" data-axis-value="saturation"></div>
                        <div ref="$right_saturation" class="right-saturation" data-axis-value="saturation"></div>
                        <div ref="$top_value" class="top-value" data-axis-value="value"></div>
                        <div ref="$bottom_value" class="bottom-value" data-axis-value="value"></div>
                    </div>
                </div>
            </div>        
        </div>        
        `}},{key:"setBackgroundColor",value:function(s){this.$el.css("background-color",s)}},{key:"refresh",value:function(){this.cacheSize(),this.setColorUI()}},{key:"calculateSV",value:function(){var s=this.drag_pointer_pos||{x:0,y:0},f=this.state.get("$el.width"),v=this.state.get("$el.height"),x=s.x/f,$=(v-s.y)/v;this.$store.dispatch("/changeColor",{type:"hsv",s:x,v:$,source:Kx})}},{key:"setColorUI",value:function(){var s=this.w*this.$store.hsv.s,f=this.h*(1-this.$store.hsv.v);this.refs.$drag_pointer.css({left:s+"px",top:f+"px"}),this.drag_pointer_pos={x:s,y:f},this.setBackgroundColor(this.$store.dispatch("/getHueColor"))}},{key:"setSubColor",value:function(s){var f=s.pageX,v=s.pageY,x=f-this.x,$=v-this.y,S=this.$el.contentWidth(),A=this.$el.contentHeight(),N=this.refs.$drag_pointer.cssFloat("left"),R=this.refs.$drag_pointer.cssFloat("top");this.axis==="saturation"?N+=x:this.axis==="value"&&(R+=$),N<0?N=0:N>S&&(N=S),R<0?R=0:R>A&&(R=A),this.refs.$drag_pointer.px("left",N),this.refs.$drag_pointer.px("top",R),this.drag_pointer_pos={x:N,y:R},this.x=f,this.y=v,this.calculateSV()}},{key:"setMainColor",value:function(s){var f=this.$el.offset(),v=this.w,x=this.h,$=ir.pos(s).pageX-f.left,S=ir.pos(s).pageY-f.top;$<0?$=0:$>v&&($=v),S<0?S=0:S>x&&(S=x),this.refs.$drag_pointer.css({left:$+"px",top:S+"px"}),this.drag_pointer_pos={x:$,y:S},this.calculateSV()}},{key:"@changeColor",value:function(s){Kx!=s&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}},{key:"mouseup document",value:function(s){this.isDown&&(this.isDown=!1,this.$store.emit("lastUpdateColor"))}},{key:"mousemove document",value:function(s){this.isDown&&(this.cacheSize(),this.axis==="saturation"||this.axis==="value"?this.setSubColor(s):this.setMainColor(s))}},{key:"mousedown",value:function(s){this.isDown=!0,this.cacheSize(),this.axis=new sn(s.target).attr("data-axis-value"),this.x=s.pageX,this.y=s.pageY,this.axis==="saturation"||this.axis==="value"?this.setSubColor(s):this.setMainColor(s)}},{key:"touchend document",value:function(s){this.isDown&&(this.isDown=!1,this.$store.emit("lastUpdateColor"))}},{key:"touchmove document",value:function(s){this.isDown&&this.setMainColor(s)}},{key:"touchstart",value:function(s){s.preventDefault(),this.isDown=!0,this.cacheSize(),this.setMainColor(s)}},{key:"cacheSize",value:function(){this.w=this.state.get("$el.contentWidth"),this.h=this.state.get("$el.contentHeight")}}]),u}(zt),Df=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"template",value:function(){return`
            <div class='colorpicker-body'>
                <div target="palette"></div> 
                <div target="control"></div>
                <div target="information"></div>
                <div target="currentColorSets"></div>
                <div target="colorSetsChooser"></div>
                <div target="contextMenu"></div>
            </div>
        `}},{key:"components",value:function(){return{palette:Mo,control:hj,information:tc,currentColorSets:rc,colorSetsChooser:nc,contextMenu:ic}}}]),u}(ri),pj="mini-control",mj=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"components",value:function(){return{Hue:Yx,Opacity:Jl}}},{key:"template",value:function(){return`
        <div class="control">
            <div target="Hue" ></div>
            <div target="Opacity" ></div>
        </div>
        `}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(){this.Hue.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(s){pj!=s&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),u}(zt),Wx=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"template",value:function(){return`
            <div class='colorpicker-body'>
                <div target="palette"></div>
                <div target="control"></div>
            </div>
        `}},{key:"components",value:function(){return{palette:Mo,control:mj}}}]),u}(ri),Zx=function(h){j(u,h);function u(l){D(this,u);var s=F(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l));return s.source="vertical-slider",s}return P(u,[{key:"getMaxDist",value:function(){return this.state.get("$container.height")}},{key:"setMousePosition",value:function(s){this.refs.$bar.css({top:s+"px"})}},{key:"getMousePosition",value:function(s){return ir.pos(s).pageY}},{key:"getMinPosition",value:function(){return this.refs.$container.offset().top}},{key:"getCaculatedDist",value:function(s){var f=s?this.getMousePosition(s):this.getCurrent(this.getDefaultValue()/this.maxValue),v=100-this.getDist(f);return v}},{key:"setColorUI",value:function(s){s=s||this.getDefaultValue(),s<=this.minValue?this.refs.$bar.addClass("first").removeClass("last"):s>=this.maxValue?this.refs.$bar.addClass("last").removeClass("first"):this.refs.$bar.removeClass("last").removeClass("first");var f=1-(s||0)/this.maxValue;this.setMousePosition(this.getMaxDist()*f)}}]),u}(Xa),Rf=function(h){j(u,h);function u(l){D(this,u);var s=F(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l));return s.minValue=0,s.maxValue=360,s.source="vertical-hue-control",s}return P(u,[{key:"template",value:function(){return`
            <div class="hue">
                <div ref="$container" class="hue-container">
                    <div ref="$bar" class="drag-bar"></div>
                </div>
            </div>
        `}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"refreshColorUI",value:function(s){var f=this.getCaculatedDist(s);this.setColorUI(f/100*this.maxValue),this.changeColor({h:f/100*this.maxValue,type:"hsv"})}}]),u}(Zx),Lf=function(h){j(u,h);function u(l){D(this,u);var s=F(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l));return s.source="vertical-opacity-control",s}return P(u,[{key:"template",value:function(){return`
        <div class="opacity">
            <div ref="$container" class="opacity-container">
                <div ref="$colorbar" class="color-bar"></div>
                <div ref="$bar" class="drag-bar2"></div>
            </div>
        </div>
        `}},{key:"refresh",value:function(){X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"refresh",this).call(this),this.setOpacityColorBar()}},{key:"setOpacityColorBar",value:function(){var s=Object.assign({},this.$store.rgb);s.a=0;var f=Se.format(s,"rgb");s.a=1;var v=Se.format(s,"rgb");this.refs.$colorbar.css("background","linear-gradient(to top, "+f+", "+v+")")}},{key:"getDefaultValue",value:function(){return this.$store.alpha}},{key:"refreshColorUI",value:function(s){var f=this.getCaculatedDist(s);this.setColorUI(f/100*this.maxValue),this.changeColor({a:Math.floor(f)/100*this.maxValue})}}]),u}(Zx),gj="mini-control",vj=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"components",value:function(){return{Hue:Rf,Opacity:Lf}}},{key:"template",value:function(){return'<div class="control"><div target="Hue" ></div><div target="Opacity" ></div></div>'}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(){this.Hue.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(s){gj!=s&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),u}(zt),Qx=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"template",value:function(){return`
            <div class='colorpicker-body'>
                <div target="palette"></div><div target="control"></div>
            </div>
        `}},{key:"components",value:function(){return{palette:Mo,control:vj}}}]),u}(ri),yj="macos-control",bj=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"components",value:function(){return{Value:Hx,Opacity:Jl}}},{key:"template",value:function(){return`
        <div class="control">
            <div target="Value" ></div>
            <div target="Opacity" ></div>
            <div ref="$controlPattern" class="empty"></div>
            <div ref="$controlColor" class="color"></div>
        </div>
        `}},{key:"setBackgroundColor",value:function(){this.refs.$controlColor.css("background-color",this.$store.dispatch("/toRGB"))}},{key:"refresh",value:function(){this.setColorUI(),this.setBackgroundColor()}},{key:"setColorUI",value:function(){this.Value.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(s){yj!=s&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),u}(zt),xj=function(h){j(u,h);function u(l){D(this,u);var s=F(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,l));return s.width=214,s.height=214,s.thinkness=16,s.half_thinkness=s.thinkness/2,s.source="colorring",s}return P(u,[{key:"template",value:function(){return`
        <div class="wheel" data-type="ring">
            <canvas class="wheel-canvas" ref="$colorwheel" ></canvas>
            <div class="drag-pointer" ref="$drag_pointer"></div>
        </div>
        `}},{key:"setColorUI",value:function(s){this.renderCanvas(),this.setHueColor(null,s)}},{key:"getDefaultValue",value:function(){return this.$store.hsv.h}},{key:"setHueColor",value:function(s,f){if(this.state.get("$el.width")){var v=this.getRectangle(),x=v.minX,$=v.minY,S=v.radius,A=v.centerX,N=v.centerY,R=this.getCurrentXY(s,this.getDefaultValue(),S,A,N),z=R.x,Z=R.y,K=z-A,W=Z-N,re=b(K,W),se=this.getCurrentXY(null,re,S-this.half_thinkness,A,N),z=se.x,Z=se.y;this.refs.$drag_pointer.css({left:z-x+"px",top:Z-$+"px"}),f||this.changeColor({type:"hsv",h:re})}}}]),u}(Gx),qx=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"template",value:function(){return`
            <div class='colorpicker-body'>
                <div target="colorring"></div>
                <div target="palette"></div> 
                <div target="control"></div>
                <div target="information"></div>
                <div target="currentColorSets"></div>
                <div target="colorSetsChooser"></div>
                <div target="contextMenu"></div>
            </div>
        `}},{key:"components",value:function(){return{colorring:xj,palette:Mo,control:bj,information:tc,currentColorSets:rc,colorSetsChooser:nc,contextMenu:ic}}}]),u}(ri),wj=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"components",value:function(){return{Hue:Rf,Opacity:Lf}}},{key:"template",value:function(){return`
        <div class="control">
            <div target="Hue" ></div>
            <div target="Opacity" ></div>
        </div>
        `}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(){this.Hue.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(){this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),u}(zt),Cj=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"template",value:function(){return`
            <div class='colorpicker-body'>
                <div target="palette"></div> 
                <div target="control"></div>
                <div target="information"></div>
                <div target="currentColorSets"></div>
                <div target="colorSetsChooser"></div>
                <div target="contextMenu"></div>
            </div>
        `}},{key:"components",value:function(){return{palette:Mo,control:wj,information:tc,currentColorSets:rc,colorSetsChooser:nc,contextMenu:ic}}}]),u}(ri),kj="mini-control",$j=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"components",value:function(){return{Hue:Rf,Opacity:Lf}}},{key:"template",value:function(){return`
            <div class="control">
                <div target="Opacity" ></div>            
                <div target="Hue" ></div>
            </div>
        `}},{key:"refresh",value:function(){this.setColorUI()}},{key:"setColorUI",value:function(){this.Hue.setColorUI(),this.Opacity.setColorUI()}},{key:"@changeColor",value:function(s){kj!=s&&this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),u}(zt),Jx=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"template",value:function(){return`
            <div class='colorpicker-body'>
                <div class='color-view'>
                    <div class='color-view-container'  ref="$colorview"></div>
                </div>
                <div class='color-tool'>
                    <div target="palette"></div>
                    <div target="control"></div>
                </div>
            </div>
        `}},{key:"components",value:function(){return{palette:Mo,control:$j}}},{key:"initColorWithoutChangeEvent",value:function(s){this.$store.dispatch("/initColor",s),this.refresh()}},{key:"setBackgroundColor",value:function(){var s=this.$store.dispatch("/toColor"),f=this.$store.rgb,v=Se.brightness(f.r,f.g,f.b);this.refs.$colorview.css({"background-color":s,color:v>127?"black":"white"}),this.refs.$colorview.html(s)}},{key:"click $colorview",value:function(s){this.nextFormat()}},{key:"nextFormat",value:function(){var s=this.$store.format||"hex",f="hex";s=="hex"?f="rgb":s=="rgb"?f="hsl":s=="hsl"&&(f="hex"),this.$store.dispatch("/changeFormat",f),this.$store.emit("lastUpdateColor"),this.refresh()}},{key:"refresh",value:function(){this.setBackgroundColor()}},{key:"@changeColor",value:function(){this.refresh()}},{key:"@initColor",value:function(){this.refresh()}}]),u}(ri),e2={create:function(u){switch(u.type){case"macos":return new Vx(u);case"xd":return new Cj(u);case"ring":return new qx(u);case"mini":return new Wx(u);case"vscode":return new Jx(u);case"mini-vertical":return new Qx(u);case"sketch":case"palette":default:return new Df(u)}},ColorPicker:Df,ChromeDevToolColorPicker:Df,MacOSColorPicker:Vx,RingColorPicker:qx,MiniColorPicker:Wx,VSCodePicker:Jx,MiniVerticalColorPicker:Qx},Tj=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"afterRender",value:function(){var s=this,f=this.opt,v=f.opt.colorpickerOptions||{type:"sketch"};this.colorPicker=e2.create(H({position:"inline",container:this.refs.$el.el,onChange:function($){s.changeColor($)},onLastUpdate:function($){s.changeColor($,!0)}},v))}},{key:"template",value:function(){return'<div ref="$color"></div>'}},{key:"changeColor",value:function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.$store.emit("changeEmbedColorPicker",s,f)}},{key:"setValue",value:function(s){this.colorPicker.initColorWithoutChangeEvent(s)}}]),u}(zt);function t2(h){var u=[];return h.layers.length&&h.layers.forEach(function(l){u.push.apply(u,ne(t2(l)))}),u.push(h),u}var n2=function(){function h(){var u=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return D(this,h),l instanceof h&&(l=l.toJSON()),this.json=this.convert(H({},this.getDefaultObject(),l)),this.ref=new Proxy(this,{get:function(f,v){var x=f[v];return Ef(x)?function(){for(var $=arguments.length,S=Array($),A=0;A<$;A++)S[A]=arguments[A];return x.apply(f,S)}:x||f.json[v]},set:function(f,v,x){if(x&&x.realVal&&Ef(x.realVal)&&(x=x.realVal()),u.checkField(v,x))f.json[v]=x;else throw new Error(x+" is invalid as "+v+" property value.");return!0}}),this.ref}return P(h,[{key:"getDefaultTitle",value:function(){return"Item"}},{key:"isAttribute",value:function(){return!1}},{key:"is",value:function(){if(!this.json)return!1;for(var l=arguments.length,s=Array(l),f=0;f<l;f++)s[f]=arguments[f];return s.indexOf(this.json.itemType)>-1}},{key:"convert",value:function(l){return l}},{key:"checkField",value:function(l,s){return!0}},{key:"toCloneObject",value:function(){var l={itemType:this.json.itemType,type:this.json.type,selected:this.json.selected};return l}},{key:"clone",value:function(){var l=this.constructor,s=new l(this.toCloneObject());return s.parent=this.json.parent,s}},{key:"reset",value:function(l){l instanceof h&&(l=l.toJSON()),this.json=this.convert(H({},this.json,l))}},{key:"getDefaultObject",value:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return H({selected:!1,type:"",itemType:""},l)}},{key:"add",value:function(l){return this.json.layers.push(l),l.parent=this.ref,l}},{key:"toggle",value:function(l,s){Ni(s)?this.json[l]=!this.json[l]:this.json[l]=!!s}},{key:"toJSON",value:function(){return this.json}},{key:"resize",value:function(){}},{key:"copy",value:function(){this.json.parent.copyItem(this.ref)}},{key:"copyItem",value:function(l){var s=l.clone();s.width.add(10),s.width.add(10);for(var f=this.json.layers,v=-1,x=0,$=f.length;x<$;x++)if(f[x]===l){v=x;break}v>-1&&this.json.layers.splice(v,0,s)}},{key:"remove",value:function(){this.json.parent.removeItem(this.ref)}},{key:"removeItem",value:function(l){for(var s=this.json.layers,f=-1,v=0,x=s.length;v<x;v++)if(s[v]===l){f=v;break}f>-1&&this.json.layers.splice(f,1)}},{key:"title",get:function(){return this.json.name||this.getDefaultTitle()}},{key:"id",get:function(){return this.json.id}},{key:"layers",get:function(){return this.json.layers}},{key:"parent",get:function(){return this.json.parent}},{key:"html",get:function(){var l=this.json,s=l.elementType,f=l.id,v=l.layers,x=l.itemType,$=s||"div";return`
    <`+$+" class='element-item "+x+`' data-id="`+f+`">
      `+v.map(function(S){return S.html}).join("")+`
    </`+$+`>
    `}},{key:"allLayers",get:function(){return[].concat(ne(t2(this.ref)))}}]),h}(),Ej=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"getDefaultObject",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"getDefaultObject",this).call(this,H({itemType:"image-resource",type:"image"},s))}},{key:"isGradient",value:function(){return!1}},{key:"isLinear",value:function(){return!1}},{key:"isRadial",value:function(){return!1}},{key:"isConic",value:function(){return!1}},{key:"isStatic",value:function(){return!1}},{key:"isImage",value:function(){return!1}},{key:"hasAngle",value:function(){return!1}},{key:"isUrl",value:function(){return!1}},{key:"isFile",value:function(){return!1}},{key:"isAttribute",value:function(){return!0}},{key:"toString",value:function(){return"none"}}]),u}(n2),r2={center:50,top:0,left:0,right:100,bottom:100},Yt=function h(){D(this,h)};Yt.CENTER="center",Yt.TOP="top",Yt.RIGHT="right",Yt.LEFT="left",Yt.BOTTOM="bottom";var Ij=/([\d.]+)(px|pt|fr|r?em|deg|vh|vw|m?s|%|g?rad|turn)/gi,de=function(){function h(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";D(this,h),this.value=u,this.unit=l}return P(h,[{key:Symbol.toPrimitive,value:function(l){return l=="number"?this.value:this.toString()}},{key:"toString",value:function(){switch(this.unit){case"string":case"number":return this.value+"";case"var":return"var(--"+this.value+")";case"calc":return"calc("+this.value+")";default:return this.value+this.unit}}},{key:"isUnitType",value:function(l){return this.unit===l}},{key:"isCalc",value:function(){return this.isUnitType("calc")}},{key:"isFr",value:function(){return this.isUnitType("fr")}},{key:"isPercent",value:function(){return this.isUnitType("%")}},{key:"isPx",value:function(){return this.isUnitType("px")}},{key:"isEm",value:function(){return this.isUnitType("em")}},{key:"isDeg",value:function(){return this.isUnitType("deg")}},{key:"isSecond",value:function(){return this.isUnitType("s")}},{key:"isMs",value:function(){return this.isUnitType("ms")}},{key:"isNumber",value:function(){return this.isUnitType("number")}},{key:"isString",value:function(){return this.isUnitType("")}},{key:"isVar",value:function(){return this.isUnitType("--")}},{key:"set",value:function(l){return this.value=l,this}},{key:"add",value:function(l){return this.value+=+l,this}},{key:"sub",value:function(l){return this.add(-1*l)}},{key:"mul",value:function(l){return this.value*=+l,this}},{key:"div",value:function(l){return this.value/=+l,this}},{key:"mod",value:function(l){return this.value%=+l,this}},{key:"clone",value:function(){return new h(this.value,this.unit)}},{key:"getUnitName",value:function(){return this.unit==="%"?"percent":this.unit}},{key:"toJSON",value:function(){return{value:this.value,unit:this.unit}}},{key:"rate",value:function(l){return l/this.value}},{key:"stringToPercent",value:function(){return Dt(r2[this.value])?h.percent(r2[this.value]):h.percent(0)}},{key:"stringToEm",value:function(l){return this.stringToPercent().toEm(l)}},{key:"stringToPx",value:function(l){return this.stringToPercent().toPx(l)}},{key:"toPercent",value:function(l){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16;if(this.isPercent())return this;if(this.isPx())return h.percent(this.value*100/l);if(this.isEm())return h.percent(this.value*s*100/l);if(this.isString())return this.stringToPercent(l);if(this.isDeg())return h.percent(this.value/360*100)}},{key:"toEm",value:function(l){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:16;if(this.isPercent())return h.em(this.value/100*l/s);if(this.isPx())return h.em(this.value/s);if(this.isEm())return this;if(this.isString())return this.stringToEm(l)}},{key:"toPx",value:function(l){if(this.isPercent())return h.px(this.value/100*l);if(this.isPx())return this;if(this.isEm())return h.px(this.value/100*l/16);if(this.isString())return this.stringToPx(l)}},{key:"toSecond",value:function(){if(this.isSecond())return this;if(this.isMs())return h.second(this.value/1e3)}},{key:"toMs",value:function(){if(this.isSecond())return h.ms(this.value*1e3);if(this.isMs())return this}},{key:"to",value:function(l,s){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:16;if(l==="px")return this.toPx(s,f);if(l==="%"||l==="percent")return this.toPercent(s,f);if(l==="em")return this.toEm(s,f)}},{key:"toUnit",value:function(l){return new h(this.value,l)}},{key:"calculate",value:function(l,s){var f=this[l];return f?f.call(this,s):this}},{key:"includes",value:function(){for(var l=arguments.length,s=Array(l),f=0;f<l;f++)s[f]=arguments[f];return s.includes(this.value)}},{key:"round",value:function(l){return new h(c(this.value,l),this.unit)}},{key:"equals",value:function(l){return this.value===l.value&&this.unit===l.unit}}],[{key:"min",value:function(){for(var l=arguments.length,s=Array(l),f=0;f<l;f++)s[f]=arguments[f];for(var v=s.shift(),x=0,$=s.length;x<$;x++)v.value>s[x].value&&(v=s[x]);return v}},{key:"max",value:function(){for(var l=arguments.length,s=Array(l),f=0;f<l;f++)s[f]=arguments[f];for(var v=s.shift(),x=0,$=s.length;x<$;x++)v.value<s[x].value&&(v=s[x]);return v}},{key:"string",value:function(l){return new h(l+"","")}},{key:"number",value:function(l){return new h(+l,"number")}},{key:"px",value:function(l){return new h(+l,"px")}},{key:"em",value:function(l){return new h(+l,"em")}},{key:"percent",value:function(l){return new h(+l,"%")}},{key:"deg",value:function(l){return new h(+l,"deg")}},{key:"fr",value:function(l){return new h(+l,"fr")}},{key:"second",value:function(l){return new h(+l,"s")}},{key:"ms",value:function(l){return new h(+l,"ms")}},{key:"var",value:function(l){return new h(l+"","--")}},{key:"calc",value:function(l){return new h(l,"calc")}},{key:"parse",value:function(l){if(Wl(l)){if(l.indexOf("calc(")>-1)return new h(l.split("calc(")[1].split(")")[0],"calc");var s=l.replace(Ij,"$1 $2").split(" ").filter(Boolean),f=+s[0]==s[0];return f?new h(+s[0],s[1]):new h(s[0])}if(l instanceof h)return l;if(l.unit){if(l.unit=="%"||l.unit=="percent"){var v=0;return Dt(l.percent)?v=l.percent:Dt(l.value)&&(v=l.value),h.percent(v)}else if(l.unit=="px"){var v=0;return Dt(l.px)?v=l.px:Dt(l.value)&&(v=l.value),h.px(v)}else if(l.unit=="em"){var v=0;return Dt(l.em)?v=l.em:Dt(l.value)&&(v=l.value),h.em(v)}else if(l.unit=="deg"){var v=0;return Dt(l.deg)?v=l.deg:Dt(l.value)&&(v=l.value),h.deg(v)}else if(l.unit=="s"){var v=0;return Dt(l.second)?v=l.second:Dt(l.value)&&(v=l.value),h.second(v)}else if(l.unit=="ms"){var v=0;return Dt(l.ms)?v=l.ms:Dt(l.value)&&(v=l.value),h.ms(v)}else if(l.unit=="number"){var v=0;return Dt(l.value)&&(v=l.value),h.number(v)}else if(l.unit=="--"){var v=0;return Dt(l.value)&&(v=l.value),h.var(v)}else if(l.unit===""||l.unit==="string"){var v="";return Dt(l.str)?v=l.str:Dt(l.value)&&(v=l.value),h.string(v)}}return h.string(l)}}]),h}();de.auto=de.string("auto");var or=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"getDefaultObject",value:function(){return X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"getDefaultObject",this).call(this,{cut:!1,percent:0,unit:"%",px:0,em:0,color:"rgba(0, 0, 0, 0)",prevColorStep:null})}},{key:"toCloneObject",value:function(){return H({},X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"toCloneObject",this).call(this),{cut:this.json.cut,percent:this.json.percent,unit:this.json.unit,px:this.json.px,em:this.json.em,color:this.json.color})}},{key:"on",value:function(){this.json.cut=!0}},{key:"off",value:function(){this.json.cut=!1}},{key:"toggle",value:function(){this.json.cut=!this.json.cut}},{key:"getUnit",value:function(){return this.json.unit=="%"?"percent":this.json.unit}},{key:"add",value:function(s){var f=this.getUnit();return this.json[f]+=+s,this}},{key:"sub",value:function(s){var f=this.getUnit();return this.json[f]-=+s,this}},{key:"mul",value:function(s){var f=this.getUnit();return this.json[f]*=+s,this}},{key:"div",value:function(s){var f=this.getUnit();return this.json[f]/=+s,this}},{key:"mod",value:function(s){var f=this.getUnit();return this.json[f]%=+s,this}},{key:"toLength",value:function(s){return de.parse(this.json).round(1e3)}},{key:"getPrevLength",value:function(){return this.json.prevColorStep?this.json.prevColorStep.toLength():""}},{key:"toString",value:function(){var s=this.json.cut?this.getPrevLength():"";return this.json.color+" "+s+" "+this.toLength()}},{key:"reset",value:function(s){X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"reset",this).call(this,s),this.parent()&&this.parent().sortColorStep()}},{key:"isPx",get:function(){return this.json.unit=="px"}},{key:"isPercent",get:function(){return this.json.unit=="%"||this.json.unit==="percent"}},{key:"isEm",get:function(){return this.json.unit=="em"}}],[{key:"parse",value:function(s){var f=[],v=He(s),x=v.str.split(" ").filter(function(R){return R.trim()}),$=+x[0].replace("@",""),S=v.matches[$].color;if(x.length===1)f.push(new u({color:S,unit:"%",percent:0}));else if(x.length===2){var A=de.parse(x[1]),N={unit:A.unit};A.isPercent()?N.percent=A.value:A.isPx()?N.px=A.value:A.isEm()&&(N.em=A.value),f.push(new u(H({color:S},N)))}else x.length===3&&[1,2].forEach(function(R){var z=de.parse(x[R]),Z={unit:z.unit};z.isPercent()?Z.percent=z.value:z.isPx()?Z.px=z.value:z.isEm()&&(Z.em=z.value),f.push(new u(H({color:S},Z)))});return f}}]),u}(n2),i2={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},oc=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"isGradient",value:function(){return!0}},{key:"toString",value:function(){return"none"}},{key:"getDefaultObject",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"getDefaultObject",this).call(this,H({type:"gradient",colorsteps:[]},s))}},{key:"toCloneObject",value:function(){return H({},X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"toCloneObject",this).call(this),{colorsteps:this.json.colorsteps.map(function(s){return s.clone()})})}},{key:"convert",value:function(s){return s.colorsteps=s.colorsteps.map(function(f){return new or(f)}),s}},{key:"calculateAngle",value:function(){var s=this.json.angle;return Ni(i2[s])?s:i2[s]||0}},{key:"addColorStep",value:function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return this.json.colorsteps.push(s),f&&this.sortColorStep(),s}},{key:"insertColorStep",value:function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"rgba(216,216,216,0)",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"rgba(216,216,216,1)",x=this.colorsteps;if(!x.length){this.addColorStepList([new or({color:f,percent:s,index:0}),new or({color:v,percent:100,index:100})]);return}if(s<x[0].percent){x[0].index=1,this.addColorStep(new or({index:0,color:x[0].color,percent:s}));return}var $=x.length-1;if(x[$].percent<s){var S=x[$].color,A=x[$].index+1;this.addColorStep(new or({index:A,color:S,percent:s}));return}for(var N=0,R=x.length-1;N<R;N++){var z=x[N],Z=x[N+1];if(z.percent<=s&&s<=Z.percent){var S=Color.mix(z.color,Z.color,(s-z.percent)/(Z.percent-z.percent),"rgb");this.addColorStep(new or({index:z.index+1,color:S,percent:s}));return}}}},{key:"sortColorStep",value:function(){var s=this.colorsteps;s.sort(function(f,v){if(f.percent>v.percent)return 1;if(f.percent<v.percent)return-1;if(f.percent==v.percent)return f.index===v.index?0:f.index>v.index?1:-1}),s.forEach(function(f,v){f.index=v*100})}},{key:"addColorStepList",value:function(){var s=this,f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];f.forEach(function(v){s.addColorStep(v,!1)}),this.sortColorStep()}},{key:"getColorStep",value:function(s){return this.json.colorsteps.filter(function(f){return f.id==s})[0]}},{key:"clear",value:function(){arguments.length?this.json.colorsteps.splice(+(arguments.length<=0?void 0:arguments[0]),1):this.json.colorsteps=[]}},{key:"getColorString",value:function(){var s=this.colorsteps;if(!s.length)return"";var f=s.map(function(v,x){return v.prevColorStep=v.cut&&x>0?s[x-1]:null,v});return f.map(function(v){return""+v}).join(",")}},{key:"colorsteps",get:function(){return this.json.colorsteps}}],[{key:"random",value:function(){var s=Math.floor(Math.random()*1e3)%360;return"linear-gradient("+s+"deg, "+Color.random()+" 0%, "+Color.random()+" 100%)"}}]),u}(Ej),Sj=["circle","circle closest-side","circle closest-corner","circle farthest-side","circle farthest-corner","ellipse","ellipse closest-side","ellipse closest-corner","ellipse farthest-side","ellipse farthest-corner"],_j=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"initialize",value:function(){X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"initialize",this).call(this);var s=[{offset:de.percent(0),cut:!1,color:"yellow"},{offset:de.percent(100),cut:!1,color:"red"}];this.type="linear-gradient",this.index=0,this.colorsteps=s,this.radialPosition=[de.percent(50),de.percent(50)],this.radialType="ellipse"}},{key:"@changeRadialPosition",value:function(s,f){this["@changeKeyValue"]("radialPosition",[s,f]),this.reloadInputValue()}},{key:"@setGradientEditor",value:function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"linear-gradient",x=arguments[3],$=arguments[4],S=arguments[5],A=He(s),N=A.str.split(",").map(function(R){return R.trim()}).map(function(R){var z=R.split(" ").filter(function(Le){return Le.length}),Z=ge(z,3),K=Z[0],W=Z[1],re=Z[2];K=mt(K,A.matches);var se=!1;re&&(se=!0);var Ee=se?de.parse(re):de.parse(W);return Ee.isDeg()&&(Ee=de.percent(Ee.value/360*100)),{color:K,offset:Ee,cut:se}});N.length==1&&N.push({color:N[0].color,offset:de.percent(100),cut:!1}),this.cachedStepListRect=null,this.colorsteps=N,this.index=f,this.type=v,this.angle=de.parse(x||"90deg"),this.radialPosition=$||[de.percent(50),de.percent(50)],this.radialType=S,this.refresh(),this.selectStep(f),this.reloadInputValue()}},{key:"template",value:function(){var s=this;return`
        <div class='gradient-editor' data-selected-editor='`+this.type+`'>
            <div class='gradient-steps' data-editor='gradient'>
                <div class="hue-container" ref="$back"></div>            
                <div class="hue" ref="$steps">
                    <div class='step-list' ref="$stepList" ></div>
                </div>
            </div>
            <div class='tools' data-editor='tools'>
              <label>Offset <input type='checkbox' ref='$cut' checked />  connected</label> <div class="right-menu" ><button type="button" ref="$remove" style="float:right;" title="Remove color stop">&times; Remove</button></div>
              <div class='unit'>
                <div><input type='range' data-key='length' min='0' max="100" step='0.1' ref='$offset' /></div>
                <div><input type='number' data-key='length' min='0' max="100" step='0.1' ref='$offsetNumber' /></div>              
                <div><select ref='$offsetSelect'>
                  <option value='%'>%</option>
                  <option value='px'>px</option>
                  <option value='em'>em</option>
                </select></div>
              </div>
            </div>
            <div class='sub-editor' ref='$subEditor'> 
              <div data-editor='angle'>
                <label>Angle</label>
                <div class='unit'>                
                  <div><input type='range' data-key='angle' min='-720' max="720" step='0.1' ref='$angle' /> </div>
                  <div><input type='number' data-key='angle' min='-720' max="720" step='0.1' ref='$angleNumber' /></div> 
                  <span>deg</span>
                </div>
              </div>
              <div data-editor='centerX'>
                <label>Center X</label>
                <div class='unit'>
                  <div><input type='range' data-key='centerX' min='-100' max="100" step='0.1' ref='$centerX' /></div>
                  <div><input type='number' data-key='centerX' min='-100' max="100" step='0.1' ref='$centerXNumber' /></div>
                  <div><select ref='$centerXSelect'>
                      <option value='%'>%</option>
                      <option value='px'>px</option>
                      <option value='em'>em</option>
                    </select></div>
                </div>
              </div>                
              <div data-editor='centerY'>           
                <label>Center Y</label>                 
                <div class='unit'>
                  <div><input type='range' data-key='centerY' min='-100' max="100" step='0.1' ref='$centerY' /></div>
                  <div><input type='number' data-key='centerX' min='-100' max="100" step='0.1' ref='$centerYNumber' /></div>
                  <div><select ref='$centerYSelect'>
                      <option value='%'>%</option>
                      <option value='px'>px</option>
                      <option value='em'>em</option>
                    </select></div>
                </div>
              </div>                
              <div data-editor='radialType'>       
                <label>Radial Type</label>              
                <div><select ref='$radialType'>
                  `+Sj.map(function(f){var v=s.radialType===f?"selected":"";return'<option value="'+f+'" '+v+">"+f+"</option>"}).join("")+`
                </select></div>
              </div>
            </div>            
        </div>
      `}},{key:"input $offset",value:function(s){this.refs.$offsetNumber.val(this.refs.$offset.val()),this["@changeColorStepOffset"]("offset",new de(this.refs.$offset.val(),this.refs.$offsetSelect.val()))}},{key:"mouseup $offset",value:function(s){this["@changeColorStepOffset"]("offset",new de(this.refs.$offset.val(),this.refs.$offsetSelect.val()),!0)}},{key:"input $offsetNumber",value:function(s){this.refs.$offset.val(this.refs.$offsetNumber.val()),this["@changeColorStepOffset"]("offset",new de(this.refs.$offset.val(),this.refs.$offsetSelect.val()),!0)}},{key:"input $angle",value:function(s){this.refs.$angleNumber.val(this.refs.$angle.val()),this["@changeKeyValue"]("angle",de.deg(this.refs.$angle.val()))}},{key:"mouseup $angle",value:function(s){this["@changeKeyValue"]("angle",de.deg(this.refs.$angle.val()),!0)}},{key:"input $angleNumber",value:function(s){this.refs.$angle.val(this.refs.$angleNumber.val()),this["@changeKeyValue"]("angle",de.deg(this.refs.$angle.val()),!0)}},{key:"input $centerX",value:function(s){this.refs.$centerXNumber.val(this.refs.$centerX.val()),this["@changeKeyValue"]("radialPositionX")}},{key:"mouseup $centerX",value:function(s){this["@changeKeyValue"]("radialPositionX",null,!0)}},{key:"input $centerXNumber",value:function(s){this.refs.$centerX.val(this.refs.$centerXNumber.val()),this["@changeKeyValue"]("radialPositionX")}},{key:"input $centerY",value:function(s){this.refs.$centerYNumber.val(this.refs.$centerY.val()),this["@changeKeyValue"]("radialPositionY")}},{key:"mouseup $centerY",value:function(s){this["@changeKeyValue"]("radialPositionY",null,!0)}},{key:"input $centerYNumber",value:function(s){this.refs.$centerY.val(this.refs.$centerYNumber.val()),this["@changeKeyValue"]("radialPositionX")}},{key:"change $centerXSelect",value:function(s){this["@changeKeyValue"]("radialPositionX",null,!0)}},{key:"change $centerYSelect",value:function(s){this["@changeKeyValue"]("radialPositionY",null,!0)}},{key:"change $radialType",value:function(s){this["@changeKeyValue"]("radialType",this.refs.$radialType.val(),!0)}},{key:"@changeKeyValue",value:function(s,f){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;s==="angle"&&(f=f.value),s==="radialPositionX"||s==="radialPositionY"?this.radialPosition=[this.radialPositionX,this.radialPositionY]:this[s]=f,this.updateData(v)}},{key:"@changeColorStepOffset",value:function(s,f){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.currentStep&&(this.currentStep.offset=f.clone(),this.$currentStep.css({left:this.currentStep.offset}),this.setColorUI(),this.updateData(v))}},{key:"click $back",value:function(s){if(!this.startXY){var f=this.refs.$stepList.rect(),v=f.x,x=f.right,$=s.xy.x;$<v?$=v:$>x&&($=x);var S=($-v)/f.width*100,A=this.colorsteps.map(function(W,re){return{index:re,color:W.color,offset:W.offset}}),N=A.filter(function(W){return W.offset.value<=S}).pop(),R=A.filter(function(W){return W.offset.value>S}).shift(),z=0;if(N&&R){if(N.offset.value===S)return;this.colorsteps.splice(R.index,0,{cut:!1,offset:de.percent(S),color:Se.mix(N.color,R.color,(S-N.offset.value)/(R.offset.value-N.offset.value))}),z=N.index+1}else if(N){var Z={cut:!1,offset:de.percent(S),color:N.color};this.colorsteps.length-1===N.index?this.colorsteps.push(Z):this.colorsteps.splice(N.index+1,0,Z),z=N.index+1}else if(R){var K={cut:!1,offset:de.percent(S),color:R.color};R.index===0?(this.colorsteps.unshift(K),z=0):(this.colorsteps.splice(R.index-1,0,K),z=R.index)}else this.colorsteps.push({cut:!1,offset:de.percent(0),color:"rgba(0, 0, 0, 1)"}),z=0;this.refresh(),this.updateData(!0),this.selectStep(z)}}},{key:"reloadStepList",value:function(){this.refs.$stepList.html(this.colorsteps.map(function(s,f){return"<div class='step' data-index='"+f+"' data-cut='"+s.cut+"' style='left: "+s.offset+`;'>
        <div class='color-view' style="background-color: `+s.color+`"></div>
        <div class='arrow' style="background-color: `+s.color+`"></div>
      </div>`}).join(""))}},{key:"click $cut",value:function(){this.currentStep&&(this.currentStep.cut=this.refs.$cut.checked(),this.$currentStep.attr("data-cut",this.currentStep.cut),this.setColorUI(),this.updateData(!0))}},{key:"click $remove",value:function(){this.removeStep(this.index)}},{key:"removeStep",value:function(s){this.colorsteps.splice(s,1);var f=this.colorsteps[s],v=s;f||(f=this.colorsteps[s-1],v=s-1),f&&this.selectStep(v),this.refresh(),this.updateData(!0)}},{key:"selectStep",value:function(s){this.index=s,this.currentStep=this.colorsteps[s],this.refs.$stepList.attr("data-selected-index",s),this.$currentStep=this.refs.$stepList.$('[data-index="'+s.toString()+'"]'),this.$currentStep&&(this.$colorView=this.$currentStep.$(".color-view"),this.$arrow=this.$currentStep.$(".arrow"),this.refs.$cut.el.checked=this.currentStep.cut),this.prev=this.colorsteps[s-1],this.next=this.colorsteps[s+1]}},{key:"mousedown $stepList .step",value:function(s){var f=+s.$delegateTarget.attr("data-index");s.altKey?this.removeStep(f):(this.selectStep(f),this.startXY=s.xy,this.$store.emit("selectColorStep",this.currentStep.color),this.refs.$cut.checked(this.currentStep.cut),this.refs.$offset.val(this.currentStep.offset.value),this.refs.$stepList.attr("data-selected-index",f),this.cachedStepListRect=this.refs.$stepList.rect())}},{key:"getStepListRect",value:function(){return this.cachedStepListRect}},{key:"mouseup document",value:function(s){this.startXY&&(this.startXY=null,this.updateData(!0))}},{key:"mousemove document",value:function(s){if(this.startXY){var f=s.xy.x-this.startXY.x;s.xy.y-this.startXY.y;var v=this.getStepListRect(),x=v.x,$=v.right,S=this.startXY.x+f;S<x?S=x:S>$&&(S=$);var A=(S-x)/v.width*100;this.prev&&this.prev.offset.value>A&&(A=this.prev.offset.value),this.next&&this.next.offset.value<A&&(A=this.next.offset.value),this.currentStep.offset.set(c(A,100)),this.$currentStep.css({left:de.percent(A)}),this.refs.$offset.val(this.currentStep.offset.value),this.setColorUI(),this.updateData()}}},{key:"refresh",value:function(){this.reloadStepList(),this.setColorUI()}},{key:"getLinearGradient",value:function(){var s=this;if(this.colorsteps.length===0)return"";if(this.colorsteps.length===1){var f=this.colorsteps[0];return"linear-gradient(to right, "+f.color+" "+f.offset+", "+f.color+" 100%)"}return"linear-gradient(to right, "+this.colorsteps.map(function(v,x){if(v.cut){var $=s.colorsteps[x-1];return $?v.color+" "+$.offset+" "+v.offset:v.color+" "+v.offset}else return v.color+" "+v.offset}).join(",")+")"}},{key:"setColorUI",value:function(){this.refs.$stepList.css("background-image",this.getLinearGradient()),this.refs.$el.attr("data-selected-editor",this.type)}},{key:"reloadInputValue",value:function(){this.refs.$offset.val(this.currentStep.offset.value),this.refs.$offsetNumber.val(this.currentStep.offset.value),this.refs.$offsetSelect.val(this.currentStep.offset.unit),this.refs.$angle.val(this.angle.value),this.refs.$angleNumber.val(this.angle.value);var s=this.radialPosition.map(function(f){return f==="center"?de.percent(50):f});this.refs.$centerX.val(s[0].value),this.refs.$centerXNumber.val(s[0].value),this.refs.$centerXSelect.val(s[0].unit),this.refs.$centerY.val(s[1].value),this.refs.$centerYNumber.val(s[1].value),this.refs.$centerYSelect.val(s[1].unit),this.refs.$radialType.val(this.radialType)}},{key:"@setColorStepColor",value:function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.currentStep&&(this.currentStep.color=s,this.$colorView.css({"background-color":s}),this.$arrow.css({"background-color":s}),this.setColorUI(),this.updateData(f))}},{key:"updateData",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.$store.emit("changeGradientEditor",{type:this.type,index:this.index,angle:this.angle,colorsteps:this.colorsteps,radialPosition:this.radialPosition,radialType:this.radialType},s)}},{key:"radialPositionX",get:function(){return new de(+this.refs.$centerX.val(),this.refs.$centerXSelect.val()).round(1e3)}},{key:"radialPositionY",get:function(){return new de(+this.refs.$centerY.val(),this.refs.$centerYSelect.val()).round(1e3)}}]),u}(zt),Aj={0:"to top",45:"to top right",90:"to right",135:"to bottom right",180:"to bottom",225:"to bottom left",270:"to left",315:"to top left"},o2={"to top":"0","to top right":"45","to right":"90","to bottom right":"135","to bottom":"180","to bottom left":"225","to left":"270","to top left":"315"},ac=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"getDefaultObject",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"getDefaultObject",this).call(this,H({type:"linear-gradient",angle:0},s))}},{key:"toCloneObject",value:function(){return H({},X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"toCloneObject",this).call(this),{angle:this.json.angle})}},{key:"isLinear",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"toString",value:function(){if(this.colorsteps.length===0)return"";var s=this.getColorString(),f="",v=this.json.angle||0;f=v,lx(f)&&(f=Aj[""+f]||f),lx(f)&&(f=f>360?f%360:f,f=f+"deg");var x=this.json.type+"("+f+", "+s+")";return x}}],[{key:"toLinearGradient",value:function(s){if(s.length===0)return"none";var f=new u({angle:"to right",colorsteps:s});return f+""}},{key:"parse",value:function(s){var f=He(s),v=0,x=[];return f.str.split("(")[1].split(")")[0].split(",").map(function($){return $.trim()}).forEach(function($,S){$.includes("@")?($=mt($,f.matches),x.push.apply(x,ne(or.parse($)))):v=Ni(o2[$])?de.parse($):de.deg(+o2[$])}),new u({angle:v,colorsteps:x})}}]),u}(oc),a2=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"getDefaultObject",value:function(){return X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"getDefaultObject",this).call(this,{type:"repeating-linear-gradient",angle:0})}}],[{key:"parse",value:function(s){var f=ac.parse(s);return new u({angle:f.angle,colorsteps:f.colorsteps})}}]),u}(ac),Ri,Nj=(Ri={},Y(Ri,"center",!0),Y(Ri,"top",!0),Y(Ri,"left",!0),Y(Ri,"right",!0),Y(Ri,"bottom",!0),Ri),sc=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"getDefaultObject",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"getDefaultObject",this).call(this,H({type:"radial-gradient",radialType:"ellipse",radialPosition:[Yt.CENTER,Yt.CENTER]},s))}},{key:"toCloneObject",value:function(){var s=this.json.radialPosition||[de.percent(50),de.percent(50)];return H({},X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"toCloneObject",this).call(this),{radialType:this.json.radialType||"ellipse",radialPosition:JSON.parse(JSON.stringify(s))})}},{key:"isRadial",value:function(){return!0}},{key:"toString",value:function(){if(this.colorsteps.length===0)return"";var s=this.getColorString(),f=this.json,v="",x=f.radialType,$=f.radialPosition||["center","center"];return Nj[$]||typeof $=="string"||($=$.map(function(S){return typeof S=="string"?S:S.isString()?S.value:S.round(1e3)}).join(" ")),v=$?x+" at "+$:x,(f.type||"radial-gradient")+"("+v+", "+s+")"}}],[{key:"parse",value:function(s){var f=He(s),v="ellipse",x=[Yt.CENTER,Yt.CENTER],$=[];return f.str.split("(")[1].split(")")[0].split(",").map(function(S){return S.trim()}).forEach(function(S,A){if(S.includes("@"))S=mt(S,f.matches),$.push.apply($,ne(or.parse(S)));else{if(S.includes("at")){var N=S.split("at").map(function(K){return K.trim()}),R=ge(N,2);v=R[0],x=R[1]}else v=S;if(Wl(x)){var z=x.split(" ");if(z.length===1){var Z=de.parse(z[0]);Z.isString()?x=[Z.value,Z.value]:x=[Z.clone(),Z.clone()]}else z.length===2&&(x=z.map(function(K){var W=de.parse(K);return W.isString()?W.value:W}))}}}),new u({radialType:v,colorsteps:$})}}]),u}(oc),s2=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"getDefaultObject",value:function(){return X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"getDefaultObject",this).call(this,{type:"repeating-radial-gradient"})}}],[{key:"parse",value:function(s){var f=sc.parse(s);return new u({radialType:f.radialType,radialPosition:f.radialPosition,colorsteps:f.colorsteps})}}]),u}(sc),Li,Oj=(Li={},Y(Li,"center",!0),Y(Li,"top",!0),Y(Li,"left",!0),Y(Li,"right",!0),Y(Li,"bottom",!0),Li),Pf={"to top":0,"to top right":45,"to right":90,"to bottom right":135,"to bottom":180,"to bottom left":225,"to left":270,"to top left":315},lc=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"getDefaultObject",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"getDefaultObject",this).call(this,H({type:"conic-gradient",angle:0,radialPosition:[Yt.CENTER,Yt.CENTER]},s))}},{key:"toCloneObject",value:function(){return H({},X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"toCloneObject",this).call(this),{angle:this.json.angle,radialPosition:JSON.parse(JSON.stringify(this.json.radialPosition))})}},{key:"isConic",value:function(){return!0}},{key:"hasAngle",value:function(){return!0}},{key:"getColorString",value:function(){if(this.colorsteps.length===0)return"";var s=this.colorsteps;if(!s)return"";s.sort(function(v,x){return v.percent==x.percent?0:v.percent>x.percent?1:-1});var f=s.map(function(v,x){return v.prevColorStep=v.cut&&x>0?s[x-1]:null,v});return f.map(function(v){var x=Math.floor(v.percent*3.6),$="";if(v.cut&&v.prevColorStep){var S=Math.floor(v.prevColorStep.percent*3.6);$=S+"deg"}return v.color+" "+$+" "+x+"deg"}).join(",")}},{key:"toString",value:function(){var s=this.getColorString(),f=[],v=this.json,x=v.angle,$=v.radialPosition||Yt.CENTER;$=Oj[$]?$:$.join(" "),Dt(x)&&(x=+(Pf[x]||x),f.push("from "+x+"deg")),$&&f.push("at "+$);var S=f.length?f.join(" ")+",":"";return v.type+"("+S+" "+s+")"}}],[{key:"parse",value:function(s){var f=He(s),v="0deg",x=[Yt.CENTER,Yt.CENTER],$=[];return f.str.split("(")[1].split(")")[0].split(",").map(function(S){return S.trim()}).forEach(function(S,A){if(S.includes("@"))S=S.split(" ").map(function(K){return K.trim()}).map(function(K){return K.includes("deg")?de.parse(K).toPercent():K}).join(" "),S=mt(S,f.matches),$.push.apply($,ne(or.parse(S)));else{if(S.includes("at")){var N=S.split("at").map(function(K){return K.trim()}),R=ge(N,2);v=R[0],x=R[1]}else v=S;if(Wl(x)){var z=x.split(" ");if(z.length===1){var Z=de.parse(z[0]);Z.isString()?x=[Z.value,Z.value]:x=[Z.clone(),Z.clone()]}else z.length===2&&(x=z.map(function(K){var W=de.parse(K);return W.isString()?W.value:W}))}Wl(v)&&v.includes("from")&&(v=v.split("from")[1],v=Ni(Pf[v])?de.parse(v):de.deg(+Pf[v]))}}),new u({angle:v,radialPosition:x,colorsteps:$})}}]),u}(oc),l2=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"getDefaultObject",value:function(){return X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"getDefaultObject",this).call(this,{type:"repeating-conic-gradient",angle:0,radialPosition:[Yt.CENTER,Yt.CENTER]})}}],[{key:"parse",value:function(s){var f=lc.parse(s);return new u({angle:f.angle,radialPosition:f.radialPosition,colorsteps:f.colorsteps})}}]),u}(lc),Mj=[{type:"linear-gradient",title:"Linear Gradient"},{type:"repeating-linear-gradient",title:"Repeating Linear Gradient"},{type:"radial-gradient",title:"Radial Gradient"},{type:"repeating-radial-gradient",title:"Repeating Radial Gradient"},{type:"conic-gradient",title:"Conic Gradient"},{type:"repeating-conic-gradient",title:"Repeating Conic Gradient"}],Dj=/((linear\-gradient|repeating\-linear\-gradient|radial\-gradient|repeating\-radial\-gradient|conic\-gradient|repeating\-conic\-gradient|url)\(([^\)]*)\))/gi,Rj=function(h){j(u,h);function u(){return D(this,u),F(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return P(u,[{key:"components",value:function(){return{EmbedColorPicker:Tj,gradientEditor:_j}}},{key:"parseImage",value:function(s){var f=He(s),v=null;return f.str.match(Dj).forEach(function(x,$){x=mt(x,f.matches),x.includes("repeating-linear-gradient")?v=a2.parse(x):x.includes("linear-gradient")?v=ac.parse(x):x.includes("repeating-radial-gradient")?v=s2.parse(x):x.includes("radial")?v=sc.parse(x):x.includes("repeating-conic-gradient")?v=l2.parse(x):x.includes("conic")&&(v=lc.parse(x))}),v}},{key:"callbackColorValue",value:function(s){var f=this.image.toString();typeof this.opt.onChange=="function"&&this.opt.onChange.call(this,f,this.image),typeof this.colorpickerShowCallback=="function"&&this.colorpickerShowCallback(f,this.image)}},{key:"callbackLastUpdateColorValue",value:function(s){var f=this.image.toString();typeof this.opt.onLastUpdate=="function"&&this.opt.onLastUpdate.call(this,f,this.image)}},{key:"callbackHideColorValue",value:function(s){var f=this.image.toString();typeof this.opt.onHide=="function"&&this.opt.onHide.call(this,f,this.image),typeof this.colorpickerHideCallback=="function"&&this.colorpickerHideCallback(f,this.image)}},{key:"initialize",value:function(){X(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"initialize",this).call(this),this.$root.addClass("gradient-picker"),this.selectedTab="linear-gradient",this.setValue(this.opt.gradient||"linear-gradient(to right, red 0%, yellow 100%)")}},{key:"setValue",value:function(s){this.gradient=s,this.image=this.parseImage(this.gradient),this.selectTabContent(this.image.type)}},{key:"getValue",value:function(){return this.image.toString()}},{key:"template",value:function(){return`
      <div class="gradient-body">

        <div class='box'>
          <div class='gradient-preview'>
            <div class='gradient-view' ref='$gradientView'></div>
          </div>
          <div class="picker-tab">
            <div class="picker-tab-list" ref="$tab" data-value="static-gradient" data-is-image-hidden="false">
              `+Mj.map(function(s){return`
                  <span 
                    class='picker-tab-item `+(s.selected?"selected":"")+`' 
                    data-selected-value='`+s.type+`'
                    title='`+s.title+`'
                  > 
                  <div class='icon'></div>
                  </span>`}).join("")+`
            </div>
          </div>
          <div target='gradientEditor'></div>

        </div>
        <div class='box'>
          <div target="EmbedColorPicker"></div>
        </div>
      </div>
     
    `}},{key:"getColorString",value:function(){if(!this.image)return"";var s=this.image.getColorString();return s}},{key:"getCurrentStepColor",value:function(){var s=this.image.colorsteps[this.selectColorStepIndex||0]||{color:"rgba(0, 0, 0, 1)"};return s.color}},{key:"@changeGradientEditor",value:function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=s.colorsteps.map(function(x,$){return new or({color:x.color,percent:x.offset.value,cut:x.cut,index:($+1)*100})});s=H({},s,{type:this.selectedTab,colorsteps:v}),this.image.reset(s),this.updateGradientPreview(f)}},{key:"click $tab .picker-tab-item",value:function(s){var f=s.$delegateTarget.attr("data-selected-value");this.selectTabContent(f)}},{key:"selectTabContent",value:function(s){this.selectedTab=s,this.refs.$tab.attr("data-value",s),this.image=this.createGradient({type:s},this.image),this.$store.emit("setGradientEditor",this.getColorString(),this.selectColorStepIndex,this.image.type,this.image.angle,this.image.radialPosition,this.image.radialType);var f=this.getCurrentStepColor();this["@selectColorStep"](f),this.updateGradientPreview(!0)}},{key:"createGradient",value:function(s,f){var v=s.colorsteps||f.colorsteps,x=s.angle||f.angle,$=s.radialType||f.radialType||"ellipse",S=s.radialPosition||f.radialPosition||[de.percent(50),de.percent(50)],A=f.clone().toJSON();switch(delete A.itemType,delete A.type,s.type){case"linear-gradient":return new ac({colorsteps:v,angle:x});case"repeating-linear-gradient":return new a2({colorsteps:v,angle:x});case"radial-gradient":return new sc({colorsteps:v,radialType:$,radialPosition:S});case"repeating-radial-gradient":return new s2({colorsteps:v,radialType:$,radialPosition:S});case"conic-gradient":return new lc({colorsteps:v,angle:x,radialPosition:S});case"repeating-conic-gradient":return new l2({colorsteps:v,angle:x,radialPosition:S})}return new oc}},{key:"@changeEmbedColorPicker",value:function(s){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.$store.emit("setColorStepColor",s,f)}},{key:"@selectColorStep",value:function(s){this.EmbedColorPicker.setValue(s)}},{key:"@changeColorStep",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.image.reset(H({},s)),this.updateGradientPreview()}},{key:"updateGradientPreview",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.image&&(this.refs.$gradientView.css("background-image",this.image.toString()),this.updateData(s))}},{key:"mousedown $gradientView",value:function(s){this.mouseDown=!0,this.mouseDownX=s.clientX,this.mouseDownY=s.clientY,this.rect=this.refs.$gradientView.rect()}},{key:"mousemove document",value:function(s){if(this.mouseDown){var f=this.rect.left,v=this.rect.right,x=this.rect.top,$=this.rect.bottom,S=Math.min(Math.max(f,s.clientX),v),A=Math.min(Math.max(x,s.clientY),$),N=de.percent((S-f)/(v-f)*100),R=de.percent((A-x)/($-x)*100);this.$store.emit("changeRadialPosition",N,R)}}},{key:"mouseup document",value:function(s){this.mouseDown&&(this.mouseDown=!1,this.updateData(!0))}},{key:"updateData",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.callbackChange(),s&&this.callbackLastUpdate()}}]),u}(ri),Lj={createGradientPicker:function(u){return new Rj(u)}},Pj=H({},Wz,e2,Lj);return Pj})})(Yy);var gR=Yy.exports;const vR=ar(gR);function Kd(e,t,n){const r=Rt(e),{unmountedGroup:i}=Re(),o=ke(t);let a=null,c=null,d=!1,p=null;const m=b=>{if(b&&b!==n.id)return;a=vR.create({type:"sketch",position:"inline",container:p,color:n.color||"",onChange:w=>{n.color=w}});const C=a.$root.el;c=am(r.value,C,{placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,10]}}]}),C.setAttribute("data-show",""),d=!0},g=()=>{c==null||c.destroy(),a==null||a.$root.el.remove(),c=null,a=null,d=!1},y=()=>{const{eventBus:b}=o.value;d?g():(b.emit(je.ColorPicker.close),m())};Pe(()=>{const{eventBus:b}=o.value;i.push(b.on(je.ColorPicker.close).subscribe(g),b.on(je.ColorPicker.open).subscribe(m))}),Vi(()=>{p=Nr(".vuerd-editor",t),r.value.addEventListener("click",y)}),ur(()=>{var b;(b=r.value)==null||b.removeEventListener("click",y),g()})}function yR(e,t){const n=ke(t);let r=0,i=0;const o=({movementX:p,x:m},g)=>{const y=Object.assign({change:!1},e.memo.ui),b=p<0?"left":"right",C=g==="left"?y.width-p:y.width+p;switch(b){case"left":gs<C&&m<r&&(g==="left"&&(y.left+=p),r+=p,y.width=C,y.change=!0);break;case"right":gs<C&&m>r&&(g==="left"&&(y.left+=p),r+=p,y.width=C,y.change=!0);break}return y},a=({movementY:p,y:m},g)=>{const y=Object.assign({change:!1},e.memo.ui),b=p<0?"top":"bottom",C=g==="top"?y.height-p:y.height+p;switch(b){case"top":vs<C&&m<i&&(g==="top"&&(y.top+=p),i+=p,y.height=C,y.change=!0);break;case"bottom":vs<C&&m>i&&(g==="top"&&(y.top+=p),i+=p,y.height=C,y.change=!0);break}return y},c=(p,m)=>{p.event.preventDefault();const{store:g}=n.value;let y=null,b=null;switch(m){case"left":case"right":y=o(p,m);break;case"top":case"bottom":b=a(p,m);break;case"lt":y=o(p,"left"),b=a(p,"top");break;case"rt":y=o(p,"right"),b=a(p,"top");break;case"lb":y=o(p,"left"),b=a(p,"bottom");break;case"rb":y=o(p,"right"),b=a(p,"bottom");break}y!=null&&y.change&&(b!=null&&b.change)?g.dispatch(Qs(e.memo.id,b.top,y.left,y.width,b.height)):y!=null&&y.change?g.dispatch(Qs(e.memo.id,y.top,y.left,y.width,y.height)):b!=null&&b.change&&g.dispatch(Qs(e.memo.id,b.top,b.left,b.width,b.height))};return{onMousedownSash:(p,m)=>{const{drag$:g}=n.value.globalEvent;r=p.clientX,i=p.clientY,g.subscribe(y=>c(y,m))}}}const bR=(e,t)=>[{vertical:!0,position:"left"},{vertical:!0,position:"right",left:t},{horizontal:!0,position:"bottom",top:e},{edge:!0,position:"lt",cursor:"nwse-resize"},{edge:!0,position:"rt",cursor:"nesw-resize",left:t},{edge:!0,position:"lb",cursor:"nesw-resize",top:e},{edge:!0,position:"rb",cursor:"nwse-resize",top:e,left:t}],xR=(e,t,n)=>bR(e,t).map(r=>V`
      <vuerd-sash
        ?vertical=${r.vertical}
        ?horizontal=${r.horizontal}
        ?edge=${r.edge}
        .cursor=${r.cursor}
        .top=${r.top??0}
        .left=${r.left??0}
        @mousedown=${i=>n(i,r.position)}
      ></vuerd-sash>
    `),_a=Yo*2,Xy=6+_a,Ky=300;fe("vuerd-memo",{shadow:!1,observedProps:["memo"],render:(e,t)=>{const n=ke(t),{onMousedownSash:r}=yR(e,t),{unmountedGroup:i}=Re(),o=Rt(".vuerd-memo-textarea"),a=Ce({color:""});Kd(".vuerd-memo-header-color",t,a),fn([".vuerd-button"],t);let c=null,d=null;const p=({event:w,movementX:E,movementY:T})=>{w.type==="mousemove"&&w.preventDefault();const{store:I}=n.value;I.dispatch(Xg(I,w.ctrlKey||w.metaKey,E,T,e.memo.id))},m=w=>{const E=w.target,{store:T,globalEvent:I,eventBus:_}=n.value,{drag$:k}=I;!E.closest(".vuerd-button")&&!E.closest("vuerd-sash")&&!E.closest(".vuerd-memo-textarea")&&(c==null||c.stop(),d==null||d.stop(),k.subscribe({next:p,complete:()=>_.emit(je.BalanceRange.move)})),T.dispatch(Vg(T,w.ctrlKey||w.metaKey,e.memo.id))},g=()=>{const{store:w}=n.value;w.dispatch(Zs(w,e.memo.id))},y=w=>{const{store:E}=n.value,T=w.target;E.dispatch(Hu(e.memo.id,T.value))},b=()=>t.dispatchEvent(new CustomEvent("vuerd-input-blur",{composed:!0,bubbles:!0})),C=()=>{const{canvasState:{width:w,height:E}}=n.value.store,T=w-(e.memo.ui.width+_a),I=E-(e.memo.ui.height+_a+Xy),_=e.memo.ui.left>T?T:0,k=e.memo.ui.top>I?I:0;(e.memo.ui.left<0||e.memo.ui.left>T)&&(c=new Sn(e.memo.ui).to({left:_},Ky).easing(Ye.Quadratic.Out).onComplete(()=>c=null).start()),(e.memo.ui.top<0||e.memo.ui.top>I)&&(d=new Sn(e.memo.ui).to({top:k},Ky).easing(Ye.Quadratic.Out).onComplete(()=>d=null).start())};return Pe(()=>{const{eventBus:w,store:E}=n.value;a.color=e.memo.ui.color||"",i.push(w.on(je.BalanceRange.move).subscribe(C),ue(a,T=>{T==="color"&&E.dispatch(qg(E,!0,a.color,e.memo.id))}))}),Vi(()=>{const w=o.value;!w||!e.memo.ui.active||w.focus()}),()=>{const{keymap:w,store:{editorState:{readonly:E}}}=n.value,{memo:T}=e,I=T.ui.width+_a,_=T.ui.height+_a+Xy;return V`
      <div
        class=${et({"vuerd-memo":!0,active:T.ui.active})}
        style=${ye({top:`${T.ui.top}px`,left:`${T.ui.left}px`,zIndex:`${T.ui.zIndex}`,width:`${I}px`,height:`${_}px`})}
        @mousedown=${m}
        @touchstart=${m}
      >
        <div class="vuerd-memo-header">
          <div
            class="vuerd-memo-header-color"
            style=${ye({backgroundColor:T.ui.color??""})}
          ></div>
          <vuerd-icon
            class="vuerd-button"
            name="times"
            size="12"
            data-tippy-content=${$e(w.removeTable)}
            @click=${g}
          ></vuerd-icon>
        </div>
        <textarea
          class="vuerd-memo-textarea vuerd-scrollbar"
          style=${ye({width:`${T.ui.width}px`,height:`${T.ui.height}px`})}
          spellcheck="false"
          ?disabled=${E}
          .value=${T.value}
          @input=${y}
          @wheel=${ng}
          @blur=${b}
        ></textarea>
        ${xR(_,I,r)}
      </div>
    `}}}),fe("vuerd-input",{observedProps:[{name:"edit",type:Boolean,default:!1},{name:"focusState",type:Boolean,default:!1},{name:"select",type:Boolean,default:!1},{name:"active",type:Boolean,default:!1},{name:"width",type:Number,default:be},{name:"value",default:""},{name:"placeholder",default:""}],shadow:!1,styleMap:{display:"inline-flex"},render:(e,t)=>{const{unmountedGroup:n}=Re(),r=Rt("input"),i=()=>({"vuerd-input":!0,placeholder:e.value.trim()===""&&!e.edit,focus:e.focusState&&!e.edit,edit:e.edit,select:e.select,active:e.active}),o=()=>e.value.trim()===""?e.placeholder:e.value,a=()=>t.dispatchEvent(new CustomEvent("vuerd-input-blur",{composed:!0,bubbles:!0})),c=d=>{d.code==="Enter"&&t.dispatchEvent(new CustomEvent("keyup-enter"))};return Pe(()=>n.push(ue(e,d=>{const p=r.value;d!=="edit"||!e.edit||!p||Us(p)}),ue(e,d=>{d==="edit"&&(e.edit||a())}))),()=>e.edit?V`
          <input
            class=${et(i())}
            style=${ye({width:`${e.width}px`})}
            type="text"
            spellcheck="false"
            .value=${e.value}
            placeholder=${e.placeholder}
            @keyup=${c}
            @blur=${a}
          />
        `:V`
          <div
            class=${et(i())}
            style=${ye({width:`${e.width}px`})}
          >
            <span>${o()}</span>
          </div>
        `}}),fe("vuerd-column-key",{observedProps:["ui"],shadow:!1,styleMap:{display:"flex",height:"100%",alignItems:"center"},render:(e,t)=>()=>V`
    <div
      class=${et({"vuerd-column-key":!0,pk:e.ui.pk,fk:e.ui.fk,pfk:e.ui.pfk})}
    >
      <vuerd-icon size="12" name="key"></vuerd-icon>
    </div>
  `});const Wy=[{database:"MariaDB",dataTypeHints:[{name:"BIGINT",primitiveType:"long"},{name:"BINARY",primitiveType:"string"},{name:"BIT",primitiveType:"int"},{name:"BLOB",primitiveType:"lob"},{name:"BOOL",primitiveType:"boolean"},{name:"BOOLEAN",primitiveType:"boolean"},{name:"CHAR",primitiveType:"string"},{name:"DATE",primitiveType:"date"},{name:"DATETIME",primitiveType:"dateTime"},{name:"DEC",primitiveType:"decimal"},{name:"DECIMAL",primitiveType:"decimal"},{name:"DOUBLE PRECISION",primitiveType:"double"},{name:"DOUBLE",primitiveType:"double"},{name:"ENUM",primitiveType:"string"},{name:"FIXED",primitiveType:"decimal"},{name:"FLOAT",primitiveType:"float"},{name:"GEOMETRY",primitiveType:"string"},{name:"GEOMETRYCOLLECTION",primitiveType:"string"},{name:"INT",primitiveType:"int"},{name:"INTEGER",primitiveType:"int"},{name:"JSON",primitiveType:"lob"},{name:"LINESTRING",primitiveType:"string"},{name:"LONGBLOB",primitiveType:"lob"},{name:"LONGTEXT",primitiveType:"lob"},{name:"MEDIUMBLOB",primitiveType:"lob"},{name:"MEDIUMINT",primitiveType:"int"},{name:"MEDIUMTEXT",primitiveType:"lob"},{name:"MULTILINESTRING",primitiveType:"string"},{name:"MULTIPOINT",primitiveType:"string"},{name:"MULTIPOLYGON",primitiveType:"string"},{name:"NUMERIC",primitiveType:"decimal"},{name:"POINT",primitiveType:"string"},{name:"POLYGON",primitiveType:"string"},{name:"REAL",primitiveType:"double"},{name:"SET",primitiveType:"string"},{name:"SMALLINT",primitiveType:"int"},{name:"TEXT",primitiveType:"lob"},{name:"TIME",primitiveType:"time"},{name:"TIMESTAMP",primitiveType:"dateTime"},{name:"TINYBLOB",primitiveType:"lob"},{name:"TINYINT",primitiveType:"int"},{name:"TINYTEXT",primitiveType:"lob"},{name:"VARBINARY",primitiveType:"string"},{name:"VARCHAR",primitiveType:"string"},{name:"YEAR",primitiveType:"int"}]},{database:"MSSQL",dataTypeHints:[{name:"bigint",primitiveType:"long"},{name:"binary",primitiveType:"lob"},{name:"bit",primitiveType:"int"},{name:"char",primitiveType:"string"},{name:"date",primitiveType:"date"},{name:"datetime",primitiveType:"dateTime"},{name:"datetime2",primitiveType:"dateTime"},{name:"datetimeoffset",primitiveType:"dateTime"},{name:"decimal",primitiveType:"decimal"},{name:"float",primitiveType:"double"},{name:"geography",primitiveType:"string"},{name:"geometry",primitiveType:"string"},{name:"image",primitiveType:"lob"},{name:"int",primitiveType:"int"},{name:"money",primitiveType:"double"},{name:"nchar",primitiveType:"string"},{name:"ntext",primitiveType:"lob"},{name:"numeric",primitiveType:"float"},{name:"nvarchar",primitiveType:"string"},{name:"real",primitiveType:"float"},{name:"smalldatetime",primitiveType:"dateTime"},{name:"smallint",primitiveType:"int"},{name:"smallmoney",primitiveType:"float"},{name:"sql_variant",primitiveType:"string"},{name:"text",primitiveType:"lob"},{name:"time",primitiveType:"time"},{name:"tinyint",primitiveType:"int"},{name:"uniqueidentifier",primitiveType:"string"},{name:"varbinary",primitiveType:"string"},{name:"varchar",primitiveType:"string"},{name:"xml",primitiveType:"lob"}]},{database:"MySQL",dataTypeHints:[{name:"BIGINT",primitiveType:"long"},{name:"BINARY",primitiveType:"string"},{name:"BIT",primitiveType:"int"},{name:"BLOB",primitiveType:"lob"},{name:"BOOL",primitiveType:"boolean"},{name:"BOOLEAN",primitiveType:"boolean"},{name:"CHAR",primitiveType:"string"},{name:"DATE",primitiveType:"date"},{name:"DATETIME",primitiveType:"dateTime"},{name:"DEC",primitiveType:"decimal"},{name:"DECIMAL",primitiveType:"decimal"},{name:"DOUBLE PRECISION",primitiveType:"double"},{name:"DOUBLE",primitiveType:"double"},{name:"ENUM",primitiveType:"string"},{name:"FLOAT",primitiveType:"float"},{name:"GEOMETRY",primitiveType:"string"},{name:"GEOMETRYCOLLECTION",primitiveType:"string"},{name:"INT",primitiveType:"int"},{name:"INTEGER",primitiveType:"int"},{name:"JSON",primitiveType:"lob"},{name:"LINESTRING",primitiveType:"string"},{name:"LONGBLOB",primitiveType:"lob"},{name:"LONGTEXT",primitiveType:"lob"},{name:"MEDIUMBLOB",primitiveType:"lob"},{name:"MEDIUMINT",primitiveType:"int"},{name:"MEDIUMTEXT",primitiveType:"lob"},{name:"MULTILINESTRING",primitiveType:"string"},{name:"MULTIPOINT",primitiveType:"string"},{name:"MULTIPOLYGON",primitiveType:"string"},{name:"NUMERIC",primitiveType:"decimal"},{name:"POINT",primitiveType:"string"},{name:"POLYGON",primitiveType:"string"},{name:"SET",primitiveType:"string"},{name:"SMALLINT",primitiveType:"int"},{name:"TEXT",primitiveType:"lob"},{name:"TIME",primitiveType:"time"},{name:"TIMESTAMP",primitiveType:"dateTime"},{name:"TINYBLOB",primitiveType:"lob"},{name:"TINYINT",primitiveType:"int"},{name:"TINYTEXT",primitiveType:"lob"},{name:"VARBINARY",primitiveType:"string"},{name:"VARCHAR",primitiveType:"string"},{name:"YEAR",primitiveType:"int"}]},{database:"Oracle",dataTypeHints:[{name:"BFILE",primitiveType:"lob"},{name:"BINARY_DOUBLE",primitiveType:"double"},{name:"BINARY_FLOAT",primitiveType:"float"},{name:"BLOB",primitiveType:"lob"},{name:"CHAR",primitiveType:"string"},{name:"CLOB",primitiveType:"lob"},{name:"DATE",primitiveType:"date"},{name:"DATETIME",primitiveType:"dateTime"},{name:"LONG RAW",primitiveType:"lob"},{name:"LONG",primitiveType:"lob"},{name:"NCHAR",primitiveType:"string"},{name:"NCLOB",primitiveType:"lob"},{name:"NUMBER",primitiveType:"long"},{name:"NVARCHAR2",primitiveType:"string"},{name:"RAW",primitiveType:"lob"},{name:"TIMESTAMP WITH LOCAL TIME ZONE",primitiveType:"dateTime"},{name:"TIMESTAMP WITH TIME ZONE",primitiveType:"dateTime"},{name:"TIMESTAMP",primitiveType:"dateTime"},{name:"UriType",primitiveType:"string"},{name:"VARCHAR",primitiveType:"string"},{name:"VARCHAR2",primitiveType:"string"},{name:"XMLType",primitiveType:"string"}]},{database:"PostgreSQL",dataTypeHints:[{name:"bigint",primitiveType:"long"},{name:"bigserial",primitiveType:"long"},{name:"bit varying",primitiveType:"int"},{name:"bit",primitiveType:"int"},{name:"bool",primitiveType:"boolean"},{name:"boolean",primitiveType:"boolean"},{name:"box",primitiveType:"string"},{name:"bytea",primitiveType:"string"},{name:"char",primitiveType:"string"},{name:"character varying",primitiveType:"string"},{name:"character",primitiveType:"string"},{name:"cidr",primitiveType:"string"},{name:"circle",primitiveType:"string"},{name:"date",primitiveType:"date"},{name:"decimal",primitiveType:"decimal"},{name:"double precision",primitiveType:"double"},{name:"float4",primitiveType:"float"},{name:"float8",primitiveType:"double"},{name:"inet",primitiveType:"string"},{name:"int",primitiveType:"int"},{name:"int2",primitiveType:"int"},{name:"int4",primitiveType:"int"},{name:"int8",primitiveType:"long"},{name:"integer",primitiveType:"int"},{name:"interval",primitiveType:"time"},{name:"json",primitiveType:"lob"},{name:"jsonb",primitiveType:"lob"},{name:"line",primitiveType:"string"},{name:"lseg",primitiveType:"string"},{name:"macaddr",primitiveType:"string"},{name:"macaddr8",primitiveType:"string"},{name:"money",primitiveType:"double"},{name:"numeric",primitiveType:"decimal"},{name:"path",primitiveType:"string"},{name:"pg_lsn",primitiveType:"int"},{name:"point",primitiveType:"string"},{name:"polygon",primitiveType:"string"},{name:"real",primitiveType:"float"},{name:"serial",primitiveType:"int"},{name:"serial2",primitiveType:"int"},{name:"serial4",primitiveType:"int"},{name:"serial8",primitiveType:"long"},{name:"smallint",primitiveType:"int"},{name:"smallserial",primitiveType:"int"},{name:"text",primitiveType:"string"},{name:"time with time zone",primitiveType:"time"},{name:"time",primitiveType:"time"},{name:"timestamp with time zone",primitiveType:"dateTime"},{name:"timestamp",primitiveType:"dateTime"},{name:"timestamptz",primitiveType:"dateTime"},{name:"timetz",primitiveType:"time"},{name:"tsquery",primitiveType:"string"},{name:"tsvector",primitiveType:"string"},{name:"txid_snapshot",primitiveType:"string"},{name:"uuid",primitiveType:"string"},{name:"varbit",primitiveType:"int"},{name:"varchar",primitiveType:"string"},{name:"xml",primitiveType:"lob"}]},{database:"SQLite",dataTypeHints:[{name:"BLOB",primitiveType:"lob"},{name:"INTEGER",primitiveType:"int"},{name:"NUMERIC",primitiveType:"decimal"},{name:"REAL",primitiveType:"double"},{name:"TEXT",primitiveType:"string"}]}],wR=ws(ks("active",!0));function CR(e,t){const n=ke(t),{unmountedGroup:r}=Re(),i=Ce({hints:[],isFilter:!0}),o=()=>{const{store:{canvasState:T}}=n.value,I=Wy.find(_=>_.database===T.database);return I?I.dataTypeHints:[]},a=()=>wR(i.hints),c=()=>{if(!i.isFilter)return;const T=o();i.hints=e.value.trim()===""?T.map(I=>({name:I.name,html:I.name,active:!1})):T.filter(I=>I.name.toLowerCase().indexOf(e.value.toLowerCase())!==-1).map(I=>({name:I.name,html:ku("vuerd-data-type-hint-mark",I.name,e.value),active:!1}))},d=()=>{i.hints.forEach(T=>T.active=!1)},p=T=>{const{store:I,helper:_}=n.value;d(),i.isFilter=!1,I.dispatch(nl(_,e.tableId,e.columnId,T.name))},C={ArrowUp:T=>{i.hints.length!==0&&T.preventDefault();const I=a();I>0?(i.hints[I].active=!1,i.hints[I-1].active=!0):i.hints.length&&(I===0&&(i.hints[I].active=!1),i.hints[i.hints.length-1].active=!0)},ArrowDown:T=>{i.hints.length!==0&&T.preventDefault();const I=a();I!==-1&&I!==i.hints.length-1?(i.hints[I].active=!1,i.hints[I+1].active=!0):i.hints.length&&(I===i.hints.length-1&&(i.hints[I].active=!1),i.hints[0].active=!0)},ArrowLeft:()=>d(),ArrowRight:T=>{const I=a();if(I<0)return;T.preventDefault();const{store:_,helper:k}=n.value;i.isFilter=!1,_.dispatch(nl(k,e.tableId,e.columnId,i.hints[I].name))}},w=T=>{switch(T.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":C[T.key](T);break}},E=()=>i.isFilter=!0;return Pe(()=>{const{store:{canvasState:T}}=n.value;r.push(ue(e,I=>{I==="value"&&c()}),ue(T,I=>{I==="database"&&(i.isFilter=!0,c())}))}),{hintState:i,onSelectHint:p,onKeydown:w,onInput:E}}class kl{constructor(t,n,r){le(this,"flipSnapshots",[]);le(this,"root");le(this,"selector");le(this,"animationName");this.root=t,this.selector=n,this.animationName=r}snapshot(){this.flipSnapshots=[],this.root.querySelectorAll(this.selector).forEach(t=>{const{top:n,left:r}=t.getBoundingClientRect();this.flipSnapshots.push({el:t,top:n,left:r})})}play(){this.flipSnapshots.length&&(this.flipSnapshots.forEach(t=>{const n=t.el,{top:r,left:i}=n.getBoundingClientRect(),o=t.left-i,a=t.top-r;(o||a)&&(n.style.transform=`translate(${o}px,${a}px)`,n.style.transitionDuration="0s",requestAnimationFrame(()=>{n.classList.add(this.animationName),n.style.transform="",n.style.transitionDuration="";const c=()=>{n.classList.remove(this.animationName),n.removeEventListener("transitionend",c)};n.addEventListener("transitionend",c)}))}),this.flipSnapshots=[])}}function $l(e,t,n){const r=new kl(e.shadowRoot?e.shadowRoot:e,t,n);us(()=>r.snapshot()),Go(()=>r.play())}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Zy=(e,t)=>{const n=e.startNode.parentNode,r=t===void 0?e.endNode:t.startNode,i=n.insertBefore(Vn(),r);n.insertBefore(Vn(),r);const o=new Ar(e.options);return o.insertAfterNode(i),o},Ci=(e,t)=>(e.setValue(t),e.commit(),e),Wd=(e,t,n)=>{const r=e.startNode.parentNode,i=n?n.startNode:e.endNode,o=t.endNode.nextSibling;o!==i&&xc(r,t.startNode,o,i)},Zd=e=>{wc(e.startNode.parentNode,e.startNode,e.endNode.nextSibling)},Qy=(e,t,n)=>{const r=new Map;for(let i=t;i<=n;i++)r.set(e[i],i);return r},qy=new WeakMap,Jy=new WeakMap,Ot=Lo((e,t,n)=>{let r;return n===void 0?n=t:t!==void 0&&(r=t),i=>{if(!(i instanceof Ar))throw new Error("repeat can only be used in text bindings");const o=qy.get(i)||[],a=Jy.get(i)||[],c=[],d=[],p=[];let m=0;for(const T of e)p[m]=r?r(T,m):m,d[m]=n(T,m),m++;let g,y,b=0,C=o.length-1,w=0,E=d.length-1;for(;b<=C&&w<=E;)if(o[b]===null)b++;else if(o[C]===null)C--;else if(a[b]===p[w])c[w]=Ci(o[b],d[w]),b++,w++;else if(a[C]===p[E])c[E]=Ci(o[C],d[E]),C--,E--;else if(a[b]===p[E])c[E]=Ci(o[b],d[E]),Wd(i,o[b],c[E+1]),b++,E--;else if(a[C]===p[w])c[w]=Ci(o[C],d[w]),Wd(i,o[C],o[b]),C--,w++;else if(g===void 0&&(g=Qy(p,w,E),y=Qy(a,b,C)),!g.has(a[b]))Zd(o[b]),b++;else if(!g.has(a[C]))Zd(o[C]),C--;else{const T=y.get(p[w]),I=T!==void 0?o[T]:null;if(I===null){const _=Zy(i,o[b]);Ci(_,d[w]),c[w]=_}else c[w]=Ci(I,d[w]),Wd(i,I,o[b]),o[T]=null;w++}for(;w<=E;){const T=Zy(i,c[E+1]);Ci(T,d[w]),c[w++]=T}for(;b<=C;){const T=o[b++];T!==null&&Zd(T)}qy.set(i,c),Jy.set(i,p)}});/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const e1=new WeakMap,Aa=Lo(e=>t=>{if(!(t instanceof Ar))throw new Error("unsafeHTML can only be used in text bindings");const n=e1.get(t);if(n!==void 0&&ts(e)&&e===n.value&&t.value===n.fragment)return;const r=document.createElement("template");r.innerHTML=e;const i=document.importNode(r.content,!0);t.setValue(i),e1.set(t,{value:e,fragment:i})}),kR=(e,t)=>V`
  <ul class="vuerd-column-data-type-hint">
    ${Ot(t.hints,n=>n.name,n=>V`
          <li
            class=${et({"vuerd-data-type-hint":!0,active:n.active})}
            @click=${()=>e.onSelectHint(n)}
          >
            ${Aa(n.html)}
          </li>
        `)}
  </ul>
`;fe("vuerd-column-data-type",{observedProps:["edit","focusState","select","active","width","value","placeholder","tableId","columnId"],shadow:!1,render:(e,t)=>{const{hintState:n,onSelectHint:r,onKeydown:i,onInput:o}=CR(e,t),{unmountedGroup:a}=Re();let c=null;$l(t,".vuerd-data-type-hint","vuerd-data-type-hint-move");const d=()=>t.dispatchEvent(new CustomEvent("vuerd-input-blur",{composed:!0,bubbles:!0})),p=b=>{b.stopPropagation();const C=t$(["vuerd-input","input"],t);C&&e.edit?setTimeout(Us,0,C):d()},m=b=>{const C=b.target;e.edit&&!C.closest(".vuerd-column-data-type")&&d()},g=()=>{c==null||c.unsubscribe(),c=null},y=()=>{const b=Nr(".vuerd-erd",t);b&&e.edit&&(g(),c=Ct(b,"mousedown").subscribe(m))};return Pe(()=>{a.push(ue(e,b=>{b==="edit"&&(e.edit?y():g())})),y()}),ur(()=>g()),()=>V`
    <div class="vuerd-column-data-type">
      <vuerd-input
        .width=${e.width}
        .value=${e.value}
        .focusState=${e.focusState}
        .edit=${e.edit}
        .select=${e.select}
        .active=${e.active}
        placeholder="dataType"
        @keydown=${i}
        @input=${o}
        @vuerd-input-blur=${p}
      ></vuerd-input>
      ${e.edit?kR({onSelectHint:r},n):null}
    </div>
  `}}),fe("vuerd-column-not-null",{observedProps:[{name:"focusState",default:!1},"columnOption"],shadow:!1,render:e=>()=>V`
  <div
    class=${et({"vuerd-column-not-null":!0,focus:e.focusState})}
    style=${ye({width:`${Vc}px`})}
  >
    ${e.columnOption.notNull?"N-N":"NULL"}
  </div>
`}),fe("vuerd-column-unique",{observedProps:[{name:"focusState",default:!1},"columnOption"],shadow:!1,render:(e,t)=>(fn([".vuerd-column-unique"],t),()=>V`
    <div
      class=${et({"vuerd-column-unique":!0,focus:e.focusState,checked:e.columnOption.unique})}
      style=${ye({width:`${Gc}px`})}
      data-tippy-content="Unique"
    >
      UQ
    </div>
  `)}),fe("vuerd-column-auto-increment",{observedProps:[{name:"focusState",default:!1},"columnOption"],shadow:!1,render:(e,t)=>(fn([".vuerd-column-auto-increment"],t),()=>V`
    <div
      class=${et({"vuerd-column-auto-increment":!0,focus:e.focusState,checked:e.columnOption.autoIncrement})}
      style=${ye({width:`${Hc}px`})}
      data-tippy-content="Auto Increment"
    >
      AI
    </div>
  `)});function $R(e,{store:t,helper:n},{onInput:r,onFocus:i,onBlur:o,onEdit:a}){const{canvasState:{show:c,setting:d}}=t,{column:p}=e,{ui:m}=p,g=d.columnOrder.map(y=>{switch(y){case"columnName":return{columnType:y,template:V`
              <vuerd-input
                .width=${e.widthName}
                .value=${p.name}
                .active=${m.active}
                .select=${e.select}
                .focusState=${e.focusName}
                .edit=${e.editName}
                placeholder="column"
                @vuerd-input-blur=${o}
                @input=${b=>r(b,"columnName")}
                @mousedown=${b=>i(b,"columnName")}
                @dblclick=${()=>a("columnName")}
              ></vuerd-input>
            `};case"columnDefault":return c.columnDefault?{columnType:y,template:V`
                  <vuerd-input
                    .width=${e.widthDefault}
                    .value=${p.default}
                    .active=${m.active}
                    .select=${e.select}
                    .focusState=${e.focusDefault}
                    .edit=${e.editDefault}
                    placeholder="default"
                    @vuerd-input-blur=${o}
                    @input=${b=>r(b,"columnDefault")}
                    @mousedown=${b=>i(b,"columnDefault")}
                    @dblclick=${()=>a("columnDefault")}
                  ></vuerd-input>
                `}:null;case"columnComment":return c.columnComment?{columnType:y,template:V`
                  <vuerd-input
                    class="vuerd-column-comment"
                    .width=${e.widthComment}
                    .value=${p.comment}
                    .active=${m.active}
                    .select=${e.select}
                    .edit=${e.editComment}
                    .focusState=${e.focusComment}
                    placeholder="comment"
                    data-tippy-content=${p.comment.trim()?p.comment:"comment"}
                    @vuerd-input-blur=${o}
                    @input=${b=>r(b,"columnComment")}
                    @mousedown=${b=>i(b,"columnComment")}
                    @dblclick=${()=>a("columnComment")}
                  ></vuerd-input>
                `}:null;case"columnDataType":return c.columnDataType?{columnType:y,template:V`
                  <vuerd-column-data-type
                    .width=${e.widthDataType}
                    .value=${p.dataType}
                    .active=${m.active}
                    .tableId=${e.tableId}
                    .columnId=${p.id}
                    .select=${e.select}
                    .focusState=${e.focusDataType}
                    .edit=${e.editDataType}
                    @vuerd-input-blur=${o}
                    @input=${b=>r(b,"columnDataType")}
                    @mousedown=${b=>i(b,"columnDataType")}
                    @dblclick=${()=>a("columnDataType")}
                  ></vuerd-column-data-type>
                `}:null;case"columnNotNull":return c.columnNotNull?{columnType:y,template:V`
                  <vuerd-column-not-null
                    .columnOption=${p.option}
                    .focusState=${e.focusNotNull}
                    @mousedown=${b=>i(b,"columnNotNull")}
                    @dblclick=${()=>a("columnNotNull")}
                  ></vuerd-column-not-null>
                `}:null;case"columnUnique":return c.columnUnique?{columnType:y,template:V`
                  <vuerd-column-unique
                    .columnOption=${p.option}
                    .focusState=${e.focusUnique}
                    @mousedown=${b=>i(b,"columnUnique")}
                    @dblclick=${()=>a("columnUnique")}
                  ></vuerd-column-unique>
                `}:null;case"columnAutoIncrement":return c.columnAutoIncrement?{columnType:y,template:V`
                  <vuerd-column-auto-increment
                    .columnOption=${p.option}
                    .focusState=${e.focusAutoIncrement}
                    @mousedown=${b=>i(b,"columnAutoIncrement")}
                    @dblclick=${()=>a("columnAutoIncrement")}
                  ></vuerd-column-auto-increment>
                `}:null;default:return null}}).filter(y=>!!y);return Ot(g,y=>y.columnType,y=>y.template)}const TR={columnName:_v,columnComment:Av,columnDataType:nl,columnDefault:Nv},ER={columnNotNull:rl,columnUnique:od,columnAutoIncrement:id},IR=["columnNotNull","columnUnique","columnAutoIncrement"];fe("vuerd-column",{observedProps:["tableId","column","select","draggable","focusName","focusDataType","focusNotNull","focusDefault","focusComment","focusUnique","focusAutoIncrement","editName","editDataType","editDefault","editComment","widthName","widthDataType","widthDefault","widthComment"],shadow:!1,styleMap:{display:"flex"},render:(e,t)=>{const n=ke(t);fn([".vuerd-column-button"],t,{placement:"right"});const{resetTooltip:r}=fn([".vuerd-column-comment"],t,{placement:"right"}),{unmountedGroup:i}=Re(),o=new gi,a=()=>{const{store:w}=n.value;w.dispatch(ed(w,e.tableId,[e.column.id]))},c=w=>{const{store:E}=n.value;E.dispatch(xv(E,e.tableId,e.column.id,w.ctrlKey||w.metaKey))},d=()=>{const{store:w}=n.value;w.dispatch(qu())},p=()=>o.next(null),m=()=>t.dispatchEvent(new CustomEvent("dragover-column",{detail:{tableId:e.tableId,columnId:e.column.id}})),g=(w,E)=>{const{store:T,helper:I}=n.value,_=TR[E];if(!_)return;const k=w.target;T.dispatch(_(I,e.tableId,e.column.id,k.value))},y=(w,E)=>{const{store:T}=n.value;T.dispatch(po(e.tableId,e.column.id,E,w.ctrlKey||w.metaKey,w.shiftKey))},b=()=>{const{store:w}=n.value;w.dispatch(mo())},C=w=>{const{store:E}=n.value;if(IR.includes(w)){const T=ER[w];E.dispatch(T(E,e.tableId,e.column.id))}else E.dispatch(va())};return o.pipe(oa(300)).subscribe(m),Pe(()=>{const{show:w}=n.value.store.canvasState;i.push(ue(e.column,E=>{E==="comment"&&r()}),ue(w,E=>{E==="columnComment"&&r()}))}),()=>{const{keymap:w}=n.value,{column:E}=e,{ui:T}=E;return V`
      <div
        class=${et({"vuerd-column":!0,select:e.select,draggable:e.draggable,active:T.active})}
        data-id=${E.id}
        draggable="true"
        @dragstart=${c}
        @dragend=${d}
        @dragover=${p}
      >
        <vuerd-column-key .ui=${T}></vuerd-column-key>
        ${$R(e,n.value,{onInput:g,onFocus:y,onBlur:b,onEdit:C})}
        <vuerd-icon
          class="vuerd-button vuerd-column-button"
          data-tippy-content=${$e(w.removeColumn)}
          name="times"
          size="9"
          @click=${a}
        ></vuerd-icon>
      </div>
    `}}});function SR(e,t,n,r=null){if(!e||n!==e.table.id)return!1;switch(t){case"tableName":case"tableComment":return t===e.focusType}return r===e.columnId&&t===e.focusType}const _R=(e,t,n)=>(e==null?void 0:e.table.id)===t&&e.selectColumnIds.includes(n);function AR(e,t,n,r=null){if(!e||n!==e.table.id)return!1;switch(t){case"tableName":case"tableComment":return t===e.focusType&&e.edit}return r===e.columnId&&t===e.focusType&&e.edit}const NR=(e,t,n)=>(e==null?void 0:e.tableId)===t&&e.columnIds.includes(n);function OR(e,t){const n=ke(t),r=()=>n.value.store.editorState.focusTable;return{hasFocusState:(d,p)=>SR(r(),d,e.table.id,p),hasEdit:(d,p)=>AR(r(),d,e.table.id,p),hasSelectColumn:d=>_R(r(),e.table.id,d),hasDraggableColumn:d=>{const p=n.value.store.editorState.draggableColumn;return NR(p,e.table.id,d)}}}const t1=(Or+Yi)*2,n1=300;fe("vuerd-table",{observedProps:["table"],shadow:!1,render:(e,t)=>{var Y;const n=ke(t),{hasFocusState:r,hasEdit:i,hasSelectColumn:o,hasDraggableColumn:a}=OR(e,t);fn([".vuerd-table-button"],t);const{resetTooltip:c}=fn([".vuerd-table-comment"],t),d=new kl(t.shadowRoot?t.shadowRoot:t,"vuerd-column","vuerd-column-move"),p=new gi,{unmountedGroup:m}=Re(),g=Ce({color:"",id:(Y=e.table)==null?void 0:Y.id});Kd(".vuerd-table-header-color",t,g);let y=null,b=null;const C=(H,X)=>{const{store:j,helper:F}=n.value,ge=H.target;switch(X){case"tableName":j.dispatch(jg(F,e.table.id,ge.value));break;case"tableComment":j.dispatch(Fg(F,e.table.id,ge.value));break}},w=({event:H,movementX:X,movementY:j})=>{H.type==="mousemove"&&H.preventDefault();const{store:F}=n.value;F.dispatch(Bu(F,H.ctrlKey||H.metaKey,X,j,e.table.id))},E=H=>{const X=H.target,{store:j,globalEvent:F,eventBus:ge}=n.value,{drag$:Te}=F;!X.closest(".vuerd-button")&&!X.closest("vuerd-input")&&(y==null||y.stop(),b==null||b.stop(),Te.subscribe({next:w,complete:()=>ge.emit(je.BalanceRange.move)})),j.dispatch(fa(j,H.ctrlKey||H.metaKey,e.table.id))},T=()=>{const{store:H}=n.value;H.dispatch(Ks(H,e.table.id))},I=()=>{const{store:H}=n.value;H.dispatch(el(H,e.table.id))},_=H=>{const{store:X}=n.value;X.dispatch(ga(e.table.id,H))},k=()=>{const{store:H}=n.value;H.dispatch(mo())},O=()=>{const{store:H}=n.value;H.dispatch(va())},M=H=>p.next(H),D=H=>{const{store:X}=n.value,{editorState:{draggableColumn:j}}=X,{tableId:F,columnId:ge}=H.detail;!j||j.columnIds.includes(ge)||(d.snapshot(),X.dispatch(Iv(X,j.tableId,j.columnIds,F,ge)))},P=()=>{const{canvasState:{width:H,height:X},tableState:{tables:j},relationshipState:{relationships:F}}=n.value.store,ge=H-(e.table.width()+t1),Te=X-(e.table.height()+t1),ne=e.table.ui.left>ge?ge:0,ut=e.table.ui.top>Te?Te:0;(e.table.ui.left<0||e.table.ui.left>ge)&&(y=new Sn(e.table.ui).to({left:ne},n1).easing(Ye.Quadratic.Out).onUpdate(()=>Kr(j,F)).onComplete(()=>y=null).start()),(e.table.ui.top<0||e.table.ui.top>Te)&&(b=new Sn(e.table.ui).to({top:ut},n1).easing(Ye.Quadratic.Out).onUpdate(()=>Kr(j,F)).onComplete(()=>b=null).start())};return Go(()=>d.play()),Pe(()=>{const{eventBus:H,store:X}=n.value,{canvasState:{show:j}}=X;g.color=e.table.ui.color||"",m.push(p.pipe(ao(50)).subscribe(D),H.on(je.BalanceRange.move).subscribe(P),ue(e.table,F=>{F==="comment"&&c()}),ue(j,F=>{F==="tableComment"&&c()}),ue(g,F=>{F==="color"&&X.dispatch(ju(X,!0,g.color,e.table.id))}))}),()=>{const{keymap:H,store:{canvasState:{show:X}}}=n.value,{table:j}=e,{ui:F,columns:ge}=j,Te=j.maxWidthColumn();return g.id=j.id,V`
      <div
        class=${et({"vuerd-table":!0,active:F.active})}
        style=${ye({top:`${F.top}px`,left:`${F.left}px`,zIndex:`${F.zIndex}`,width:`${j.width()}px`,height:`${j.height()}px`})}
        data-id=${j.id}
        @mousedown=${E}
        @touchstart=${E}
      >
        <div class="vuerd-table-header">
          <div
            class="vuerd-table-header-color"
            style=${ye({width:`${j.width()+Or*2}px`,backgroundColor:F.color??""})}
          ></div>
          <div class="vuerd-table-header-top">
            <vuerd-icon
              class="vuerd-button vuerd-table-button"
              data-tippy-content=${$e(H.removeTable)}
              name="times"
              size="12"
              @click=${T}
            ></vuerd-icon>
            <vuerd-icon
              class="vuerd-button vuerd-table-button"
              data-tippy-content=${$e(H.addColumn)}
              name="plus"
              size="12"
              @click=${I}
            ></vuerd-icon>
          </div>
          <div class="vuerd-table-header-body">
            <vuerd-input
              class="vuerd-table-name"
              .width=${j.ui.widthName}
              .value=${j.name}
              .focusState=${r("tableName")}
              .edit=${i("tableName")}
              placeholder="table"
              @input=${ne=>C(ne,"tableName")}
              @mousedown=${()=>_("tableName")}
              @dblclick=${O}
              @vuerd-input-blur=${k}
            ></vuerd-input>
            ${X.tableComment?V`
                  <vuerd-input
                    class="vuerd-table-comment"
                    .width=${j.ui.widthComment}
                    .value=${j.comment}
                    .focusState=${r("tableComment")}
                    .edit=${i("tableComment")}
                    placeholder="comment"
                    data-tippy-content=${j.comment.trim()?j.comment:"comment"}
                    @input=${ne=>C(ne,"tableComment")}
                    @mousedown=${()=>_("tableComment")}
                    @dblclick=${O}
                    @vuerd-input-blur=${k}
                  ></vuerd-input>
                `:null}
          </div>
        </div>
        <div
          class="vuerd-table-body"
          @dragenter=${vi}
          @dragover=${vi}
        >
          ${Ot(ge,ne=>ne.id,ne=>V`
              <vuerd-column
                .tableId=${j.id}
                .column=${ne}
                .select=${o(ne.id)}
                .draggable=${a(ne.id)}
                .focusName=${r("columnName",ne.id)}
                .focusDataType=${r("columnDataType",ne.id)}
                .focusNotNull=${r("columnNotNull",ne.id)}
                .focusDefault=${r("columnDefault",ne.id)}
                .focusComment=${r("columnComment",ne.id)}
                .focusUnique=${r("columnUnique",ne.id)}
                .focusAutoIncrement=${r("columnAutoIncrement",ne.id)}
                .editName=${i("columnName",ne.id)}
                .editComment=${i("columnComment",ne.id)}
                .editDataType=${i("columnDataType",ne.id)}
                .editDefault=${i("columnDefault",ne.id)}
                .widthName=${Te.name}
                .widthComment=${Te.comment}
                .widthDataType=${Te.dataType}
                .widthDefault=${Te.default}
                @dragover-column=${M}
              ></vuerd-column>
            `)}
        </div>
      </div>
    `}}});const r1=(Or+Yi)*2,i1=300;fe("vuerd-high-level-table",{observedProps:["table"],shadow:!1,render:(e,t)=>{const n=ke(t),{unmountedGroup:r}=Re(),i=Ce({color:""});Kd(".vuerd-table-header-color",t,i);let o=null,a=null;const c=()=>{const{zoomLevel:g}=n.value.store.canvasState;let y=25;return g>.6?y=25:g>.5?y=30:g>.4?y=35:g>.3?y=40:y=45,y},d=({event:g,movementX:y,movementY:b})=>{g.type==="mousemove"&&g.preventDefault();const{store:C}=n.value;C.dispatch(Bu(C,g.ctrlKey||g.metaKey,y,b,e.table.id))},p=g=>{const y=g.target,{store:b,globalEvent:C,eventBus:w}=n.value,{drag$:E}=C;!y.closest(".vuerd-button")&&!y.closest("vuerd-input")&&(o==null||o.stop(),a==null||a.stop(),E.subscribe({next:d,complete:()=>w.emit(je.BalanceRange.move)})),b.dispatch(fa(b,g.ctrlKey||g.metaKey,e.table.id))},m=()=>{const{canvasState:{width:g,height:y},tableState:{tables:b},relationshipState:{relationships:C}}=n.value.store,w=g-(e.table.width()+r1),E=y-(e.table.height()+r1),T=e.table.ui.left>w?w:0,I=e.table.ui.top>E?E:0;(e.table.ui.left<0||e.table.ui.left>w)&&(o=new Sn(e.table.ui).to({left:T},i1).easing(Ye.Quadratic.Out).onUpdate(()=>Kr(b,C)).onComplete(()=>o=null).start()),(e.table.ui.top<0||e.table.ui.top>E)&&(a=new Sn(e.table.ui).to({top:I},i1).easing(Ye.Quadratic.Out).onUpdate(()=>Kr(b,C)).onComplete(()=>a=null).start())};return Pe(()=>{const{eventBus:g,store:y}=n.value;i.color=e.table.ui.color||"",r.push(g.on(je.BalanceRange.move).subscribe(m),ue(i,b=>{b==="color"&&y.dispatch(ju(y,!0,i.color,e.table.id))}))}),()=>{const{table:g}=e,{ui:y}=g;return g.maxWidthColumn(),V`
      <div
        class=${et({"vuerd-table":!0,active:y.active})}
        style=${ye({top:`${y.top}px`,left:`${y.left}px`,zIndex:`${y.zIndex}`,width:`${g.width()}px`,height:`${g.height()}px`})}
        data-id=${g.id}
        @mousedown=${p}
        @touchstart=${p}
      >
        <div class="vuerd-table-header">
          <div
            class="vuerd-table-header-color"
            style=${ye({width:`${g.width()+Or*2}px`,backgroundColor:y.color??""})}
          ></div>
        </div>
        <div
          class="vuerd-high-level-table vuerd-scrollbar"
          style=${ye({fontSize:`${c()}px`})}
        >
          ${g.name}
        </div>
      </div>
    `}}}),fe("vuerd-draw-relationship",{observedProps:["draw"],shadow:!1,render:(e,t)=>{const n=ke(t),{unmountedGroup:r}=Re();return Pe(()=>{const{store:i}=n.value,o=Nr(".vuerd-erd",t);o&&r.push(Ct(o,"mousemove").subscribe(a=>{a.preventDefault();const{x:c,y:d}=o.getBoundingClientRect();i.dispatch(bv(a.clientX-c,a.clientY-d))}))}),()=>{const{store:{canvasState:i}}=n.value,{path:o,line:a}=DD(e.draw);return pt`
       <svg
        class="vuerd-draw-relationship"
        style=${ye({width:`${i.width}px`,height:`${i.height}px`})}
      >
        <g>
          <path
            d=${o.path.d()}
            stroke-dasharray="10"
            stroke-width="3"
            fill="transparent"
          ></path>
          <line
            x1=${o.line.start.x1} y1=${o.line.start.y1}
            x2=${o.line.start.x2} y2=${o.line.start.y2}
            stroke-width="3"
          ></line>
          <line
            x1=${a.start.base.x1} y1=${a.start.base.y1}
            x2=${a.start.base.x2} y2=${a.start.base.y2}
            stroke-width="3"
          ></line>
          <line
            x1=${a.start.base2.x1} y1=${a.start.base2.y1}
            x2=${a.start.base2.x2} y2=${a.start.base2.y2}
            stroke-width="3"
          ></line>
          <line
            x1=${a.start.center2.x1} y1=${a.start.center2.y1}
            x2=${a.start.center2.x2} y2=${a.start.center2.y2}
            stroke-width="3"
          ></line>
        </g>
      </svg>
  `}}});const MR={ZeroOneN:({path:e,line:t})=>pt`
    <line
      x1=${e.line.end.x1} y1=${e.line.end.y1}
      x2=${e.line.end.x2} y2=${e.line.end.y2}
      stroke-width="3"
    ></line>
    <circle
      cx=${t.circle.cx} cy=${t.circle.cy} r="8"
      fill-opacity="0.0"
      stroke-width="3"
    ></circle>
    <line
      x1=${t.line.end.base.x1} y1=${t.line.end.base.y1}
      x2=${t.line.end.base.x2} y2=${t.line.end.base.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${t.line.end.left.x1} y1=${t.line.end.left.y1}
      x2=${t.line.end.left.x2} y2=${t.line.end.left.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${t.line.end.center.x1} y1=${t.line.end.center.y1}
      x2=${t.line.end.center.x2} y2=${t.line.end.center.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${t.line.end.right.x1} y1=${t.line.end.right.y1}
      x2=${t.line.end.right.x2} y2=${t.line.end.right.y2}
      stroke-width="3"
    ></line>
  `,ZeroOne:({path:e,line:t})=>pt`
    <line
      x1=${e.line.end.x1} y1=${e.line.end.y1}
      x2=${e.line.end.x2} y2=${e.line.end.y2}
      stroke-width="3"
    ></line>
    <circle
      cx=${t.circle.cx} cy=${t.circle.cy} r="8"
      fill-opacity="0.0"
      stroke-width="3"
    ></circle>
    <line
      x1=${t.line.end.base.x1} y1=${t.line.end.base.y1}
      x2=${t.line.end.base.x2} y2=${t.line.end.base.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${t.line.end.center.x1} y1=${t.line.end.center.y1}
      x2=${t.line.end.center.x2} y2=${t.line.end.center.y2}
      stroke-width="3"
    ></line>
  `,ZeroN:({path:e,line:t})=>pt`
    <line
      x1=${e.line.end.x1} y1=${e.line.end.y1}
      x2=${e.line.end.x2} y2=${e.line.end.y2}
      stroke-width="3"
    ></line>
    <circle
      cx=${t.circle.cx} cy=${t.circle.cy} r="8"
      fill-opacity="0.0"
      stroke-width="3"
    ></circle>
    <line
      x1=${t.line.end.left.x1} y1=${t.line.end.left.y1}
      x2=${t.line.end.left.x2} y2=${t.line.end.left.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${t.line.end.center.x1} y1=${t.line.end.center.y1}
      x2=${t.line.end.center.x2} y2=${t.line.end.center.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${t.line.end.right.x1} y1=${t.line.end.right.y1}
      x2=${t.line.end.right.x2} y2=${t.line.end.right.y2}
      stroke-width="3"
    ></line>
  `,OneOnly:({path:e,line:t})=>pt`
    <line
      x1=${e.line.end.x1} y1=${e.line.end.y1}
      x2=${e.line.end.x2} y2=${e.line.end.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${t.line.end.base.x1} y1=${t.line.end.base.y1}
      x2=${t.line.end.base.x2} y2=${t.line.end.base.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${t.line.end.base2.x1} y1=${t.line.end.base2.y1}
      x2=${t.line.end.base2.x2} y2=${t.line.end.base2.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${t.line.end.center2.x1} y1=${t.line.end.center2.y1}
      x2=${t.line.end.center2.x2} y2=${t.line.end.center2.y2}
      stroke-width="3"
    ></line>
  `,OneN:({path:e,line:t})=>pt`
    <line
      x1=${e.line.end.x1} y1=${e.line.end.y1}
      x2=${e.line.end.x2} y2=${e.line.end.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${t.line.end.base.x1} y1=${t.line.end.base.y1}
      x2=${t.line.end.base.x2} y2=${t.line.end.base.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${t.line.end.left.x1} y1=${t.line.end.left.y1}
      x2=${t.line.end.left.x2} y2=${t.line.end.left.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${t.line.end.center2.x1} y1=${t.line.end.center2.y1}
      x2=${t.line.end.center2.x2} y2=${t.line.end.center2.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${t.line.end.right.x1} y1=${t.line.end.right.y1}
      x2=${t.line.end.right.x2} y2=${t.line.end.right.y2}
      stroke-width="3"
    ></line>
  `,One:({path:e,line:t})=>pt`
    <line
      x1=${e.line.end.x1} y1=${e.line.end.y1}
      x2=${e.line.end.x2} y2=${e.line.end.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${t.line.end.base.x1} y1=${t.line.end.base.y1}
      x2=${t.line.end.base.x2} y2=${t.line.end.base.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${t.line.end.center2.x1} y1=${t.line.end.center2.y1}
      x2=${t.line.end.center2.x2} y2=${t.line.end.center2.y2}
      stroke-width="3"
    ></line>
  `,N:({path:e,line:t})=>pt`
    <line
      x1=${e.line.end.x1} y1=${e.line.end.y1}
      x2=${e.line.end.x2} y2=${e.line.end.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${t.line.end.left.x1} y1=${t.line.end.left.y1}
      x2=${t.line.end.left.x2} y2=${t.line.end.left.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${t.line.end.center2.x1} y1=${t.line.end.center2.y1}
      x2=${t.line.end.center2.x2} y2=${t.line.end.center2.y2}
      stroke-width="3"
    ></line>
    <line
      x1=${t.line.end.right.x1} y1=${t.line.end.right.y1}
      x2=${t.line.end.right.x2} y2=${t.line.end.right.y2}
      stroke-width="3"
    ></line>
  `};function o1(e,t=3){const n=FD(e),{path:r,line:i}=n,o=MR[e.relationshipType],a=o?o(n):null,c=r.path.d();return e.startRelationshipType==="Ring"?pt`
        ${c.map(([d,p])=>pt`
              <line
                x1=${d.x} y1=${d.y}
                x2=${p.x} y2=${p.y}
                stroke-dasharray=${e.identification?0:10}
                stroke-width=${t}
                fill="transparent"
              ></line>
            `)}
        <line
          x1=${r.line.start.x1} y1=${r.line.start.y1}
          x2=${r.line.start.x2} y2=${r.line.start.y2}
          stroke-width="3"
        ></line>
        <circle
          cx=${i.startCircle.cx} cy=${i.startCircle.cy} r="8"
          fill-opacity="0.0"
          stroke-width="3"
        ></circle>
        <line
          x1=${i.line.start.base.x1} y1=${i.line.start.base.y1}
          x2=${i.line.start.base.x2} y2=${i.line.start.base.y2}
          stroke-width="3"
        ></line>
        <line
          x1=${i.line.start.center.x1} y1=${i.line.start.center.y1}
          x2=${i.line.start.center.x2} y2=${i.line.start.center.y2}
          stroke-width="3"
        ></line>
        ${a}
    `:pt`
        ${c.map(([d,p])=>pt`
              <line
                x1=${d.x} y1=${d.y}
                x2=${p.x} y2=${p.y}
                stroke-dasharray=${e.identification?0:10}
                stroke-width=${t}
                fill="transparent"
              ></line>
            `)}
        <line
          x1=${r.line.start.x1} y1=${r.line.start.y1}
          x2=${r.line.start.x2} y2=${r.line.start.y2}
          stroke-width="3"
        ></line>
        <line
          x1=${i.line.start.base.x1} y1=${i.line.start.base.y1}
          x2=${i.line.start.base.x2} y2=${i.line.start.base.y2}
          stroke-width="3"
        ></line>
        <line
          x1=${i.line.start.base2.x1} y1=${i.line.start.base2.y1}
          x2=${i.line.start.base2.x2} y2=${i.line.start.base2.y2}
          stroke-width="3"
        ></line>
        <line
          x1=${i.line.start.center2.x1} y1=${i.line.start.center2.y1}
          x2=${i.line.start.center2.x2} y2=${i.line.start.center2.y2}
          stroke-width="3"
        ></line>
        ${a}
    `}fe("vuerd-canvas-svg",{shadow:!1,render:(e,t)=>{const n=ke(t),r=Ce({activeId:""}),i=a=>{const{store:c}=n.value;c.dispatch(Dv(a)),r.activeId=a.id},o=a=>{const{store:c}=n.value;c.dispatch(Rv(a)),r.activeId=""};return()=>{const{store:{canvasState:{width:a,height:c},relationshipState:{relationships:d}}}=n.value;return pt`
      <svg
        class="vuerd-canvas-svg"
        style=${ye({width:`${a}px`,height:`${c}px`})}
      >
      ${Ot(d,p=>p.id,p=>pt`
            <g class=${et({"vuerd-relationship":!0,identification:p.identification&&r.activeId!==p.id,active:r.activeId===p.id})}
              data-id=${p.id}
              @mouseover=${()=>i(p)}
              @mouseleave=${()=>o(p)}
            >
              ${o1(p,3)}
            </g>
          `)}
    </svg>
`}}});/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const a1=new WeakMap,s1=Lo(e=>t=>{if(!(t instanceof Ar))throw new Error("cache can only be used in text bindings");let n=a1.get(t);n===void 0&&(n=new WeakMap,a1.set(t,n));const r=t.value;if(r instanceof kc)if(e instanceof Uo&&r.template===t.options.templateFactory(e)){t.setValue(e);return}else{let i=n.get(r.template);i===void 0&&(i={instance:r,nodes:document.createDocumentFragment()},n.set(r.template,i)),xc(i.nodes,t.startNode.nextSibling,t.endNode)}if(e instanceof Uo){const i=t.options.templateFactory(e),o=n.get(i);o!==void 0&&(t.setValue(o.nodes),t.commit(),t.value=o.instance)}t.setValue(e)});function l1(){const e=Ce({count:0}),t=()=>e.count++;return Fc(()=>e.count),us(()=>e.count),{renderTrigger:t}}fe("vuerd-canvas",{shadow:!1,render:(e,t)=>{const n=ke(t),{unmountedGroup:r}=Re(),{renderTrigger:i}=l1();return Pe(()=>{const{memoState:{memos:o},tableState:{tables:a}}=n.value.store;r.push(ue(a,i),ue(o,i))}),()=>{const{canvasState:{width:o,height:a,scrollTop:c,scrollLeft:d,zoomLevel:p,show:m},memoState:{memos:g},tableState:{tables:y},editorState:{drawRelationship:b}}=n.value.store;return V`
      <div
        class="vuerd-canvas-controller"
        style=${ye({width:`${o}px`,height:`${a}px`,minWidth:`${o}px`,minHeight:`${a}px`,transform:`translate(${d}px, ${c}px) scale(${p})`})}
      >
        <div
          class="vuerd-canvas"
          style=${ye({width:`${o}px`,height:`${a}px`,minWidth:`${o}px`,minHeight:`${a}px`})}
        >
          ${s1(p>.7?Ot(y,C=>C.id,C=>V`<vuerd-table .table=${C}></vuerd-table>`):Ot(y,C=>C.id,C=>V`
                    <vuerd-high-level-table
                      .table=${C}
                    ></vuerd-high-level-table>
                  `))}
          ${Ot(g,C=>C.id,C=>V`<vuerd-memo .memo=${C}></vuerd-memo>`)}
          ${m.relationship?V`<vuerd-canvas-svg></vuerd-canvas-svg>`:null}
          ${b!=null&&b.start?V`
                <vuerd-draw-relationship
                  .draw=${b}
                ></vuerd-draw-relationship>
              `:null}
        </div>
      </div>
    `}}}),fe("vuerd-drag-select",{observedProps:["x","y"],shadow:!1,render:(e,t)=>{const n=ke(t),r=Ce({width:0,height:0,top:0,left:0}),{unmountedGroup:i}=Re(),o=()=>{t.dispatchEvent(new CustomEvent("drag-select-end"))};return Pe(()=>{const{store:a,globalEvent:{mouseup$:c}}=n.value,{canvasState:d}=a,p=Nr(".vuerd-erd",t);p&&i.push(c.subscribe(o),Ct(p,"mousemove").subscribe(m=>{m.preventDefault();const g=p.getBoundingClientRect(),y=m.clientX-g.x,b=m.clientY-g.y,C={x:e.x<y?e.x:y,y:e.y<b?e.y:b},w={x:e.x>y?e.x:y,y:e.y>b?e.y:b};r.left=C.x,r.width=w.x-C.x,r.width<0&&(r.width=0),r.top=C.y,r.height=w.y-C.y,r.height<0&&(r.height=0);const E=Object.assign({},C),T=Object.assign({},w);E.x-=d.scrollLeft,E.y-=d.scrollTop,T.x-=d.scrollLeft,T.y-=d.scrollTop;const I=hl(d.width,d.height,d.zoomLevel),_=iN({...E,w:T.x-E.x,h:T.y-E.y},I);if(!_)return;const k=oN(_,I,d.zoomLevel);E.x=k.x1,E.y=k.y1,T.x=k.x2,T.y=k.y2,a.dispatch(Hg(E,T),Zg(E,T))}))}),()=>pt`
      <svg 
        class="vuerd-drag-select" 
        style=${ye({top:`${r.top}px`,left:`${r.left}px`,width:`${r.width}px`,height:`${r.height}px`})}
      >
        <rect
          width=${r.width}
          height=${r.height}
          stroke-width="1"
          stroke-opacity="0.9"
          stroke-dasharray="3"
          fill-opacity="0.3"
        >
        </rect>
      </svg>    
    `}}),fe("vuerd-minimap-table",{observedProps:["table"],shadow:!1,render:(e,t)=>()=>{const{table:n}=e,{ui:r}=n;return n.maxWidthColumn(),V`
    <div
      class="vuerd-table"
      style=${ye({top:`${r.top}px`,left:`${r.left}px`,zIndex:`${r.zIndex}`,width:`${n.width()}px`,height:`${n.height()}px`})}
    ></div>
  `}});const Qd=Yo*2,DR=6+Qd;fe("vuerd-minimap-memo",{observedProps:["memo"],shadow:!1,render:(e,t)=>()=>{const{memo:n}=e,r=n.ui.width+Qd,i=n.ui.height+Qd+DR;return V`
      <div
        class="vuerd-memo"
        style=${ye({top:`${n.ui.top}px`,left:`${n.ui.left}px`,zIndex:`${n.ui.zIndex}`,width:`${r}px`,height:`${i}px`})}
      ></div>
    `}});const Wr={left:"left",right:"right",top:"top",bottom:"bottom"};function c1(e){const t=ke(e),n=Ce({selected:!1});let r=0,i=0;const o=()=>{const{store:g}=t.value;return Mr/g.canvasState.width},a=g=>{const y=o();return-1*(g/y)},c=({movementX:g,x:y})=>{const{store:b}=t.value,C=Qn(b),w=b.canvasState.scrollLeft+a(g),E=C.width-b.canvasState.width,T=0,I=g<0?Wr.left:Wr.right;let _=!1;switch(I){case Wr.left:w<T&&y<r&&(r+=g,_=!0);break;case Wr.right:w>E&&y>r&&(r+=g,_=!0);break}return _?g:0},d=({movementY:g,y})=>{const{store:b}=t.value,C=b.canvasState.scrollTop+a(g),w=b.editorState.viewport.height-b.canvasState.height,E=0,T=g<0?Wr.top:Wr.bottom;let I=!1;switch(T){case Wr.top:C<E&&y<i&&(i+=g,I=!0);break;case Wr.bottom:C>w&&y>i&&(i+=g,I=!0);break}return I?g:0},p=g=>{const{event:y}=g;y.type==="mousemove"&&y.preventDefault();const b=c(g),C=d(g);if(b===0&&C===0)return;const{store:w}=t.value;w.dispatch(pr(a(b),a(C)))};return{state:n,onScrollStart:g=>{const{globalEvent:{drag$:y}}=t.value;n.selected=!0,r=zs(g)?g.clientX:g.touches[0].clientX,i=zs(g)?g.clientY:g.touches[0].clientY,y.subscribe({next:p,complete:()=>{n.selected=!1}})}}}fe("vuerd-minimap-handle",{observedProps:["selected"],shadow:!1,render:(e,t)=>{const n=ke(t),{state:r,onScrollStart:i}=c1(t),o=()=>{const{width:c}=n.value.store.canvasState;return Mr/c},a=()=>{const{store:c}=n.value,{scrollLeft:d,scrollTop:p}=c.canvasState,m=o(),g=Qn(c),y=d*m,b=p*m,C=g.width-Mr-Ki-y,w=Ki-b,E=g.width*m,T=g.height*m;return{width:`${E}px`,height:`${T}px`,left:`${C}px`,top:`${w}px`}};return()=>V`
    <div
      class="vuerd-minimap-handle"
      style=${ye(a())}
      ?data-selected=${r.selected||e.selected}
      @mousedown=${i}
      @touchstart=${i}
    ></div>
  `}}),fe("vuerd-minimap",{observedProps:["width","height"],shadow:!1,render:(e,t)=>{const n=ke(t),{unmountedGroup:r}=Re(),{renderTrigger:i}=l1(),{state:o,onScrollStart:a}=c1(t),c=Rt(".vuerd-minimap"),d=()=>{const{store:y}=n.value;return Mr/y.canvasState.width},p=()=>{const{width:y,height:b}=n.value.store.canvasState,C=Mr/y,w=-1*y/2+Mr/2,E=-1*b/2+b*C/2,T=w+Ki,I=E+Ki;return{transform:`scale(${C})`,width:`${y}px`,height:`${b}px`,right:`${T}px`,top:`${I}px`}},m=()=>{const y=Ki;return{width:`${Mr}px`,height:`${Mr}px`,right:`${Ki}px`,top:`${y}px`}},g=y=>{const{store:b}=n.value,C=Qn(b),w=d(),T=c.value.getBoundingClientRect(),I=zs(y)?y.clientX:y.touches[0].clientX,_=zs(y)?y.clientY:y.touches[0].clientY,k=I-T.x,O=_-T.y,M=k/w,D=O/w,P=M-C.width/2,Y=D-C.height/2;b.dispatch(yi(-1*Y,-1*P)),a(y)};return Pe(()=>{const{memoState:{memos:y},tableState:{tables:b},relationshipState:{relationships:C}}=n.value.store;r.push(ue(b,i),ue(y,i),ue(C,i))}),()=>{const{canvasState:{width:y,height:b,zoomLevel:C,show:w},tableState:{tables:E},memoState:{memos:T},relationshipState:{relationships:I}}=n.value.store;return V`
      <div
        class="vuerd-minimap-shadow"
        style=${ye(m())}
      ></div>
      <div
        class="vuerd-minimap"
        style=${ye(p())}
        @mousedown=${g}
        @touchstart=${g}
      >
        <div class="vuerd-erd-background"></div>
        <div
          class="vuerd-canvas"
          style=${ye({width:`${y}px`,height:`${b}px`,transform:`scale(${C})`})}
        >
          ${Ot(E,_=>_.id,_=>V`
              <vuerd-minimap-table .table=${_}></vuerd-minimap-table>
            `)}
          ${Ot(T,_=>_.id,_=>V`<vuerd-minimap-memo .memo=${_}></vuerd-minimap-memo>`)}
          ${w.relationship?pt`
              <svg
                class="vuerd-canvas-svg"
                style=${ye({width:`${y}px`,height:`${b}px`})}
              >
              ${Ot(I,_=>_.id,_=>pt`
                      <g
                        class=${et({"vuerd-relationship":!0,identification:_.identification})}
                      >
                        ${o1(_,12)}
                      </g>
                  `)}
              </svg>
          `:null}
        </div>
      </div>
      <vuerd-minimap-handle .selected=${o.selected}></vuerd-minimap-handle>
    `}}});const RR=ws(ks("active",!0));function LR(e){const t=ke(e),{unmountedGroup:n}=Re(),r=Ce({value:"",hints:[],isFilter:!0,focus:!1}),i=Rt("input"),o=()=>RR(r.hints),a=()=>{if(!r.isFilter)return;const{store:{tableState:{tables:I}}}=t.value;r.hints=r.value.trim().length<1?[]:I.filter(_=>_.name.toLowerCase().indexOf(r.value.toLowerCase())!==-1).map(_=>({id:_.id,name:_.name,html:ku("vuerd-find-table-hint-mark",_.name,r.value),active:!1}))},c=()=>{r.hints.forEach(I=>I.active=!1)},d=I=>{const{store:_}=t.value;_.dispatch(yi((I.ui.top-ps)*-1,(I.ui.left-hs)*-1),Ws(_,!1,I.id))},p=I=>{c(),r.isFilter=!1,Us(i.value);const{tables:_}=t.value.store.tableState,k=B(_,I.id);k&&d(k)},C={ArrowUp:I=>{r.hints.length!==0&&I.preventDefault();const _=o();_>0?(r.hints[_].active=!1,r.hints[_-1].active=!0):r.hints.length&&(_===0&&(r.hints[_].active=!1),r.hints[r.hints.length-1].active=!0)},ArrowDown:I=>{r.hints.length!==0&&I.preventDefault();const _=o();_!==-1&&_!==r.hints.length-1?(r.hints[_].active=!1,r.hints[_+1].active=!0):r.hints.length&&(_===r.hints.length-1&&(r.hints[_].active=!1),r.hints[0].active=!0)},ArrowLeft:()=>c(),ArrowRight:I=>{const _=o();if(_<0)return;I.preventDefault(),r.isFilter=!1;const{tables:k}=t.value.store.tableState,O=B(k,r.hints[_].id);O&&d(O)}},w=I=>{switch(I.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":C[I.key](I);break;case"Enter":C.ArrowRight(I);break}},E=I=>{const _=I.target;r.value=_.value,r.isFilter=!0},T=()=>{r.isFilter=!0,a()};return Pe(()=>n.push(ue(r,I=>{I==="value"&&a()}))),{hintState:r,onSelectHint:p,onKeydown:w,onInput:E,initHints:T}}const PR=(e,t)=>V`
  <ul class="vuerd-find-table-list">
    ${Ot(t.hints,n=>n.id,n=>V`
          <li
            class=${et({"vuerd-find-table-hint":!0,active:n.active})}
            @click=${()=>e.onSelectHint(n)}
          >
            ${Aa(n.html)}
          </li>
        `)}
  </ul>
`,u1=200,qd=33;fe("vuerd-find",{observedProps:[{name:"visible",type:Boolean,default:!1}],shadow:!1,render:(e,t)=>{const n=ke(t),{unmountedGroup:r}=Re(),{resetTooltip:i}=fn([".vuerd-button"],t),{hintState:o,onSelectHint:a,onKeydown:c,onInput:d,initHints:p}=LR(t),m=Rt("input"),g=Ce({top:0,visible:!1});let y=null,b=null;$l(t,".vuerd-find-table-hint","vuerd-find-table-hint-move");const C=()=>t.dispatchEvent(new CustomEvent("vuerd-input-blur",{composed:!0,bubbles:!0})),w=()=>{y||(b==null||b.stop(),b=null,g.visible=!0,g.top=g.top===0?-1*qd:g.top,y=new Sn(g).to({top:0},u1).easing(Ye.Quadratic.Out).onComplete(()=>y=null).start())},E=()=>{b||(y==null||y.stop(),y=null,b=new Sn(g).to({top:-1*qd},u1).easing(Ye.Quadratic.In).onComplete(()=>{b=null,g.visible=!1,t.dispatchEvent(new CustomEvent("close")),C()}).start())},T=()=>{const k=m.value;k==null||k.focus()},I=()=>{o.focus=!0},_=()=>{o.focus=!1,setTimeout(()=>{o.focus||(o.hints=[])},200)};return Pe(()=>r.push(ue(e,k=>{k==="visible"&&(e.visible?w():E(),e.visible&&setTimeout(()=>{i(),T(),p()},0))}))),()=>{const{keymap:k}=n.value,O=$e(k.stop);return g.visible?V`
          <div
            class="vuerd-find"
            style=${ye({top:`${g.top}px`,height:`${qd}px`})}
          >
            <div class="vuerd-find-table">
              <input
                type="text"
                spellcheck="false"
                placeholder="table"
                .value=${o.value}
                @keydown=${c}
                @input=${d}
                @focus=${I}
                @blur=${_}
              />
              ${PR({onSelectHint:a},o)}
            </div>
            <vuerd-icon
              class="vuerd-button"
              data-tippy-content=${O}
              name="times"
              size="12"
              @click=${E}
            ></vuerd-icon>
          </div>
        `:null}}});const Zr={left:"left",right:"right",top:"top",bottom:"bottom"};function BR(e){const t=ke(e),n=Ce({selected:null});let r=0,i=0;const o=()=>{const{store:b}=t.value;return Qn(b).width/b.canvasState.width},a=()=>{const{store:b}=t.value;return Qn(b).height/b.canvasState.height},c=(b,C)=>-1*(b/C),d=({movementX:b,x:C})=>{const{store:w}=t.value,E=Qn(w),T=w.canvasState.scrollLeft+c(b,o()),I=E.width-w.canvasState.width,_=0,k=b<0?Zr.left:Zr.right;let O=!1;switch(k){case Zr.left:T<_&&C<r&&(r+=b,O=!0);break;case Zr.right:T>I&&C>r&&(r+=b,O=!0);break}return O?b:0},p=({movementY:b,y:C})=>{const{store:w}=t.value,E=w.canvasState.scrollTop+c(b,a()),T=w.editorState.viewport.height-w.canvasState.height,I=0,_=b<0?Zr.top:Zr.bottom;let k=!1;switch(_){case Zr.top:E<I&&C<i&&(i+=b,k=!0);break;case Zr.bottom:E>T&&C>i&&(i+=b,k=!0);break}return k?b:0},m=b=>{const{event:C}=b;C.type==="mousemove"&&C.preventDefault();const w=n.selected==="vertical",E=n.selected==="horizontal",T=d(b),I=p(b),{store:_}=t.value;w&&I!==0?_.dispatch(pr(0,c(I,a()))):E&&T!==0&&_.dispatch(pr(c(T,o()),0))};return{state:n,onScrollLeftStart:b=>{const{globalEvent:{drag$:C}}=t.value;n.selected="horizontal",r=b.clientX,C.subscribe({next:m,complete:()=>{n.selected=null}})},onScrollTopStart:b=>{const{globalEvent:{drag$:C}}=t.value;n.selected="vertical",i=b.clientY,C.subscribe({next:m,complete:()=>{n.selected=null}})},getWidthRatio:o,getHeightRatio:a}}fe("vuerd-virtual-scroll",{shadow:!1,render:(e,t)=>{const n=ke(t),{state:r,getWidthRatio:i,getHeightRatio:o,onScrollLeftStart:a,onScrollTopStart:c}=BR(t),d=Rt(".vuerd-erd-virtual-scroll-horizontal"),p=Rt(".vuerd-erd-virtual-scroll-vertical"),m=y=>{const b=y.target;if(!b||!!b.closest(".virtual-scroll-ghost-thumb"))return;const{store:w}=n.value,E=Qn(w),T=i(),_=d.value.getBoundingClientRect(),D=(y.clientX-_.x)/T-E.width/2;w.dispatch(yi(w.canvasState.scrollTop,-1*D)),a(y)},g=y=>{const b=y.target;if(!b||!!b.closest(".virtual-scroll-ghost-thumb"))return;const{store:w}=n.value,E=Qn(w),T=o(),_=p.value.getBoundingClientRect(),D=(y.clientY-_.y)/T-E.height/2;w.dispatch(yi(-1*D,w.canvasState.scrollLeft)),c(y)};return()=>{const{store:y}=n.value,b=Qn(y),{width:C,height:w,scrollLeft:E,scrollTop:T}=y.canvasState,I=i(),_=o(),k=b.width*I,O=b.height*_,M=-1*E*I,D=-1*T*_,P=b.width<C,Y=b.height<w;return V`
      ${P?V`
            <div
              class="virtual-scroll vuerd-erd-virtual-scroll-horizontal"
              @mousedown=${m}
            >
              <div
                class="virtual-scroll-ghost-thumb ghostThumb"
                style=${ye({width:`${k}px`,height:"100%",transform:`translate(${M}px, 0px)`})}
                ?data-selected=${r.selected==="horizontal"}
                @mousedown=${a}
              >
                <div class="horizontalThumb"></div>
              </div>
            </div>
          `:null}
      ${Y?V`
            <div
              class="virtual-scroll vuerd-erd-virtual-scroll-vertical"
              @mousedown=${g}
            >
              <div
                class="virtual-scroll-ghost-thumb ghostThumb"
                style=${ye({width:"100%",height:`${O}px`,transform:`translate(0px, ${D}px)`})}
                ?data-selected=${r.selected==="vertical"}
                @mousedown=${c}
              >
                <div class="verticalThumb"></div>
              </div>
            </div>
          `:null}
    `}}});const UR={nameWidth:80,keymapWidth:0,close:!1},Tl=({store:e})=>Oy.map(t=>({icon:e.canvasState.database===t?{prefix:"fas",name:"check"}:void 0,name:t,execute:()=>e.dispatch(Iu(t)),options:{...UR}}));class d1 extends Map{constructor(t,n=FR){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(f1(this,t))}has(t){return super.has(f1(this,t))}set(t,n){return super.set(zR(this,t),n)}delete(t){return super.delete(jR(this,t))}}function f1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function zR({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function jR({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function FR(e){return e!==null&&typeof e=="object"?e.valueOf():e}var HR={value:()=>{}};function El(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Il(n)}function Il(e){this._=e}function GR(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Il.prototype=El.prototype={constructor:Il,on:function(e,t){var n=this._,r=GR(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=VR(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=h1(n[i],e.name,t);else if(t==null)for(i in n)n[i]=h1(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Il(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function VR(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function h1(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=HR,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Jd="http://www.w3.org/1999/xhtml";const p1={svg:"http://www.w3.org/2000/svg",xhtml:Jd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Sl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),p1.hasOwnProperty(t)?{space:p1[t],local:e}:e}function YR(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Jd&&t.documentElement.namespaceURI===Jd?t.createElement(e):t.createElementNS(n,e)}}function XR(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ef(e){var t=Sl(e);return(t.local?XR:YR)(t)}function KR(){}function tf(e){return e==null?KR:function(){return this.querySelector(e)}}function WR(e){typeof e!="function"&&(e=tf(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,c=r[i]=new Array(a),d,p,m=0;m<a;++m)(d=o[m])&&(p=e.call(d,d.__data__,m,o))&&("__data__"in d&&(p.__data__=d.__data__),c[m]=p);return new gn(r,this._parents)}function ZR(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function QR(){return[]}function m1(e){return e==null?QR:function(){return this.querySelectorAll(e)}}function qR(e){return function(){return ZR(e.apply(this,arguments))}}function JR(e){typeof e=="function"?e=qR(e):e=m1(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],c=a.length,d,p=0;p<c;++p)(d=a[p])&&(r.push(e.call(d,d.__data__,p,a)),i.push(d));return new gn(r,i)}function g1(e){return function(){return this.matches(e)}}function v1(e){return function(t){return t.matches(e)}}var e8=Array.prototype.find;function t8(e){return function(){return e8.call(this.children,e)}}function n8(){return this.firstElementChild}function r8(e){return this.select(e==null?n8:t8(typeof e=="function"?e:v1(e)))}var i8=Array.prototype.filter;function o8(){return Array.from(this.children)}function a8(e){return function(){return i8.call(this.children,e)}}function s8(e){return this.selectAll(e==null?o8:a8(typeof e=="function"?e:v1(e)))}function l8(e){typeof e!="function"&&(e=g1(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,c=r[i]=[],d,p=0;p<a;++p)(d=o[p])&&e.call(d,d.__data__,p,o)&&c.push(d);return new gn(r,this._parents)}function y1(e){return new Array(e.length)}function c8(){return new gn(this._enter||this._groups.map(y1),this._parents)}function _l(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}_l.prototype={constructor:_l,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function u8(e){return function(){return e}}function d8(e,t,n,r,i,o){for(var a=0,c,d=t.length,p=o.length;a<p;++a)(c=t[a])?(c.__data__=o[a],r[a]=c):n[a]=new _l(e,o[a]);for(;a<d;++a)(c=t[a])&&(i[a]=c)}function f8(e,t,n,r,i,o,a){var c,d,p=new Map,m=t.length,g=o.length,y=new Array(m),b;for(c=0;c<m;++c)(d=t[c])&&(y[c]=b=a.call(d,d.__data__,c,t)+"",p.has(b)?i[c]=d:p.set(b,d));for(c=0;c<g;++c)b=a.call(e,o[c],c,o)+"",(d=p.get(b))?(r[c]=d,d.__data__=o[c],p.delete(b)):n[c]=new _l(e,o[c]);for(c=0;c<m;++c)(d=t[c])&&p.get(y[c])===d&&(i[c]=d)}function h8(e){return e.__data__}function p8(e,t){if(!arguments.length)return Array.from(this,h8);var n=t?f8:d8,r=this._parents,i=this._groups;typeof e!="function"&&(e=u8(e));for(var o=i.length,a=new Array(o),c=new Array(o),d=new Array(o),p=0;p<o;++p){var m=r[p],g=i[p],y=g.length,b=m8(e.call(m,m&&m.__data__,p,r)),C=b.length,w=c[p]=new Array(C),E=a[p]=new Array(C),T=d[p]=new Array(y);n(m,g,w,E,T,b,t);for(var I=0,_=0,k,O;I<C;++I)if(k=w[I]){for(I>=_&&(_=I+1);!(O=E[_])&&++_<C;);k._next=O||null}}return a=new gn(a,r),a._enter=c,a._exit=d,a}function m8(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function g8(){return new gn(this._exit||this._groups.map(y1),this._parents)}function v8(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function y8(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),c=new Array(i),d=0;d<a;++d)for(var p=n[d],m=r[d],g=p.length,y=c[d]=new Array(g),b,C=0;C<g;++C)(b=p[C]||m[C])&&(y[C]=b);for(;d<i;++d)c[d]=n[d];return new gn(c,this._parents)}function b8(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function x8(e){e||(e=w8);function t(g,y){return g&&y?e(g.__data__,y.__data__):!g-!y}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],c=a.length,d=i[o]=new Array(c),p,m=0;m<c;++m)(p=a[m])&&(d[m]=p);d.sort(t)}return new gn(i,this._parents).order()}function w8(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function C8(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function k8(){return Array.from(this)}function $8(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function T8(){let e=0;for(const t of this)++e;return e}function E8(){return!this.node()}function I8(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,c;o<a;++o)(c=i[o])&&e.call(c,c.__data__,o,i);return this}function S8(e){return function(){this.removeAttribute(e)}}function _8(e){return function(){this.removeAttributeNS(e.space,e.local)}}function A8(e,t){return function(){this.setAttribute(e,t)}}function N8(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function O8(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function M8(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function D8(e,t){var n=Sl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?_8:S8:typeof t=="function"?n.local?M8:O8:n.local?N8:A8)(n,t))}function b1(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function R8(e){return function(){this.style.removeProperty(e)}}function L8(e,t,n){return function(){this.style.setProperty(e,t,n)}}function P8(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function B8(e,t,n){return arguments.length>1?this.each((t==null?R8:typeof t=="function"?P8:L8)(e,t,n??"")):To(this.node(),e)}function To(e,t){return e.style.getPropertyValue(t)||b1(e).getComputedStyle(e,null).getPropertyValue(t)}function U8(e){return function(){delete this[e]}}function z8(e,t){return function(){this[e]=t}}function j8(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function F8(e,t){return arguments.length>1?this.each((t==null?U8:typeof t=="function"?j8:z8)(e,t)):this.node()[e]}function x1(e){return e.trim().split(/^|\s+/)}function nf(e){return e.classList||new w1(e)}function w1(e){this._node=e,this._names=x1(e.getAttribute("class")||"")}w1.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function C1(e,t){for(var n=nf(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function k1(e,t){for(var n=nf(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function H8(e){return function(){C1(this,e)}}function G8(e){return function(){k1(this,e)}}function V8(e,t){return function(){(t.apply(this,arguments)?C1:k1)(this,e)}}function Y8(e,t){var n=x1(e+"");if(arguments.length<2){for(var r=nf(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?V8:t?H8:G8)(n,t))}function X8(){this.textContent=""}function K8(e){return function(){this.textContent=e}}function W8(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Z8(e){return arguments.length?this.each(e==null?X8:(typeof e=="function"?W8:K8)(e)):this.node().textContent}function Q8(){this.innerHTML=""}function q8(e){return function(){this.innerHTML=e}}function J8(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function eL(e){return arguments.length?this.each(e==null?Q8:(typeof e=="function"?J8:q8)(e)):this.node().innerHTML}function tL(){this.nextSibling&&this.parentNode.appendChild(this)}function nL(){return this.each(tL)}function rL(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function iL(){return this.each(rL)}function oL(e){var t=typeof e=="function"?e:ef(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function aL(){return null}function sL(e,t){var n=typeof e=="function"?e:ef(e),r=t==null?aL:typeof t=="function"?t:tf(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function lL(){var e=this.parentNode;e&&e.removeChild(this)}function cL(){return this.each(lL)}function uL(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function dL(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fL(e){return this.select(e?dL:uL)}function hL(e){return arguments.length?this.property("__data__",e):this.node().__data__}function pL(e){return function(t){e.call(this,t,this.__data__)}}function mL(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function gL(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function vL(e,t,n){return function(){var r=this.__on,i,o=pL(t);if(r){for(var a=0,c=r.length;a<c;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function yL(e,t,n){var r=mL(e+""),i,o=r.length,a;if(arguments.length<2){var c=this.node().__on;if(c){for(var d=0,p=c.length,m;d<p;++d)for(i=0,m=c[d];i<o;++i)if((a=r[i]).type===m.type&&a.name===m.name)return m.value}return}for(c=t?vL:gL,i=0;i<o;++i)this.each(c(r[i],t,n));return this}function $1(e,t,n){var r=b1(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function bL(e,t){return function(){return $1(this,e,t)}}function xL(e,t){return function(){return $1(this,e,t.apply(this,arguments))}}function wL(e,t){return this.each((typeof t=="function"?xL:bL)(e,t))}function*CL(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var T1=[null];function gn(e,t){this._groups=e,this._parents=t}function Na(){return new gn([[document.documentElement]],T1)}function kL(){return this}gn.prototype=Na.prototype={constructor:gn,select:WR,selectAll:JR,selectChild:r8,selectChildren:s8,filter:l8,data:p8,enter:c8,exit:g8,join:v8,merge:y8,selection:kL,order:b8,sort:x8,call:C8,nodes:k8,node:$8,size:T8,empty:E8,each:I8,attr:D8,style:B8,property:F8,classed:Y8,text:Z8,html:eL,raise:nL,lower:iL,append:oL,insert:sL,remove:cL,clone:fL,datum:hL,on:yL,dispatch:wL,[Symbol.iterator]:CL};function Oa(e){return typeof e=="string"?new gn([[document.querySelector(e)]],[document.documentElement]):new gn([[e]],T1)}function $L(e){return Oa(ef(e).call(document.documentElement))}function TL(e){let t;for(;t=e.sourceEvent;)e=t;return e}function E1(e,t){if(e=TL(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const EL={passive:!1},Ma={capture:!0,passive:!1};function rf(e){e.stopImmediatePropagation()}function Eo(e){e.preventDefault(),e.stopImmediatePropagation()}function IL(e){var t=e.document.documentElement,n=Oa(e).on("dragstart.drag",Eo,Ma);"onselectstart"in t?n.on("selectstart.drag",Eo,Ma):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function SL(e,t){var n=e.document.documentElement,r=Oa(e).on("dragstart.drag",null);t&&(r.on("click.drag",Eo,Ma),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Al=e=>()=>e;function of(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:c,dx:d,dy:p,dispatch:m}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:p,enumerable:!0,configurable:!0},_:{value:m}})}of.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function _L(e){return!e.ctrlKey&&!e.button}function AL(){return this.parentNode}function NL(e,t){return t??{x:e.x,y:e.y}}function OL(){return navigator.maxTouchPoints||"ontouchstart"in this}function ML(){var e=_L,t=AL,n=NL,r=OL,i={},o=El("start","drag","end"),a=0,c,d,p,m,g=0;function y(k){k.on("mousedown.drag",b).filter(r).on("touchstart.drag",E).on("touchmove.drag",T,EL).on("touchend.drag touchcancel.drag",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(k,O){if(!(m||!e.call(this,k,O))){var M=_(this,t.call(this,k,O),k,O,"mouse");M&&(Oa(k.view).on("mousemove.drag",C,Ma).on("mouseup.drag",w,Ma),IL(k.view),rf(k),p=!1,c=k.clientX,d=k.clientY,M("start",k))}}function C(k){if(Eo(k),!p){var O=k.clientX-c,M=k.clientY-d;p=O*O+M*M>g}i.mouse("drag",k)}function w(k){Oa(k.view).on("mousemove.drag mouseup.drag",null),SL(k.view,p),Eo(k),i.mouse("end",k)}function E(k,O){if(e.call(this,k,O)){var M=k.changedTouches,D=t.call(this,k,O),P=M.length,Y,H;for(Y=0;Y<P;++Y)(H=_(this,D,k,O,M[Y].identifier,M[Y]))&&(rf(k),H("start",k,M[Y]))}}function T(k){var O=k.changedTouches,M=O.length,D,P;for(D=0;D<M;++D)(P=i[O[D].identifier])&&(Eo(k),P("drag",k,O[D]))}function I(k){var O=k.changedTouches,M=O.length,D,P;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),D=0;D<M;++D)(P=i[O[D].identifier])&&(rf(k),P("end",k,O[D]))}function _(k,O,M,D,P,Y){var H=o.copy(),X=E1(Y||M,O),j,F,ge;if((ge=n.call(k,new of("beforestart",{sourceEvent:M,target:y,identifier:P,active:a,x:X[0],y:X[1],dx:0,dy:0,dispatch:H}),D))!=null)return j=ge.x-X[0]||0,F=ge.y-X[1]||0,function Te(ne,ut,dt){var Pt=X,He;switch(ne){case"start":i[P]=Te,He=a++;break;case"end":delete i[P],--a;case"drag":X=E1(dt||ut,O),He=a;break}H.call(ne,k,new of(ne,{sourceEvent:ut,subject:ge,target:y,identifier:P,active:He,x:X[0]+j,y:X[1]+F,dx:X[0]-Pt[0],dy:X[1]-Pt[1],dispatch:H}),D)}}return y.filter=function(k){return arguments.length?(e=typeof k=="function"?k:Al(!!k),y):e},y.container=function(k){return arguments.length?(t=typeof k=="function"?k:Al(k),y):t},y.subject=function(k){return arguments.length?(n=typeof k=="function"?k:Al(k),y):n},y.touchable=function(k){return arguments.length?(r=typeof k=="function"?k:Al(!!k),y):r},y.on=function(){var k=o.on.apply(o,arguments);return k===o?y:k},y.clickDistance=function(k){return arguments.length?(g=(k=+k)*k,y):Math.sqrt(g)},y}function af(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function I1(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Da(){}var Ra=.7,Nl=1/Ra,Io="\\s*([+-]?\\d+)\\s*",La="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",DL=/^#([0-9a-f]{3,8})$/,RL=new RegExp(`^rgb\\(${Io},${Io},${Io}\\)$`),LL=new RegExp(`^rgb\\(${Jn},${Jn},${Jn}\\)$`),PL=new RegExp(`^rgba\\(${Io},${Io},${Io},${La}\\)$`),BL=new RegExp(`^rgba\\(${Jn},${Jn},${Jn},${La}\\)$`),UL=new RegExp(`^hsl\\(${La},${Jn},${Jn}\\)$`),zL=new RegExp(`^hsla\\(${La},${Jn},${Jn},${La}\\)$`),S1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};af(Da,Pa,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_1,formatHex:_1,formatHex8:jL,formatHsl:FL,formatRgb:A1,toString:A1});function _1(){return this.rgb().formatHex()}function jL(){return this.rgb().formatHex8()}function FL(){return R1(this).formatHsl()}function A1(){return this.rgb().formatRgb()}function Pa(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=DL.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?N1(t):n===3?new nn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ol(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ol(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RL.exec(e))?new nn(t[1],t[2],t[3],1):(t=LL.exec(e))?new nn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=PL.exec(e))?Ol(t[1],t[2],t[3],t[4]):(t=BL.exec(e))?Ol(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=UL.exec(e))?D1(t[1],t[2]/100,t[3]/100,1):(t=zL.exec(e))?D1(t[1],t[2]/100,t[3]/100,t[4]):S1.hasOwnProperty(e)?N1(S1[e]):e==="transparent"?new nn(NaN,NaN,NaN,0):null}function N1(e){return new nn(e>>16&255,e>>8&255,e&255,1)}function Ol(e,t,n,r){return r<=0&&(e=t=n=NaN),new nn(e,t,n,r)}function HL(e){return e instanceof Da||(e=Pa(e)),e?(e=e.rgb(),new nn(e.r,e.g,e.b,e.opacity)):new nn}function sf(e,t,n,r){return arguments.length===1?HL(e):new nn(e,t,n,r??1)}function nn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}af(nn,sf,I1(Da,{brighter(e){return e=e==null?Nl:Math.pow(Nl,e),new nn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ra:Math.pow(Ra,e),new nn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new nn(ki(this.r),ki(this.g),ki(this.b),Ml(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:O1,formatHex:O1,formatHex8:GL,formatRgb:M1,toString:M1}));function O1(){return`#${$i(this.r)}${$i(this.g)}${$i(this.b)}`}function GL(){return`#${$i(this.r)}${$i(this.g)}${$i(this.b)}${$i((isNaN(this.opacity)?1:this.opacity)*255)}`}function M1(){const e=Ml(this.opacity);return`${e===1?"rgb(":"rgba("}${ki(this.r)}, ${ki(this.g)}, ${ki(this.b)}${e===1?")":`, ${e})`}`}function Ml(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ki(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $i(e){return e=ki(e),(e<16?"0":"")+e.toString(16)}function D1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new zn(e,t,n,r)}function R1(e){if(e instanceof zn)return new zn(e.h,e.s,e.l,e.opacity);if(e instanceof Da||(e=Pa(e)),!e)return new zn;if(e instanceof zn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,c=o-i,d=(o+i)/2;return c?(t===o?a=(n-r)/c+(n<r)*6:n===o?a=(r-t)/c+2:a=(t-n)/c+4,c/=d<.5?o+i:2-o-i,a*=60):c=d>0&&d<1?0:a,new zn(a,c,d,e.opacity)}function VL(e,t,n,r){return arguments.length===1?R1(e):new zn(e,t,n,r??1)}function zn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}af(zn,VL,I1(Da,{brighter(e){return e=e==null?Nl:Math.pow(Nl,e),new zn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ra:Math.pow(Ra,e),new zn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new nn(lf(e>=240?e-240:e+120,i,r),lf(e,i,r),lf(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new zn(L1(this.h),Dl(this.s),Dl(this.l),Ml(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ml(this.opacity);return`${e===1?"hsl(":"hsla("}${L1(this.h)}, ${Dl(this.s)*100}%, ${Dl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function L1(e){return e=(e||0)%360,e<0?e+360:e}function Dl(e){return Math.max(0,Math.min(1,e||0))}function lf(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const P1=e=>()=>e;function YL(e,t){return function(n){return e+n*t}}function XL(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function KL(e){return(e=+e)==1?B1:function(t,n){return n-t?XL(t,n,e):P1(isNaN(t)?n:t)}}function B1(e,t){var n=t-e;return n?YL(e,n):P1(isNaN(e)?t:e)}const U1=function e(t){var n=KL(t);function r(i,o){var a=n((i=sf(i)).r,(o=sf(o)).r),c=n(i.g,o.g),d=n(i.b,o.b),p=B1(i.opacity,o.opacity);return function(m){return i.r=a(m),i.g=c(m),i.b=d(m),i.opacity=p(m),i+""}}return r.gamma=e,r}(1);function Qr(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var cf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uf=new RegExp(cf.source,"g");function WL(e){return function(){return e}}function ZL(e){return function(t){return e(t)+""}}function QL(e,t){var n=cf.lastIndex=uf.lastIndex=0,r,i,o,a=-1,c=[],d=[];for(e=e+"",t=t+"";(r=cf.exec(e))&&(i=uf.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),c[a]?c[a]+=o:c[++a]=o),(r=r[0])===(i=i[0])?c[a]?c[a]+=i:c[++a]=i:(c[++a]=null,d.push({i:a,x:Qr(r,i)})),n=uf.lastIndex;return n<t.length&&(o=t.slice(n),c[a]?c[a]+=o:c[++a]=o),c.length<2?d[0]?ZL(d[0].x):WL(t):(t=d.length,function(p){for(var m=0,g;m<t;++m)c[(g=d[m]).i]=g.x(p);return c.join("")})}var z1=180/Math.PI,df={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function j1(e,t,n,r,i,o){var a,c,d;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(d=e*n+t*r)&&(n-=e*d,r-=t*d),(c=Math.sqrt(n*n+r*r))&&(n/=c,r/=c,d/=c),e*r<t*n&&(e=-e,t=-t,d=-d,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*z1,skewX:Math.atan(d)*z1,scaleX:a,scaleY:c}}var Rl;function qL(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?df:j1(t.a,t.b,t.c,t.d,t.e,t.f)}function JL(e){return e==null||(Rl||(Rl=document.createElementNS("http://www.w3.org/2000/svg","g")),Rl.setAttribute("transform",e),!(e=Rl.transform.baseVal.consolidate()))?df:(e=e.matrix,j1(e.a,e.b,e.c,e.d,e.e,e.f))}function F1(e,t,n,r){function i(p){return p.length?p.pop()+" ":""}function o(p,m,g,y,b,C){if(p!==g||m!==y){var w=b.push("translate(",null,t,null,n);C.push({i:w-4,x:Qr(p,g)},{i:w-2,x:Qr(m,y)})}else(g||y)&&b.push("translate("+g+t+y+n)}function a(p,m,g,y){p!==m?(p-m>180?m+=360:m-p>180&&(p+=360),y.push({i:g.push(i(g)+"rotate(",null,r)-2,x:Qr(p,m)})):m&&g.push(i(g)+"rotate("+m+r)}function c(p,m,g,y){p!==m?y.push({i:g.push(i(g)+"skewX(",null,r)-2,x:Qr(p,m)}):m&&g.push(i(g)+"skewX("+m+r)}function d(p,m,g,y,b,C){if(p!==g||m!==y){var w=b.push(i(b)+"scale(",null,",",null,")");C.push({i:w-4,x:Qr(p,g)},{i:w-2,x:Qr(m,y)})}else(g!==1||y!==1)&&b.push(i(b)+"scale("+g+","+y+")")}return function(p,m){var g=[],y=[];return p=e(p),m=e(m),o(p.translateX,p.translateY,m.translateX,m.translateY,g,y),a(p.rotate,m.rotate,g,y),c(p.skewX,m.skewX,g,y),d(p.scaleX,p.scaleY,m.scaleX,m.scaleY,g,y),p=m=null,function(b){for(var C=-1,w=y.length,E;++C<w;)g[(E=y[C]).i]=E.x(b);return g.join("")}}}var e9=F1(qL,"px, ","px)","deg)"),t9=F1(JL,", ",")",")"),So=0,Ba=0,Ua=0,H1=1e3,Ll,za,Pl=0,Ti=0,Bl=0,ja=typeof performance=="object"&&performance.now?performance:Date,G1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ff(){return Ti||(G1(n9),Ti=ja.now()+Bl)}function n9(){Ti=0}function Ul(){this._call=this._time=this._next=null}Ul.prototype=hf.prototype={constructor:Ul,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ff():+n)+(t==null?0:+t),!this._next&&za!==this&&(za?za._next=this:Ll=this,za=this),this._call=e,this._time=n,pf()},stop:function(){this._call&&(this._call=null,this._time=1/0,pf())}};function hf(e,t,n){var r=new Ul;return r.restart(e,t,n),r}function r9(){ff(),++So;for(var e=Ll,t;e;)(t=Ti-e._time)>=0&&e._call.call(void 0,t),e=e._next;--So}function V1(){Ti=(Pl=ja.now())+Bl,So=Ba=0;try{r9()}finally{So=0,o9(),Ti=0}}function i9(){var e=ja.now(),t=e-Pl;t>H1&&(Bl-=t,Pl=e)}function o9(){for(var e,t=Ll,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ll=n);za=e,pf(r)}function pf(e){if(!So){Ba&&(Ba=clearTimeout(Ba));var t=e-Ti;t>24?(e<1/0&&(Ba=setTimeout(V1,e-ja.now()-Bl)),Ua&&(Ua=clearInterval(Ua))):(Ua||(Pl=ja.now(),Ua=setInterval(i9,H1)),So=1,G1(V1))}}function Y1(e,t,n){var r=new Ul;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var a9=El("start","end","cancel","interrupt"),s9=[],X1=0,K1=1,mf=2,zl=3,W1=4,gf=5,jl=6;function Fl(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;l9(e,n,{name:t,index:r,group:i,on:a9,tween:s9,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:X1})}function vf(e,t){var n=jn(e,t);if(n.state>X1)throw new Error("too late; already scheduled");return n}function er(e,t){var n=jn(e,t);if(n.state>zl)throw new Error("too late; already running");return n}function jn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function l9(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=hf(o,0,n.time);function o(p){n.state=K1,n.timer.restart(a,n.delay,n.time),n.delay<=p&&a(p-n.delay)}function a(p){var m,g,y,b;if(n.state!==K1)return d();for(m in r)if(b=r[m],b.name===n.name){if(b.state===zl)return Y1(a);b.state===W1?(b.state=jl,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete r[m]):+m<t&&(b.state=jl,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete r[m])}if(Y1(function(){n.state===zl&&(n.state=W1,n.timer.restart(c,n.delay,n.time),c(p))}),n.state=mf,n.on.call("start",e,e.__data__,n.index,n.group),n.state===mf){for(n.state=zl,i=new Array(y=n.tween.length),m=0,g=-1;m<y;++m)(b=n.tween[m].value.call(e,e.__data__,n.index,n.group))&&(i[++g]=b);i.length=g+1}}function c(p){for(var m=p<n.duration?n.ease.call(null,p/n.duration):(n.timer.restart(d),n.state=gf,1),g=-1,y=i.length;++g<y;)i[g].call(e,m);n.state===gf&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=jl,n.timer.stop(),delete r[t];for(var p in r)return;delete e.__transition}}function c9(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>mf&&r.state<gf,r.state=jl,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function u9(e){return this.each(function(){c9(this,e)})}function d9(e,t){var n,r;return function(){var i=er(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,c=r.length;a<c;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function f9(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=er(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var c={name:t,value:n},d=0,p=i.length;d<p;++d)if(i[d].name===t){i[d]=c;break}d===p&&i.push(c)}o.tween=i}}function h9(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=jn(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?d9:f9)(n,e,t))}function yf(e,t,n){var r=e._id;return e.each(function(){var i=er(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return jn(i,r).value[t]}}function Z1(e,t){var n;return(typeof t=="number"?Qr:t instanceof Pa?U1:(n=Pa(t))?(t=n,U1):QL)(e,t)}function p9(e){return function(){this.removeAttribute(e)}}function m9(e){return function(){this.removeAttributeNS(e.space,e.local)}}function g9(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function v9(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function y9(e,t,n){var r,i,o;return function(){var a,c=n(this),d;return c==null?void this.removeAttribute(e):(a=this.getAttribute(e),d=c+"",a===d?null:a===r&&d===i?o:(i=d,o=t(r=a,c)))}}function b9(e,t,n){var r,i,o;return function(){var a,c=n(this),d;return c==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),d=c+"",a===d?null:a===r&&d===i?o:(i=d,o=t(r=a,c)))}}function x9(e,t){var n=Sl(e),r=n==="transform"?t9:Z1;return this.attrTween(e,typeof t=="function"?(n.local?b9:y9)(n,r,yf(this,"attr."+e,t)):t==null?(n.local?m9:p9)(n):(n.local?v9:g9)(n,r,t))}function w9(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function C9(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function k9(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&C9(e,o)),n}return i._value=t,i}function $9(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&w9(e,o)),n}return i._value=t,i}function T9(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Sl(e);return this.tween(n,(r.local?k9:$9)(r,t))}function E9(e,t){return function(){vf(this,e).delay=+t.apply(this,arguments)}}function I9(e,t){return t=+t,function(){vf(this,e).delay=t}}function S9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?E9:I9)(t,e)):jn(this.node(),t).delay}function _9(e,t){return function(){er(this,e).duration=+t.apply(this,arguments)}}function A9(e,t){return t=+t,function(){er(this,e).duration=t}}function N9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_9:A9)(t,e)):jn(this.node(),t).duration}function O9(e,t){if(typeof t!="function")throw new Error;return function(){er(this,e).ease=t}}function M9(e){var t=this._id;return arguments.length?this.each(O9(t,e)):jn(this.node(),t).ease}function D9(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;er(this,e).ease=n}}function R9(e){if(typeof e!="function")throw new Error;return this.each(D9(this._id,e))}function L9(e){typeof e!="function"&&(e=g1(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,c=r[i]=[],d,p=0;p<a;++p)(d=o[p])&&e.call(d,d.__data__,p,o)&&c.push(d);return new yr(r,this._parents,this._name,this._id)}function P9(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),c=0;c<o;++c)for(var d=t[c],p=n[c],m=d.length,g=a[c]=new Array(m),y,b=0;b<m;++b)(y=d[b]||p[b])&&(g[b]=y);for(;c<r;++c)a[c]=t[c];return new yr(a,this._parents,this._name,this._id)}function B9(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function U9(e,t,n){var r,i,o=B9(t)?vf:er;return function(){var a=o(this,e),c=a.on;c!==r&&(i=(r=c).copy()).on(t,n),a.on=i}}function z9(e,t){var n=this._id;return arguments.length<2?jn(this.node(),n).on.on(e):this.each(U9(n,e,t))}function j9(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function F9(){return this.on("end.remove",j9(this._id))}function H9(e){var t=this._name,n=this._id;typeof e!="function"&&(e=tf(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var c=r[a],d=c.length,p=o[a]=new Array(d),m,g,y=0;y<d;++y)(m=c[y])&&(g=e.call(m,m.__data__,y,c))&&("__data__"in m&&(g.__data__=m.__data__),p[y]=g,Fl(p[y],t,n,y,p,jn(m,n)));return new yr(o,this._parents,t,n)}function G9(e){var t=this._name,n=this._id;typeof e!="function"&&(e=m1(e));for(var r=this._groups,i=r.length,o=[],a=[],c=0;c<i;++c)for(var d=r[c],p=d.length,m,g=0;g<p;++g)if(m=d[g]){for(var y=e.call(m,m.__data__,g,d),b,C=jn(m,n),w=0,E=y.length;w<E;++w)(b=y[w])&&Fl(b,t,n,w,y,C);o.push(y),a.push(m)}return new yr(o,a,t,n)}var V9=Na.prototype.constructor;function Y9(){return new V9(this._groups,this._parents)}function X9(e,t){var n,r,i;return function(){var o=To(this,e),a=(this.style.removeProperty(e),To(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function Q1(e){return function(){this.style.removeProperty(e)}}function K9(e,t,n){var r,i=n+"",o;return function(){var a=To(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function W9(e,t,n){var r,i,o;return function(){var a=To(this,e),c=n(this),d=c+"";return c==null&&(d=c=(this.style.removeProperty(e),To(this,e))),a===d?null:a===r&&d===i?o:(i=d,o=t(r=a,c))}}function Z9(e,t){var n,r,i,o="style."+t,a="end."+o,c;return function(){var d=er(this,e),p=d.on,m=d.value[o]==null?c||(c=Q1(t)):void 0;(p!==n||i!==m)&&(r=(n=p).copy()).on(a,i=m),d.on=r}}function Q9(e,t,n){var r=(e+="")=="transform"?e9:Z1;return t==null?this.styleTween(e,X9(e,r)).on("end.style."+e,Q1(e)):typeof t=="function"?this.styleTween(e,W9(e,r,yf(this,"style."+e,t))).each(Z9(this._id,e)):this.styleTween(e,K9(e,r,t),n).on("end.style."+e,null)}function q9(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function J9(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&q9(e,a,n)),r}return o._value=t,o}function e7(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,J9(e,t,n??""))}function t7(e){return function(){this.textContent=e}}function n7(e){return function(){var t=e(this);this.textContent=t??""}}function r7(e){return this.tween("text",typeof e=="function"?n7(yf(this,"text",e)):t7(e==null?"":e+""))}function i7(e){return function(t){this.textContent=e.call(this,t)}}function o7(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&i7(i)),t}return r._value=e,r}function a7(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,o7(e))}function s7(){for(var e=this._name,t=this._id,n=q1(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],c=a.length,d,p=0;p<c;++p)if(d=a[p]){var m=jn(d,t);Fl(d,e,n,p,a,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new yr(r,this._parents,e,n)}function l7(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var c={value:a},d={value:function(){--i===0&&o()}};n.each(function(){var p=er(this,r),m=p.on;m!==e&&(t=(e=m).copy(),t._.cancel.push(c),t._.interrupt.push(c),t._.end.push(d)),p.on=t}),i===0&&o()})}var c7=0;function yr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function q1(){return++c7}var br=Na.prototype;yr.prototype={constructor:yr,select:H9,selectAll:G9,selectChild:br.selectChild,selectChildren:br.selectChildren,filter:L9,merge:P9,selection:Y9,transition:s7,call:br.call,nodes:br.nodes,node:br.node,size:br.size,empty:br.empty,each:br.each,on:z9,attr:x9,attrTween:T9,style:Q9,styleTween:e7,text:r7,textTween:a7,remove:F9,tween:h9,delay:S9,duration:N9,ease:M9,easeVarying:R9,end:l7,[Symbol.iterator]:br[Symbol.iterator]};function u7(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var d7={time:null,delay:0,duration:250,ease:u7};function f7(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function h7(e){var t,n;e instanceof yr?(t=e._id,e=e._name):(t=q1(),(n=d7).time=ff(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],c=a.length,d,p=0;p<c;++p)(d=a[p])&&Fl(d,e,t,p,a,n||f7(d,t));return new yr(r,this._parents,e,t)}Na.prototype.interrupt=u9,Na.prototype.transition=h7;function p7(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return J1(this.cover(t,n),t,n,e)}function J1(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,a={data:r},c=e._x0,d=e._y0,p=e._x1,m=e._y1,g,y,b,C,w,E,T,I;if(!o)return e._root=a,e;for(;o.length;)if((w=t>=(g=(c+p)/2))?c=g:p=g,(E=n>=(y=(d+m)/2))?d=y:m=y,i=o,!(o=o[T=E<<1|w]))return i[T]=a,e;if(b=+e._x.call(null,o.data),C=+e._y.call(null,o.data),t===b&&n===C)return a.next=o,i?i[T]=a:e._root=a,e;do i=i?i[T]=new Array(4):e._root=new Array(4),(w=t>=(g=(c+p)/2))?c=g:p=g,(E=n>=(y=(d+m)/2))?d=y:m=y;while((T=E<<1|w)===(I=(C>=y)<<1|b>=g));return i[I]=o,i[T]=a,e}function m7(e){var t,n,r=e.length,i,o,a=new Array(r),c=new Array(r),d=1/0,p=1/0,m=-1/0,g=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(a[n]=i,c[n]=o,i<d&&(d=i),i>m&&(m=i),o<p&&(p=o),o>g&&(g=o));if(d>m||p>g)return this;for(this.cover(d,p).cover(m,g),n=0;n<r;++n)J1(this,a[n],c[n],e[n]);return this}function g7(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var a=i-n||1,c=this._root,d,p;n>e||e>=i||r>t||t>=o;)switch(p=(t<r)<<1|e<n,d=new Array(4),d[p]=c,c=d,a*=2,p){case 0:i=n+a,o=r+a;break;case 1:n=i-a,o=r+a;break;case 2:i=n+a,r=o-a;break;case 3:n=i-a,r=o-a;break}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function v7(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function y7(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Kt(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function b7(e,t,n){var r,i=this._x0,o=this._y0,a,c,d,p,m=this._x1,g=this._y1,y=[],b=this._root,C,w;for(b&&y.push(new Kt(b,i,o,m,g)),n==null?n=1/0:(i=e-n,o=t-n,m=e+n,g=t+n,n*=n);C=y.pop();)if(!(!(b=C.node)||(a=C.x0)>m||(c=C.y0)>g||(d=C.x1)<i||(p=C.y1)<o))if(b.length){var E=(a+d)/2,T=(c+p)/2;y.push(new Kt(b[3],E,T,d,p),new Kt(b[2],a,T,E,p),new Kt(b[1],E,c,d,T),new Kt(b[0],a,c,E,T)),(w=(t>=T)<<1|e>=E)&&(C=y[y.length-1],y[y.length-1]=y[y.length-1-w],y[y.length-1-w]=C)}else{var I=e-+this._x.call(null,b.data),_=t-+this._y.call(null,b.data),k=I*I+_*_;if(k<n){var O=Math.sqrt(n=k);i=e-O,o=t-O,m=e+O,g=t+O,r=b.data}}return r}function x7(e){if(isNaN(m=+this._x.call(null,e))||isNaN(g=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,a=this._x0,c=this._y0,d=this._x1,p=this._y1,m,g,y,b,C,w,E,T;if(!n)return this;if(n.length)for(;;){if((C=m>=(y=(a+d)/2))?a=y:d=y,(w=g>=(b=(c+p)/2))?c=b:p=b,t=n,!(n=n[E=w<<1|C]))return this;if(!n.length)break;(t[E+1&3]||t[E+2&3]||t[E+3&3])&&(r=t,T=E)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[E]=o:delete t[E],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[T]=n:this._root=n),this):(this._root=o,this)}function w7(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function C7(){return this._root}function k7(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function $7(e){var t=[],n,r=this._root,i,o,a,c,d;for(r&&t.push(new Kt(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,a=n.y0,c=n.x1,d=n.y1)&&r.length){var p=(o+c)/2,m=(a+d)/2;(i=r[3])&&t.push(new Kt(i,p,m,c,d)),(i=r[2])&&t.push(new Kt(i,o,m,p,d)),(i=r[1])&&t.push(new Kt(i,p,a,c,m)),(i=r[0])&&t.push(new Kt(i,o,a,p,m))}return this}function T7(e){var t=[],n=[],r;for(this._root&&t.push(new Kt(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,a=r.x0,c=r.y0,d=r.x1,p=r.y1,m=(a+d)/2,g=(c+p)/2;(o=i[0])&&t.push(new Kt(o,a,c,m,g)),(o=i[1])&&t.push(new Kt(o,m,c,d,g)),(o=i[2])&&t.push(new Kt(o,a,g,m,p)),(o=i[3])&&t.push(new Kt(o,m,g,d,p))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function E7(e){return e[0]}function I7(e){return arguments.length?(this._x=e,this):this._x}function S7(e){return e[1]}function _7(e){return arguments.length?(this._y=e,this):this._y}function bf(e,t,n){var r=new xf(t??E7,n??S7,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function xf(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function eb(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Wt=bf.prototype=xf.prototype;Wt.copy=function(){var e=new xf(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=eb(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=eb(r));return e},Wt.add=p7,Wt.addAll=m7,Wt.cover=g7,Wt.data=v7,Wt.extent=y7,Wt.find=b7,Wt.remove=x7,Wt.removeAll=w7,Wt.root=C7,Wt.size=k7,Wt.visit=$7,Wt.visitAfter=T7,Wt.x=I7,Wt.y=_7;function Zt(e){return function(){return e}}function qr(e){return(e()-.5)*1e-6}function A7(e){return e.x+e.vx}function N7(e){return e.y+e.vy}function O7(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=Zt(e==null?1:+e));function a(){for(var p,m=t.length,g,y,b,C,w,E,T=0;T<o;++T)for(g=bf(t,A7,N7).visitAfter(c),p=0;p<m;++p)y=t[p],w=n[y.index],E=w*w,b=y.x+y.vx,C=y.y+y.vy,g.visit(I);function I(_,k,O,M,D){var P=_.data,Y=_.r,H=w+Y;if(P){if(P.index>y.index){var X=b-P.x-P.vx,j=C-P.y-P.vy,F=X*X+j*j;F<H*H&&(X===0&&(X=qr(r),F+=X*X),j===0&&(j=qr(r),F+=j*j),F=(H-(F=Math.sqrt(F)))/F*i,y.vx+=(X*=F)*(H=(Y*=Y)/(E+Y)),y.vy+=(j*=F)*H,P.vx-=X*(H=1-H),P.vy-=j*H)}return}return k>b+H||M<b-H||O>C+H||D<C-H}}function c(p){if(p.data)return p.r=n[p.data.index];for(var m=p.r=0;m<4;++m)p[m]&&p[m].r>p.r&&(p.r=p[m].r)}function d(){if(t){var p,m=t.length,g;for(n=new Array(m),p=0;p<m;++p)g=t[p],n[g.index]=+e(g,p,t)}}return a.initialize=function(p,m){t=p,r=m,d()},a.iterations=function(p){return arguments.length?(o=+p,a):o},a.strength=function(p){return arguments.length?(i=+p,a):i},a.radius=function(p){return arguments.length?(e=typeof p=="function"?p:Zt(+p),d(),a):e},a}function M7(e){return e.index}function tb(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function nb(e){var t=M7,n=g,r,i=Zt(30),o,a,c,d,p,m=1;e==null&&(e=[]);function g(E){return 1/Math.min(c[E.source.index],c[E.target.index])}function y(E){for(var T=0,I=e.length;T<m;++T)for(var _=0,k,O,M,D,P,Y,H;_<I;++_)k=e[_],O=k.source,M=k.target,D=M.x+M.vx-O.x-O.vx||qr(p),P=M.y+M.vy-O.y-O.vy||qr(p),Y=Math.sqrt(D*D+P*P),Y=(Y-o[_])/Y*E*r[_],D*=Y,P*=Y,M.vx-=D*(H=d[_]),M.vy-=P*H,O.vx+=D*(H=1-H),O.vy+=P*H}function b(){if(a){var E,T=a.length,I=e.length,_=new Map(a.map((O,M)=>[t(O,M,a),O])),k;for(E=0,c=new Array(T);E<I;++E)k=e[E],k.index=E,typeof k.source!="object"&&(k.source=tb(_,k.source)),typeof k.target!="object"&&(k.target=tb(_,k.target)),c[k.source.index]=(c[k.source.index]||0)+1,c[k.target.index]=(c[k.target.index]||0)+1;for(E=0,d=new Array(I);E<I;++E)k=e[E],d[E]=c[k.source.index]/(c[k.source.index]+c[k.target.index]);r=new Array(I),C(),o=new Array(I),w()}}function C(){if(a)for(var E=0,T=e.length;E<T;++E)r[E]=+n(e[E],E,e)}function w(){if(a)for(var E=0,T=e.length;E<T;++E)o[E]=+i(e[E],E,e)}return y.initialize=function(E,T){a=E,p=T,b()},y.links=function(E){return arguments.length?(e=E,b(),y):e},y.id=function(E){return arguments.length?(t=E,y):t},y.iterations=function(E){return arguments.length?(m=+E,y):m},y.strength=function(E){return arguments.length?(n=typeof E=="function"?E:Zt(+E),C(),y):n},y.distance=function(E){return arguments.length?(i=typeof E=="function"?E:Zt(+E),w(),y):i},y}const D7=1664525,R7=1013904223,rb=4294967296;function L7(){let e=1;return()=>(e=(D7*e+R7)%rb)/rb}function P7(e){return e.x}function B7(e){return e.y}var U7=10,z7=Math.PI*(3-Math.sqrt(5));function ib(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,c=new Map,d=hf(g),p=El("tick","end"),m=L7();e==null&&(e=[]);function g(){y(),p.call("tick",t),n<r&&(d.stop(),p.call("end",t))}function y(w){var E,T=e.length,I;w===void 0&&(w=1);for(var _=0;_<w;++_)for(n+=(o-n)*i,c.forEach(function(k){k(n)}),E=0;E<T;++E)I=e[E],I.fx==null?I.x+=I.vx*=a:(I.x=I.fx,I.vx=0),I.fy==null?I.y+=I.vy*=a:(I.y=I.fy,I.vy=0);return t}function b(){for(var w=0,E=e.length,T;w<E;++w){if(T=e[w],T.index=w,T.fx!=null&&(T.x=T.fx),T.fy!=null&&(T.y=T.fy),isNaN(T.x)||isNaN(T.y)){var I=U7*Math.sqrt(.5+w),_=w*z7;T.x=I*Math.cos(_),T.y=I*Math.sin(_)}(isNaN(T.vx)||isNaN(T.vy))&&(T.vx=T.vy=0)}}function C(w){return w.initialize&&w.initialize(e,m),w}return b(),t={tick:y,restart:function(){return d.restart(g),t},stop:function(){return d.stop(),t},nodes:function(w){return arguments.length?(e=w,b(),c.forEach(C),t):e},alpha:function(w){return arguments.length?(n=+w,t):n},alphaMin:function(w){return arguments.length?(r=+w,t):r},alphaDecay:function(w){return arguments.length?(i=+w,t):+i},alphaTarget:function(w){return arguments.length?(o=+w,t):o},velocityDecay:function(w){return arguments.length?(a=1-w,t):1-a},randomSource:function(w){return arguments.length?(m=w,c.forEach(C),t):m},force:function(w,E){return arguments.length>1?(E==null?c.delete(w):c.set(w,C(E)),t):c.get(w)},find:function(w,E,T){var I=0,_=e.length,k,O,M,D,P;for(T==null?T=1/0:T*=T,I=0;I<_;++I)D=e[I],k=w-D.x,O=E-D.y,M=k*k+O*O,M<T&&(P=D,T=M);return P},on:function(w,E){return arguments.length>1?(p.on(w,E),t):p.on(w)}}}function ob(){var e,t,n,r,i=Zt(-30),o,a=1,c=1/0,d=.81;function p(b){var C,w=e.length,E=bf(e,P7,B7).visitAfter(g);for(r=b,C=0;C<w;++C)t=e[C],E.visit(y)}function m(){if(e){var b,C=e.length,w;for(o=new Array(C),b=0;b<C;++b)w=e[b],o[w.index]=+i(w,b,e)}}function g(b){var C=0,w,E,T=0,I,_,k;if(b.length){for(I=_=k=0;k<4;++k)(w=b[k])&&(E=Math.abs(w.value))&&(C+=w.value,T+=E,I+=E*w.x,_+=E*w.y);b.x=I/T,b.y=_/T}else{w=b,w.x=w.data.x,w.y=w.data.y;do C+=o[w.data.index];while(w=w.next)}b.value=C}function y(b,C,w,E){if(!b.value)return!0;var T=b.x-t.x,I=b.y-t.y,_=E-C,k=T*T+I*I;if(_*_/d<k)return k<c&&(T===0&&(T=qr(n),k+=T*T),I===0&&(I=qr(n),k+=I*I),k<a&&(k=Math.sqrt(a*k)),t.vx+=T*b.value*r/k,t.vy+=I*b.value*r/k),!0;if(b.length||k>=c)return;(b.data!==t||b.next)&&(T===0&&(T=qr(n),k+=T*T),I===0&&(I=qr(n),k+=I*I),k<a&&(k=Math.sqrt(a*k)));do b.data!==t&&(_=o[b.data.index]*r/k,t.vx+=T*_,t.vy+=I*_);while(b=b.next)}return p.initialize=function(b,C){e=b,n=C,m()},p.strength=function(b){return arguments.length?(i=typeof b=="function"?b:Zt(+b),m(),p):i},p.distanceMin=function(b){return arguments.length?(a=b*b,p):Math.sqrt(a)},p.distanceMax=function(b){return arguments.length?(c=b*b,p):Math.sqrt(c)},p.theta=function(b){return arguments.length?(d=b*b,p):Math.sqrt(d)},p}function ab(e){var t=Zt(.1),n,r,i;typeof e!="function"&&(e=Zt(e==null?0:+e));function o(c){for(var d=0,p=n.length,m;d<p;++d)m=n[d],m.vx+=(i[d]-m.x)*r[d]*c}function a(){if(n){var c,d=n.length;for(r=new Array(d),i=new Array(d),c=0;c<d;++c)r[c]=isNaN(i[c]=+e(n[c],c,n))?0:+t(n[c],c,n)}}return o.initialize=function(c){n=c,a()},o.strength=function(c){return arguments.length?(t=typeof c=="function"?c:Zt(+c),a(),o):t},o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Zt(+c),a(),o):e},o}function sb(e){var t=Zt(.1),n,r,i;typeof e!="function"&&(e=Zt(e==null?0:+e));function o(c){for(var d=0,p=n.length,m;d<p;++d)m=n[d],m.vy+=(i[d]-m.y)*r[d]*c}function a(){if(n){var c,d=n.length;for(r=new Array(d),i=new Array(d),c=0;c<d;++c)r[c]=isNaN(i[c]=+e(n[c],c,n))?0:+t(n[c],c,n)}}return o.initialize=function(c){n=c,a()},o.strength=function(c){return arguments.length?(t=typeof c=="function"?c:Zt(+c),a(),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:Zt(+c),a(),o):e},o}function j7(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const lb=Symbol("implicit");function cb(){var e=new d1,t=[],n=[],r=lb;function i(o){let a=e.get(o);if(a===void 0){if(r!==lb)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new d1;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return cb(t,n).unknown(r)},j7.apply(i,arguments),i}function F7(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const H7=F7("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function Fa(e,t,n){this.k=e,this.x=t,this.y=n}Fa.prototype={constructor:Fa,scale:function(e){return e===1?this:new Fa(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Fa(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},Fa.prototype;const G7=fr(cp,.7);function V7(e,t,n){let r=!0;for(const i of e)if(i.source===t&&i.target===n){r=!1;break}return r}function Y7(e,t,n,r){const i=[],o=[];return e.forEach(a=>{i.push({id:a.id,r:(a.width()+a.height())/4,x:n,y:r,ref:a})}),t.forEach(a=>{const{start:c,end:d}=a;c.tableId!==d.tableId&&V7(o,c.tableId,d.tableId)&&o.push({source:c.tableId,target:d.tableId})}),[i,o]}function X7(e){const{canvasState:t,editorState:n}=e,r={zoomLevel:t.zoomLevel,scrollLeft:t.scrollLeft,scrollTop:t.scrollTop};return t.zoomLevel=G7(n.viewport.width/t.width),t.scrollLeft=(t.width/2-n.viewport.width/2)*-1,t.scrollTop=(t.height/2-n.viewport.height/2)*-1,n.erdUiEventNone=!0,e.dispatchSync(ha(!0)),r}function K7({eventBus:e,store:t},n){const{editorState:r,canvasState:i}=t;e.emit(je.BalanceRange.move),t.dispatchSync(ha(!1)),r.erdUiEventNone=!1,i.zoomLevel=n.zoomLevel,e.emit(je.Editor.change)}function W7(e){const{eventBus:t,store:n}=e,{tableState:{tables:r},relationshipState:{relationships:i},canvasState:o}=n,a=o.width/2,c=o.height/2;if(!r.length){t.emit(je.ToastBar.add,{bodyTpl:V`Not found tables`});return}let d=Ts,p=Ts;const m=new Promise((g,y)=>{d=g,p=y});try{const[g,y]=Y7(r,i,a,c),b=X7(n),C=ib(g).force("link",nb(y).id(E=>E.id)).force("collide",O7().radius(E=>100+E.r)).force("charge",ob()).force("x",ab(a)).force("y",sb(c)).on("tick",()=>{g.forEach(({r:E,x:T,y:I,ref:_})=>{_.ui.top=I-E,_.ui.left=T-E}),Kr(r,i)}),w=()=>{C.stop(),K7(e,b),d()};t.emit(je.ToastBar.add,{bodyTpl:V`
        <span>Automatic Table Placement...</span>
        <div class="vuerd-btn" @click=${w}>Stop</div>
      `,close:m}),C.on("end",w)}catch{p()}}const wf=[{name:"Zero One",relationshipType:"ZeroOne",keymapName:"relationshipZeroOne"},{name:"Zero N",relationshipType:"ZeroN",keymapName:"relationshipZeroN"},{name:"One Only",relationshipType:"OneOnly",keymapName:"relationshipOneOnly"},{name:"One N",relationshipType:"OneN",keymapName:"relationshipOneN"}],Z7={nameWidth:75,keymapWidth:85},Q7=({keymap:e,store:t})=>wf.map(n=>({iconBase64:Bp(n.relationshipType),name:n.name,keymap:$o(e[n.keymapName][0]),keymapTooltip:$e(e[n.keymapName]),execute:()=>t.dispatch(Gu(t,n.relationshipType)),options:{...Z7}}));function Fe(e,t,n){const r=[];return e.forEach((i,o)=>{t?n?r.push(`${t}${i.name}${n}`):r.push(`${t}${i.name}${t}`):r.push(i.name),e.length!==o+1&&r.push(", ")}),r.join("")}function _o(e){let t=0,n=0;return e.forEach(r=>{t<r.name.length&&(t=r.name.length),n<r.dataType.length&&(n=r.dataType.length)}),{name:t,dataType:n}}function En(e){const t=[];for(let n=0;n<e;n++)t.push(" ");return t.join("")}function Ei(e){return e.some(t=>t.option.primaryKey)}function Ii(e){return e.filter(t=>t.option.primaryKey)}function Hl(e){return e.some(t=>t.option.unique)}function Gl(e){return e.filter(t=>t.option.unique)}function Si(e){return z6[e]??""}function q7({tableState:e,relationshipState:t,canvasState:n}){const r=[],i=[],o=[""],a=Si(n.bracketType),c=mn(e.tables),d=t.relationships,p=e.indexes;return c.forEach(m=>{ub({table:m,buffer:o,bracket:a}),o.push(""),Hl(m.columns)&&Gl(m.columns).forEach(y=>{o.push(`ALTER TABLE ${a}${m.name}${a}`),o.push(`  ADD CONSTRAINT ${a}UQ_${y.name}${a} UNIQUE (${a}${y.name}${a});`),o.push("")})}),d.forEach(m=>{J7({tables:c,relationship:m,buffer:o,fkNames:r,bracket:a}),o.push("")}),p.forEach(m=>{const g=B(c,m.tableId);g&&(fb({table:g,index:m,buffer:o,indexNames:i,bracket:a}),o.push(""))}),o.join(`
`)}function ub({table:e,buffer:t,bracket:n}){t.push(`CREATE TABLE ${n}${e.name}${n}`),t.push("(");const r=Ei(e.columns),i=_o(e.columns);if(e.columns.forEach((o,a)=>{db(r?{column:o,isComma:!0,spaceSize:i,buffer:t,bracket:n}:{column:o,isComma:e.columns.length!==a+1,spaceSize:i,buffer:t,bracket:n})}),r){const o=Ii(e.columns);t.push(`  PRIMARY KEY (${Fe(o,n)})`)}e.comment.trim()===""?t.push(");"):t.push(`) COMMENT '${e.comment}';`)}function db({column:e,isComma:t,spaceSize:n,buffer:r,bracket:i}){const o=[];o.push(`  ${i}${e.name}${i}`+En(n.name-e.name.length)),o.push(`${e.dataType}`+En(n.dataType-e.dataType.length)),o.push(`${e.option.notNull?"NOT NULL":"NULL    "}`),e.option.autoIncrement?o.push("AUTO_INCREMENT"):e.default.trim()!==""&&o.push(`DEFAULT ${e.default}`),e.comment.trim()!==""&&o.push(`COMMENT '${e.comment}'`),r.push(o.join(" ")+`${t?",":""}`)}function J7({tables:e,relationship:t,buffer:n,fkNames:r,bracket:i}){const o=B(e,t.start.tableId),a=B(e,t.end.tableId);if(o&&a){n.push(`ALTER TABLE ${i}${a.name}${i}`);let c=`FK_${o.name}_TO_${a.name}`;c=en(r,"",c),r.push({id:Be(),name:c}),n.push(`  ADD CONSTRAINT ${i}${c}${i}`);const d={start:[],end:[]};t.end.columnIds.forEach(p=>{const m=B(a.columns,p);m&&d.end.push(m)}),t.start.columnIds.forEach(p=>{const m=B(o.columns,p);m&&d.start.push(m)}),n.push(`    FOREIGN KEY (${Fe(d.end,i)})`),n.push(`    REFERENCES ${i}${o.name}${i} (${Fe(d.start,i)});`)}}function fb({table:e,index:t,buffer:n,indexNames:r,bracket:i}){const o=t.columns.map(a=>{const c=B(e.columns,a.id);return c?{name:`${i}${c.name}${i} ${a.orderType}`}:null}).filter(a=>a!==null);if(o.length!==0){let a=t.name;t.name.trim()===""&&(a=`IDX_${e.name}`,a=en(r,"",a),r.push({id:Be(),name:a})),t.unique?n.push(`CREATE UNIQUE INDEX ${i}${a}${i}`):n.push(`CREATE INDEX ${i}${a}${i}`),n.push(`  ON ${i}${e.name}${i} (${Fe(o)});`)}}function eP({tableState:e,relationshipState:t,canvasState:n}){const r=[],i=[],o=[""],a=Si(n.bracketType),c=mn(e.tables),d=t.relationships,p=e.indexes;return c.forEach(m=>{hb({table:m,buffer:o,bracket:a}),o.push(""),Hl(m.columns)&&Gl(m.columns).forEach(y=>{o.push(`ALTER TABLE ${a}${m.name}${a}`),o.push(`  ADD CONSTRAINT ${a}UQ_${y.name}${a} UNIQUE (${a}${y.name}${a})
GO`),o.push("")}),tP({table:m,buffer:o,bracket:a})}),d.forEach(m=>{nP({tables:c,relationship:m,buffer:o,fkNames:r,bracket:a}),o.push("")}),p.forEach(m=>{const g=B(c,m.tableId);g&&(mb({table:g,index:m,buffer:o,indexNames:i,bracket:a}),o.push(""))}),o.join(`
`)}function hb({table:e,buffer:t,bracket:n}){t.push(`CREATE TABLE ${n}${e.name}${n}`),t.push("(");const r=Ei(e.columns),i=_o(e.columns);if(e.columns.forEach((o,a)=>{pb(r?{column:o,isComma:!0,spaceSize:i,buffer:t,bracket:n}:{column:o,isComma:e.columns.length!==a+1,spaceSize:i,buffer:t,bracket:n})}),r){const o=Ii(e.columns);t.push(`  CONSTRAINT ${n}PK_${e.name}${n} PRIMARY KEY (${Fe(o,n)})`)}t.push(`)
GO`)}function pb({column:e,isComma:t,spaceSize:n,buffer:r,bracket:i}){const o=[];o.push(`  ${i}${e.name}${i}`+En(n.name-e.name.length)),o.push(`${e.dataType}`+En(n.dataType-e.dataType.length)),e.option.notNull&&o.push("NOT NULL"),e.option.autoIncrement?o.push("IDENTITY(1,1)"):e.default.trim()!==""&&o.push(`DEFAULT ${e.default}`),r.push(o.join(" ")+`${t?",":""}`)}function tP({table:e,buffer:t}){e.comment.trim()!==""&&(t.push("EXECUTE sys.sp_addextendedproperty 'MS_Description',"),t.push(`  '${e.comment}', 'user', dbo, 'table', '${e.name}'
GO`),t.push("")),e.columns.forEach(n=>{n.comment.trim()!==""&&(t.push("EXECUTE sys.sp_addextendedproperty 'MS_Description',"),t.push(`  '${n.comment}', 'user', dbo, 'table', '${e.name}', 'column', '${n.name}'
GO`),t.push(""))})}function nP({tables:e,relationship:t,buffer:n,fkNames:r,bracket:i}){const o=B(e,t.start.tableId),a=B(e,t.end.tableId);if(o&&a){n.push(`ALTER TABLE ${i}${a.name}${i}`);let c=`FK_${o.name}_TO_${a.name}`;c=en(r,"",c),r.push({id:Be(),name:c}),n.push(`  ADD CONSTRAINT ${i}${c}${i}`);const d={start:[],end:[]};t.end.columnIds.forEach(p=>{const m=B(a.columns,p);m&&d.end.push(m)}),t.start.columnIds.forEach(p=>{const m=B(o.columns,p);m&&d.start.push(m)}),n.push(`    FOREIGN KEY (${Fe(d.end,i)})`),n.push(`    REFERENCES ${i}${o.name}${i} (${Fe(d.start,i)})
GO`)}}function mb({table:e,index:t,buffer:n,indexNames:r,bracket:i}){const o=t.columns.map(a=>{const c=B(e.columns,a.id);return c?{name:`${i}${c.name}${i} ${a.orderType}`}:null}).filter(a=>a!==null);if(o.length!==0){let a=t.name;a.trim()===""&&(a=`IDX_${e.name}`,a=en(r,"",a),r.push({id:Be(),name:a})),t.unique?n.push(`CREATE UNIQUE INDEX ${i}${a}${i}`):n.push(`CREATE INDEX ${i}${a}${i}`),n.push(`  ON ${i}${e.name}${i} (${Fe(o)})
GO`)}}function rP({tableState:e,relationshipState:t,canvasState:n}){const r=[],i=[],o=[""],a=Si(n.bracketType),c=mn(e.tables),d=t.relationships,p=e.indexes;return c.forEach(m=>{gb({table:m,buffer:o,bracket:a}),o.push(""),Hl(m.columns)&&Gl(m.columns).forEach(y=>{o.push(`ALTER TABLE ${a}${m.name}${a}`),o.push(`  ADD CONSTRAINT ${a}UQ_${y.name}${a} UNIQUE (${a}${y.name}${a});`),o.push("")})}),d.forEach(m=>{iP({tables:c,relationship:m,buffer:o,fkNames:r,bracket:a}),o.push("")}),p.forEach(m=>{const g=B(c,m.tableId);g&&(yb({table:g,index:m,buffer:o,indexNames:i,bracket:a}),o.push(""))}),o.join(`
`)}function gb({table:e,buffer:t,bracket:n}){t.push(`CREATE TABLE ${n}${e.name}${n}`),t.push("(");const r=Ei(e.columns),i=_o(e.columns);if(e.columns.forEach((o,a)=>{vb(r?{column:o,isComma:!0,spaceSize:i,buffer:t,bracket:n}:{column:o,isComma:e.columns.length!==a+1,spaceSize:i,buffer:t,bracket:n})}),r){const o=Ii(e.columns);t.push(`  PRIMARY KEY (${Fe(o,n)})`)}e.comment.trim()===""?t.push(");"):t.push(`) COMMENT '${e.comment}';`)}function vb({column:e,isComma:t,spaceSize:n,buffer:r,bracket:i}){const o=[];o.push(`  ${i}${e.name}${i}`+En(n.name-e.name.length)),o.push(`${e.dataType}`+En(n.dataType-e.dataType.length)),o.push(`${e.option.notNull?"NOT NULL":"NULL    "}`),e.option.autoIncrement?o.push("AUTO_INCREMENT"):e.default.trim()!==""&&o.push(`DEFAULT ${e.default}`),e.comment.trim()!==""&&o.push(`COMMENT '${e.comment}'`),r.push(o.join(" ")+`${t?",":""}`)}function iP({tables:e,relationship:t,buffer:n,fkNames:r,bracket:i}){const o=B(e,t.start.tableId),a=B(e,t.end.tableId);if(o&&a){n.push(`ALTER TABLE ${i}${a.name}${i}`);let c=`FK_${o.name}_TO_${a.name}`;c=en(r,"",c),r.push({id:Be(),name:c}),n.push(`  ADD CONSTRAINT ${i}${c}${i}`);const d={start:[],end:[]};t.end.columnIds.forEach(p=>{const m=B(a.columns,p);m&&d.end.push(m)}),t.start.columnIds.forEach(p=>{const m=B(o.columns,p);m&&d.start.push(m)}),n.push(`    FOREIGN KEY (${Fe(d.end,i)})`),n.push(`    REFERENCES ${i}${o.name}${i} (${Fe(d.start,i)});`)}}function yb({table:e,index:t,buffer:n,indexNames:r,bracket:i}){const o=t.columns.map(a=>{const c=B(e.columns,a.id);return c?{name:`${i}${c.name}${i} ${a.orderType}`}:null}).filter(a=>a!==null);if(o.length!==0){let a=t.name;t.name.trim()===""&&(a=`IDX_${e.name}`,a=en(r,"",a),r.push({id:Be(),name:a})),t.unique?n.push(`CREATE UNIQUE INDEX ${i}${a}${i}`):n.push(`CREATE INDEX ${i}${a}${i}`),n.push(`  ON ${i}${e.name}${i} (${Fe(o)});`)}}function oP({tableState:e,relationshipState:t,canvasState:n}){const r=[],i=[],o=[],a=[],c=[""],d=Si(n.bracketType),p=mn(e.tables),m=t.relationships,g=e.indexes;return p.forEach(y=>{bb({table:y,buffer:c,bracket:d}),c.push(""),Hl(y.columns)&&Gl(y.columns).forEach(C=>{c.push(`ALTER TABLE ${d}${y.name}${d}`),c.push(`  ADD CONSTRAINT ${d}UQ_${C.name}${d} UNIQUE (${d}${C.name}${d});`),c.push("")}),y.columns.forEach(b=>{if(b.option.autoIncrement){let C=`SEQ_${y.name}`;C=en(i,"",C),i.push({id:Be(),name:C}),c.push(`CREATE SEQUENCE ${C}`),c.push("START WITH 1"),c.push("INCREMENT BY 1;"),c.push("");let w=`SEQ_TRG_${y.name}`;w=en(i,"",w),o.push({id:Be(),name:w}),c.push(`CREATE OR REPLACE TRIGGER ${w}`),c.push(`BEFORE INSERT ON ${y.name}`),c.push("REFERENCING NEW AS NEW FOR EACH ROW"),c.push("BEGIN"),c.push(`  SELECT ${C}.NEXTVAL`),c.push(`  INTO: NEW.${b.name}`),c.push("  FROM DUAL;"),c.push("END;"),c.push("")}}),aP({table:y,buffer:c,bracket:d})}),m.forEach(y=>{sP({tables:p,relationship:y,buffer:c,fkNames:r,bracket:d}),c.push("")}),g.forEach(y=>{const b=B(p,y.tableId);b&&(wb({table:b,index:y,buffer:c,indexNames:a,bracket:d}),c.push(""))}),c.join(`
`)}function bb({table:e,buffer:t,bracket:n}){t.push(`CREATE TABLE ${n}${e.name}${n}`),t.push("(");const r=Ei(e.columns),i=_o(e.columns);if(e.columns.forEach((o,a)=>{xb(r?{column:o,isComma:!0,spaceSize:i,buffer:t,bracket:n}:{column:o,isComma:e.columns.length!==a+1,spaceSize:i,buffer:t,bracket:n})}),r){const o=Ii(e.columns);t.push(`  CONSTRAINT ${n}PK_${e.name}${n} PRIMARY KEY (${Fe(o,n)})`)}t.push(");")}function xb({column:e,isComma:t,spaceSize:n,buffer:r,bracket:i}){const o=[];o.push(`  ${i}${e.name}${i}`+En(n.name-e.name.length)),o.push(`${e.dataType}`+En(n.dataType-e.dataType.length)),e.default.trim()!==""&&o.push(`DEFAULT ${e.default}`),e.option.notNull&&o.push("NOT NULL"),r.push(o.join(" ")+`${t?",":""}`)}function aP({table:e,buffer:t,bracket:n}){e.comment.trim()!==""&&(t.push(`COMMENT ON TABLE ${n}${e.name}${n} IS '${e.comment}';`),t.push("")),e.columns.forEach(r=>{r.comment.trim()!==""&&(t.push(`COMMENT ON COLUMN ${n}${e.name}${n}.${n}${r.name}${n} IS '${r.comment}';`),t.push(""))})}function sP({tables:e,relationship:t,buffer:n,fkNames:r,bracket:i}){const o=B(e,t.start.tableId),a=B(e,t.end.tableId);if(o&&a){n.push(`ALTER TABLE ${i}${a.name}${i}`);let c=`FK_${o.name}_TO_${a.name}`;c=en(r,"",c),r.push({id:Be(),name:c}),n.push(`  ADD CONSTRAINT ${i}${c}${i}`);const d={start:[],end:[]};t.end.columnIds.forEach(p=>{const m=B(a.columns,p);m&&d.end.push(m)}),t.start.columnIds.forEach(p=>{const m=B(o.columns,p);m&&d.start.push(m)}),n.push(`    FOREIGN KEY (${Fe(d.end,i)})`),n.push(`    REFERENCES ${i}${o.name}${i} (${Fe(d.start,i)});`)}}function wb({table:e,index:t,buffer:n,indexNames:r,bracket:i}){const o=t.columns.map(a=>{const c=B(e.columns,a.id);return c?{name:`${i}${c.name}${i} ${a.orderType}`}:null}).filter(a=>a!==null);if(o.length!==0){let a=t.name;t.name.trim()===""&&(a=`IDX_${e.name}`,a=en(r,"",a),r.push({id:Be(),name:a})),t.unique?n.push(`CREATE UNIQUE INDEX ${i}${a}${i}`):n.push(`CREATE INDEX ${i}${a}${i}`),n.push(`  ON ${i}${e.name}${i} (${Fe(o)});`)}}function lP({tableState:e,relationshipState:t,canvasState:n}){const r=[],i=[],o=[""],a=Si(n.bracketType),c=mn(e.tables),d=t.relationships,p=e.indexes;return c.forEach(m=>{Cb({table:m,buffer:o,bracket:a}),o.push(""),cP({table:m,buffer:o,bracket:a})}),d.forEach(m=>{uP({tables:c,relationship:m,buffer:o,fkNames:r,bracket:a}),o.push("")}),p.forEach(m=>{const g=B(c,m.tableId);g&&(Tb({table:g,index:m,buffer:o,indexNames:i,bracket:a}),o.push(""))}),o.join(`
`)}function Cb({table:e,buffer:t,bracket:n}){t.push(`CREATE TABLE ${n}${e.name}${n}`),t.push("(");const r=Ei(e.columns),i=_o(e.columns);if(e.columns.forEach((o,a)=>{kb(r?{column:o,isComma:!0,spaceSize:i,buffer:t,bracket:n}:{column:o,isComma:e.columns.length!==a+1,spaceSize:i,buffer:t,bracket:n})}),r){const o=Ii(e.columns);t.push(`  PRIMARY KEY (${Fe(o,n)})`)}t.push(");")}function kb({column:e,isComma:t,spaceSize:n,buffer:r,bracket:i}){const o=[];o.push(`  ${i}${e.name}${i}`+En(n.name-e.name.length)),o.push(`${e.dataType}`+En(n.dataType-e.dataType.length)),e.option.notNull&&o.push("NOT NULL"),e.option.autoIncrement?o.push("GENERATED ALWAYS AS IDENTITY"):e.default.trim()!==""&&o.push(`DEFAULT ${e.default}`),e.option.unique&&o.push("UNIQUE"),r.push(o.join(" ")+`${t?",":""}`)}function cP({table:e,buffer:t,bracket:n}){e.comment.trim()!==""&&(t.push(`COMMENT ON TABLE ${n}${e.name}${n} IS '${e.comment}';`),t.push("")),e.columns.forEach(r=>{r.comment.trim()!==""&&(t.push(`COMMENT ON COLUMN ${n}${e.name}${n}.${n}${r.name}${n} IS '${r.comment}';`),t.push(""))})}function uP({tables:e,relationship:t,buffer:n,fkNames:r,bracket:i}){const o=B(e,t.start.tableId),a=B(e,t.end.tableId);if(o&&a){n.push(`ALTER TABLE ${i}${a.name}${i}`);let c=`FK_${o.name}_TO_${a.name}`;c=en(r,"",c),r.push({id:Be(),name:c}),n.push(`  ADD CONSTRAINT ${i}${c}${i}`);const d={start:[],end:[]};t.end.columnIds.forEach(p=>{const m=B(a.columns,p);m&&d.end.push(m)}),t.start.columnIds.forEach(p=>{const m=B(o.columns,p);m&&d.start.push(m)}),n.push(`    FOREIGN KEY (${Fe(d.end,i)})`),n.push(`    REFERENCES ${i}${o.name}${i} (${Fe(d.start,i)});`)}}function Tb({table:e,index:t,buffer:n,indexNames:r,bracket:i}){const o=t.columns.map(a=>{const c=B(e.columns,a.id);return c?{name:`${i}${c.name}${i} ${a.orderType}`}:null}).filter(a=>a!==null);if(o.length!==0){let a=t.name;t.name.trim()===""&&(a=`IDX_${e.name}`,a=en(r,"",a),r.push({id:Be(),name:a})),t.unique?n.push(`CREATE UNIQUE INDEX ${i}${a}${i}`):n.push(`CREATE INDEX ${i}${a}${i}`),n.push(`  ON ${i}${e.name}${i} (${Fe(o)});`)}}function dP({tableState:e,relationshipState:t,canvasState:n}){const r=[],i=[""],o=Si(n.bracketType),a=t.relationships,c=e.indexes,d=GD(mn(e.tables),a);return d.forEach(p=>{Eb({table:p,tables:d,relationships:a.filter(m=>m.end.tableId===p.id),buffer:i,bracket:o}),i.push("")}),c.forEach(p=>{const m=B(d,p.tableId);m&&(Sb({table:m,index:p,buffer:i,indexNames:r,bracket:o}),i.push(""))}),i.join(`
`)}function Eb({table:e,tables:t,relationships:n,buffer:r,bracket:i}){e.comment.trim()!==""&&r.push(`-- ${e.comment}`),r.push(`CREATE TABLE ${i}${e.name}${i}`),r.push("(");const o=Ei(e.columns),a=_o(e.columns);if(e.columns.forEach((c,d)=>{o||n.length!==0?Ib({column:c,isComma:!0,spaceSize:a,buffer:r,bracket:i}):Ib({column:c,isComma:e.columns.length!==d+1,spaceSize:a,buffer:r,bracket:i})}),o){const c=Ii(e.columns);if(n.length!==0)if(c.length===1){const d=c[0].option.autoIncrement?" AUTOINCREMENT":"";r.push(`  PRIMARY KEY (${Fe(c,i)}${d}),`)}else r.push(`  PRIMARY KEY (${Fe(c,i)}),`);else if(c.length===1){const d=c[0].option.autoIncrement?" AUTOINCREMENT":"";r.push(`  PRIMARY KEY (${Fe(c,i)}${d})`)}else r.push(`  PRIMARY KEY (${Fe(c,i)})`)}n.forEach((c,d)=>{const p=B(t,c.start.tableId),m=B(t,c.end.tableId);if(p&&m){const g={start:[],end:[]};c.end.columnIds.forEach(y=>{const b=B(m.columns,y);b&&g.end.push(b)}),c.start.columnIds.forEach(y=>{const b=B(p.columns,y);b&&g.start.push(b)}),n.length-1>d?r.push(`  FOREIGN KEY (${Fe(g.end,i)}) REFERENCES ${i}${p.name}${i} (${Fe(g.start,i)}),`):r.push(`  FOREIGN KEY (${Fe(g.end,i)}) REFERENCES ${i}${p.name}${i} (${Fe(g.start,i)})`)}}),r.push(");")}function Ib({column:e,isComma:t,spaceSize:n,buffer:r,bracket:i}){e.comment.trim()!==""&&r.push(`  -- ${e.comment}`);const o=[];o.push(`  ${i}${e.name}${i}`+En(n.name-e.name.length)),o.push(`${e.dataType}`+En(n.dataType-e.dataType.length)),o.push(`${e.option.notNull?"NOT NULL":"NULL    "}`),e.option.unique&&o.push("UNIQUE"),!e.option.autoIncrement&&e.default.trim()!==""&&o.push(`DEFAULT ${e.default}`),r.push(o.join(" ")+`${t?",":""}`)}function Sb({table:e,index:t,buffer:n,indexNames:r,bracket:i}){const o=t.columns.map(a=>{const c=B(e.columns,a.id);return c?{name:`${i}${c.name}${i} ${a.orderType}`}:null}).filter(a=>a!==null);if(o.length!==0){let a=t.name;t.name.trim()===""&&(a=`IDX_${e.name}`,a=en(r,"",a),r.push({id:Be(),name:a})),t.unique?n.push(`CREATE UNIQUE INDEX ${i}${a}${i}`):n.push(`CREATE INDEX ${i}${a}${i}`),n.push(`  ON ${i}${e.name}${i} (${Fe(o)});`)}}function Vl(e,t){switch(t||e.canvasState.database){case"MariaDB":return q7(e);case"MSSQL":return eP(e);case"MySQL":return rP(e);case"Oracle":return oP(e);case"PostgreSQL":return lP(e);case"SQLite":return dP(e)}return""}function fP({canvasState:e,tableState:t,relationshipState:n},r){const i=[""],o=e.database,a=[],c=t.indexes.filter(g=>g.tableId===r.id),d=n.relationships,p=t.tables,m=Si(e.bracketType);switch(o){case"MariaDB":ub({table:r,buffer:i,bracket:m}),i.push(""),c.forEach(g=>{fb({table:r,index:g,buffer:i,indexNames:a,bracket:m}),i.push("")});break;case"MSSQL":hb({table:r,buffer:i,bracket:m}),i.push(""),c.forEach(g=>{mb({table:r,index:g,buffer:i,indexNames:a,bracket:m}),i.push("")});break;case"MySQL":gb({table:r,buffer:i,bracket:m}),i.push(""),c.forEach(g=>{yb({table:r,index:g,buffer:i,indexNames:a,bracket:m}),i.push("")});break;case"Oracle":bb({table:r,buffer:i,bracket:m}),i.push(""),c.forEach(g=>{wb({table:r,index:g,buffer:i,indexNames:a,bracket:m}),i.push("")});break;case"PostgreSQL":Cb({table:r,buffer:i,bracket:m}),i.push(""),c.forEach(g=>{Tb({table:r,index:g,buffer:i,indexNames:a,bracket:m}),i.push("")});break;case"SQLite":Eb({table:r,tables:p,relationships:d.filter(g=>g.end.tableId===r.id),buffer:i,bracket:m}),i.push(""),c.forEach(g=>{Sb({table:r,index:g,buffer:i,indexNames:a,bracket:m}),i.push("")});break}return i.join(`
`)}const hP={nameWidth:60,keymapWidth:0},pP=(e,t)=>{const{store:n,snapshots:r,showPrompt:i,eventBus:o}=e;return[{icon:{prefix:"mdi",name:"code-json",size:18},name:"json",execute:()=>Z6(Sa(n,2),n.canvasState.databaseName)},{icon:{prefix:"mdi",name:"database-export",size:18},name:"SQL DDL",execute:()=>Q6(Vl(n),n.canvasState.databaseName)},{icon:{prefix:"fas",name:"file-image"},name:"png",execute:()=>{W6(t,n.canvasState.databaseName)}}].map(a=>({...a,options:{...hP}}))},mP={nameWidth:60,keymapWidth:0},gP=e=>[{icon:{prefix:"mdi",name:"code-json",size:18},name:"json",execute:()=>tD(e)},{icon:{prefix:"mdi",name:"database-import",size:18},name:"SQL DDL",execute:()=>nD(e)}].map(t=>({...t,options:{...mP}})),vP=[{name:"Table Comment",showKey:"tableComment"},{name:"Column Comment",showKey:"columnComment"},{name:"DataType",showKey:"columnDataType"},{name:"Default",showKey:"columnDefault"},{name:"Not Null",showKey:"columnNotNull"},{name:"Unique",showKey:"columnUnique"},{name:"Auto Increment",showKey:"columnAutoIncrement"},{name:"Relationship",showKey:"relationship"}],yP={nameWidth:115,keymapWidth:0,close:!1},_b=({store:e})=>vP.map(t=>({icon:e.canvasState.show[t.showKey]?{prefix:"fas",name:"check"}:void 0,name:t.name,execute:()=>e.dispatch(ig(e,t.showKey)),options:{...yP}})),bP={nameWidth:165,keymapWidth:50};function xP(e,t){const{store:n,keymap:r,eventBus:i}=e;return[{icon:{prefix:"fas",name:"table"},name:"New Table",keymap:$o(r.addTable[0]),keymapTooltip:$e(r.addTable),execute:()=>n.dispatch(Pu(n))},{icon:{prefix:"fas",name:"sticky-note"},name:"New Memo",keymap:$o(r.addMemo[0]),keymapTooltip:$e(r.addMemo),execute:()=>n.dispatch(Fu(n))},{icon:{prefix:"mdi",name:"vector-line",size:18},name:"Relationship",children:Q7(e)},{icon:{prefix:"fas",name:"eye"},name:"View Option",children:_b(e)},{icon:{prefix:"mdi",name:"database",size:18},name:"Database",children:Tl(e)},{icon:{prefix:"fas",name:"file-import"},name:"Import",children:gP(e)},{icon:{prefix:"fas",name:"file-export"},name:"Export",children:pP(e,t)},{icon:{prefix:"mdi",name:"atom",size:18},name:"Automatic Table Placement",execute:()=>W7(e)}].map(o=>({...o,options:{...bP}}))}const wP={nameWidth:75,keymapWidth:0,close:!1},Ab=({store:e},t)=>wf.map(n=>({icon:t.relationshipType===n.relationshipType?{prefix:"fas",name:"check"}:void 0,name:n.name,execute:()=>e.dispatch(Rg(t.id,n.relationshipType)),options:{...wP}})),CP={nameWidth:110,keymapWidth:0};function kP(e,t){const{store:n}=e;return[{icon:{prefix:"mdi",name:"vector-line",size:18},name:"Relationship Type",children:Ab(e,t)},{name:"Delete",execute:()=>n.dispatch(fo([t.id]))}].map(r=>({...r,options:{...CP}}))}const $P={nameWidth:105,keymapWidth:100},TP=({keymap:e,eventBus:t,store:n,helper:r},i)=>[{icon:{prefix:"fas",name:"key"},name:"Primary Key",keymap:$o(e.primaryKey[0]),keymapTooltip:$e(e.primaryKey),execute(){const{editorState:o}=n;o.focusTable&&!o.focusTable.edit&&o.focusTable.columnId&&n.dispatch(td(n,o.focusTable.table.id,o.focusTable.columnId))}},{icon:{prefix:"mdi",name:"table-cog",size:18},name:"Table Properties",keymap:$o(e.tableProperties[0]),keymapTooltip:$e(e.tableProperties),execute:()=>t.emit(je.Drawer.openTableProperties,{tableId:i})},{icon:{prefix:"fas",name:"palette"},name:"Color",execute:()=>t.emit(je.ColorPicker.open,i)}].map(o=>({...o,options:{...$P}})),EP={columnNotNull:rl,columnUnique:od,columnAutoIncrement:id},Nb=["columnNotNull","columnUnique","columnAutoIncrement"];function IP(e){const t=ke(e),{unmountedGroup:n}=Re(),r=i=>{const{keymap:o,store:a,eventBus:c}=t.value,{tableState:d,memoState:p,editorState:m}=a;if(!m.focusTable||!m.focusTable.edit){if($t(i,o.addTable)&&a.dispatch(Pu(a)),$t(i,o.addColumn)&&d.tables.some(g=>g.ui.active)&&a.dispatch(el(a)),$t(i,o.addMemo)&&a.dispatch(Fu(a)),$t(i,o.selectAllTable)&&a.dispatch(zg(),Wg()),wf.forEach(g=>$t(i,o[g.keymapName])&&a.dispatch(Gu(a,g.relationshipType))),$t(i,o.removeTable)&&(a.tableState.tables.some(g=>g.ui.active)||a.memoState.memos.some(g=>g.ui.active))){const g=[];d.tables.some(y=>y.ui.active)&&g.push(Ks(a)),p.memos.some(y=>y.ui.active)&&g.push(Zs(a)),a.dispatch(...g)}if($t(i,o.tableProperties)&&a.tableState.tables.some(g=>g.ui.active)){const g=a.tableState.tables.find(y=>y.ui.active);if(!g)return;c.emit(je.Drawer.openTableProperties,{tableId:m.focusTable?m.focusTable.table.id:g.id})}$t(i,o.find)&&(m.findActive?a.dispatch(vo()):a.dispatch(Vu()),c.emit(je.Drawer.close)),$t(i,o.zoomIn)&&a.dispatch(Xd(a,.1)),$t(i,o.zoomOut)&&a.dispatch(Xd(a,-.1))}if(m.focusTable&&!m.focusTable.edit&&($t(i,o.selectAllColumn)&&a.dispatch(gv()),m.focusTable.selectColumnIds.length&&$t(i,o.removeColumn)&&a.dispatch(ed(a,m.focusTable.table.id,m.focusTable.selectColumnIds)),m.focusTable.selectColumnIds.length&&$t(i,o.copyColumn)&&a.dispatch(Tv(m.focusTable.table.id,m.focusTable.selectColumnIds)),$t(i,o.pasteColumn)&&a.dispatch(nv(a)),m.focusTable.columnId&&$t(i,o.primaryKey)&&a.dispatch(td(a,m.focusTable.table.id,m.focusTable.columnId)),i.key!=="Tab"&&s4.includes(i.key)&&a.dispatch(Qu(i.key,i.shiftKey))),m.focusTable&&i.key==="Tab"&&(i.preventDefault(),a.dispatch(Jg(a,i.key,i.shiftKey)),setTimeout(()=>{!m.focusTable||Nb.includes(m.focusTable.focusType)||a.dispatch(va())},0)),m.focusTable&&$t(i,o.edit)){const g=m.focusTable;if(g.edit)a.dispatch(mo());else if(g.columnId&&Nb.includes(g.focusType)){const y=EP[g.focusType];a.dispatch(y(a,g.table.id,g.columnId))}else a.dispatch(va())}if($t(i,o.stop)){const g=[go(),vo()];if(m.findActive){const y=a.tableState.tables.find(b=>b.ui.active);y&&g.push(fa(a,!1,y.id))}else g.push(Fr(),bi());a.dispatch(...g)}$t(i,o.undo)&&a.undo(),$t(i,o.redo)&&a.redo()};Pe(()=>{const{helper:i}=t.value;n.push(i.keydown$.subscribe(r))})}function SP(e){const t=Rt(e);return{getPosition:r=>{const{x:i,y:o}=t.value.getBoundingClientRect();return{x:r.clientX-i,y:r.clientY-o}}}}const Yl=pe`
  ::-webkit-scrollbar {
    width: 12px;
    height: 12px;
  }
  ::-webkit-scrollbar-track {
    background: #fff0;
  }
  ::-webkit-scrollbar-corner {
    background: #fff0;
  }
  ::-webkit-scrollbar-thumb {
    background: var(--vuerd-color-scrollbar-thumb);
  }
  ::-webkit-scrollbar-thumb:hover {
    background: var(--vuerd-color-scrollbar-thumb-active);
  }

  /* firefox */
  .vuerd-scrollbar {
    scrollbar-color: var(--vuerd-color-scrollbar-thumb) #fff0;
    scrollbar-width: auto;
  }
`,Cf=pe`
  .vuerd-button {
    cursor: pointer;
  }
  .vuerd-button:hover {
    fill: var(--vuerd-color-font-active);
  }

  ${Yl}
`,kf=pe`
  .vuerd-icon {
    transition: fill 0.15s;
  }
`,_P=pe`
  .vuerd-canvas-controller {
    position: relative;
    background-color: var(--vuerd-color-canvas);
    will-change: transform;
  }

  .vuerd-canvas {
    position: relative;
    background-color: var(--vuerd-color-canvas);
  }
`,AP=pe`
  .vuerd-canvas-svg {
    position: absolute;
    top: 0;
    left: 0;
    overflow: visible;
  }

  .vuerd-relationship {
    stroke: var(--vuerd-color-key-fk);
  }

  .vuerd-relationship.identification {
    stroke: var(--vuerd-color-key-pfk);
  }

  .vuerd-relationship.active {
    stroke: var(--vuerd-color-edit);
  }
`,NP=pe`
  .vuerd-drag-select {
    position: absolute;
    stroke: var(--vuerd-color-focus);
    pointer-events: none;
  }
`,OP=pe`
  .vuerd-draw-relationship {
    position: absolute;
    top: 0;
    left: 0;
    stroke: var(--vuerd-color-key-fk);
    pointer-events: none;
    overflow: visible;
  }
`,MP=pe`
  .vuerd-erd {
    overflow: hidden;
    position: relative;
  }

  .vuerd-erd-background {
    width: 100%;
    height: 100%;
    pointer-events: none;
    float: left;
    background-color: var(--vuerd-color-contextmenu);
  }
`,DP=pe`
  .vuerd-find {
    width: 225px;
    display: flex;
    align-items: center;
    padding: 0 10px;
    box-sizing: border-box;
    position: absolute;
    right: 190px;
    color: var(--vuerd-color-font);
    background-color: var(--vuerd-color-menubar);
    opacity: 0.9;
    fill: #fff0;
  }

  .vuerd-find:hover {
    fill: var(--vuerd-color-font);
  }

  .vuerd-find-table {
    position: relative;
  }

  .vuerd-find-table input {
    display: flex;
    width: 193px;
    vertical-align: middle;
    align-items: center;
    margin-right: ${qt}px;
    color: var(--vuerd-color-font-active);
    background-color: var(--vuerd-color-menubar);
    outline: none;
    border: none;
    opacity: 0.9;
    padding: 1px 0 1px 0;
    height: 17px;
    font-size: ${Qt}px;
    font-family: var(--vuerd-font-family);
    border-bottom: solid #fff0 1.5px;
  }

  .vuerd-find-table input:focus {
    border-bottom: solid var(--vuerd-color-edit) 1.5px;
  }

  .vuerd-find-table-list {
    position: absolute;
    top: 27px;
    left: 0;
    z-index: 100;
    color: var(--vuerd-color-font);
    background-color: var(--vuerd-color-contextmenu);
    opacity: 0.9;
    list-style: none;
    padding: 0;
    margin: 0;
  }
  .vuerd-find-table-list > li {
    padding: 5px;
    cursor: pointer;
    font-size: ${Qt}px;
  }
  .vuerd-find-table-list > li:hover,
  .vuerd-find-table-hint.active {
    color: var(--vuerd-color-font-active);
    background-color: var(--vuerd-color-contextmenu-active);
  }
  .vuerd-find-table-list > li:hover .vuerd-find-table-hint-mark,
  .vuerd-find-table-hint.active .vuerd-find-table-hint-mark {
    color: var(--vuerd-color-font-active);
  }
  /* animation flip */
  .vuerd-find-table-hint-move {
    transition: transform 0.2s;
  }

  .vuerd-find-table-hint-mark {
    color: var(--vuerd-color-edit);
  }
`,$f=pe`
  .vuerd-input {
    display: inline-flex;
    vertical-align: middle;
    align-items: center;
    margin-right: ${qt}px;
    color: var(--vuerd-color-font-active);
    background-color: var(--vuerd-color-table);
  }

  input.vuerd-input {
    outline: none;
    border: none;
    opacity: 0.9;
    padding: 1px 0 1px 0;
    height: 17px;
    font-size: ${Qt}px;
    font-family: var(--vuerd-font-family);
  }

  div.vuerd-input {
    border-bottom: solid #fff0 1.5px;
    height: ${Vo}px;
    cursor: default;
  }

  .vuerd-input > span {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .vuerd-input.select {
    background-color: var(--vuerd-color-column-select);
  }

  .vuerd-input.active {
    background-color: var(--vuerd-color-column-active);
  }

  .vuerd-input.focus {
    border-bottom: solid var(--vuerd-color-focus) 1.5px;
  }

  .vuerd-input.edit {
    border-bottom: solid var(--vuerd-color-edit) 1.5px;
  }

  .vuerd-input.placeholder {
    color: var(--vuerd-color-font-placeholder);
  }
`,RP=pe`
  .vuerd-memo {
    position: absolute;
    opacity: 0.9;
    fill: #fff0;
    background-color: var(--vuerd-color-table);
    border-radius: 5px;
  }

  .vuerd-memo:hover {
    fill: var(--vuerd-color-font);
  }

  .vuerd-memo.active {
    border: solid var(--vuerd-color-table-active) 1px;
    box-shadow: 0 1px 6px var(--vuerd-color-table-active);
  }

  .vuerd-memo-header {
    padding: ${Yo}px;
    cursor: move;
    position: relative;
  }

  .vuerd-memo-header-color {
    position: absolute;
    width: 100%;
    height: 4px;
    top: 0;
    left: 0;
    border-radius: 5px 5px 0 0;
    opacity: 0.9;
    cursor: pointer;
  }

  .vuerd-memo-header .vuerd-button {
    float: right;
  }

  .vuerd-memo-textarea {
    padding: ${Yo}px;
    opacity: 0.9;
    border: none;
    resize: none;
    outline: none;
    font-size: ${Qt}px;
    font-family: var(--vuerd-font-family);
    color: var(--vuerd-color-font-active);
    background-color: var(--vuerd-color-table);
  }
`,LP=pe`
  .vuerd-minimap {
    position: absolute;
    overflow: hidden;
  }

  .vuerd-minimap-shadow {
    position: absolute;
    box-shadow: 0 1px 6px var(--vuerd-color-minimap-shadow);
    pointer-events: none;
  }
`,PP=pe`
  .vuerd-minimap-handle {
    position: absolute;
    border: solid var(--vuerd-color-edit) 1px;
    cursor: pointer;
    opacity: 0.7;
  }

  .vuerd-minimap-handle:hover {
    opacity: 1;
  }

  .vuerd-minimap-handle[data-selected] {
    opacity: 1;
  }
`,Ob=pe`
  .vuerd-column {
    height: ${Yc}px;
    fill: #fff0;
  }

  .vuerd-column:hover {
    fill: var(--vuerd-color-font);
  }

  .vuerd-column.select {
    background-color: var(--vuerd-color-column-select);
  }

  .vuerd-column.active {
    background-color: var(--vuerd-color-column-active);
  }

  .vuerd-column.draggable {
    opacity: 0.5;
  }

  .vuerd-column > vuerd-icon,
  .vuerd-column > vuerd-input,
  vuerd-column-key,
  vuerd-column-not-null,
  vuerd-column-data-type,
  vuerd-column-auto-increment,
  vuerd-column-unique {
    float: left;
  }
`,Mb=pe`
  .vuerd-column-auto-increment {
    display: flex;
    vertical-align: middle;
    align-items: center;
    border-bottom: solid #fff0 1.5px;
    cursor: default;
    height: ${Vo}px;
    margin-right: ${qt}px;
    color: var(--vuerd-color-font-placeholder);
  }

  .vuerd-column-auto-increment.focus {
    border-bottom: solid var(--vuerd-color-focus) 1.5px;
  }

  .vuerd-column-auto-increment.checked {
    color: var(--vuerd-color-font-active);
  }
`,Db=pe`
  .vuerd-column-data-type {
    display: flex;
    vertical-align: middle;
    align-items: center;
    position: relative;
  }

  .vuerd-column-data-type-hint {
    position: absolute;
    z-index: 1;
    opacity: 0.9;
    top: ${Yc}px;
    left: 0;
    color: var(--vuerd-color-font);
    background-color: var(--vuerd-color-contextmenu);
    list-style: none;
    padding: 0;
    margin: 0;
    white-space: nowrap;
  }

  .vuerd-column-data-type-hint > li {
    padding: 5px;
    cursor: pointer;
    font-size: ${Qt}px;
  }

  .vuerd-column-data-type-hint > li:hover,
  .vuerd-data-type-hint.active {
    color: var(--vuerd-color-font-active);
    background-color: var(--vuerd-color-contextmenu-active);
  }

  .vuerd-column-data-type-hint > li:hover .vuerd-data-type-hint-mark,
  .vuerd-data-type-hint.active .vuerd-data-type-hint-mark {
    color: var(--vuerd-color-font-active);
  }

  /* animation flip */
  .vuerd-data-type-hint-move {
    transition: transform 0.2s;
  }

  .vuerd-data-type-hint-mark {
    color: var(--vuerd-color-edit);
  }
`,Rb=pe`
  .vuerd-column-key {
    display: flex;
    vertical-align: middle;
    align-items: center;
    fill: #fff0;
    margin-right: ${qt}px;
  }

  .vuerd-column-key.pk {
    fill: var(--vuerd-color-key-pk);
  }

  .vuerd-column-key.fk {
    fill: var(--vuerd-color-key-fk);
  }

  .vuerd-column-key.pfk {
    fill: var(--vuerd-color-key-pfk);
  }
`,Lb=pe`
  .vuerd-column-not-null {
    display: flex;
    vertical-align: middle;
    align-items: center;
    border-bottom: solid #fff0 1.5px;
    cursor: default;
    height: ${Vo}px;
    margin-right: ${qt}px;
    color: var(--vuerd-color-font-active);
  }

  .vuerd-column-not-null.focus {
    border-bottom: solid var(--vuerd-color-focus) 1.5px;
  }
`,Pb=pe`
  .vuerd-column-unique {
    display: flex;
    vertical-align: middle;
    align-items: center;
    border-bottom: solid #fff0 1.5px;
    cursor: default;
    height: ${Vo}px;
    margin-right: ${qt}px;
    color: var(--vuerd-color-font-placeholder);
  }

  .vuerd-column-unique.focus {
    border-bottom: solid var(--vuerd-color-focus) 1.5px;
  }

  .vuerd-column-unique.checked {
    color: var(--vuerd-color-font-active);
  }
`,BP=pe`
  .vuerd-high-level-table {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: auto;
    color: var(--vuerd-color-font-active);
    font-weight: bold;
    font-size: 20px;
    word-break: break-all;
  }
`,Bb=pe`
  .vuerd-table {
    position: absolute;
    opacity: 0.9;
    padding: ${Or}px;
    font-size: ${Qt}px;
    fill: #fff0;
    color: #fff0;
    background-color: var(--vuerd-color-table);
    border: solid #fff0 ${Yi}px;
    border-radius: 5px;
  }

  .vuerd-table:hover {
    fill: var(--vuerd-color-font);
    color: var(--vuerd-color-font);
  }

  .vuerd-table.active {
    border: solid var(--vuerd-color-table-active) ${Yi}px;
    box-shadow: 0 1px 6px var(--vuerd-color-table-active);
  }

  .vuerd-table .vuerd-table-header {
    position: relative;
  }

  .vuerd-table .vuerd-table-header-color {
    position: absolute;
    height: 4px;
    top: -11px;
    left: -10px;
    border-radius: 5px 5px 0 0;
    opacity: 0.9;
    cursor: pointer;
  }

  .vuerd-table .vuerd-table-header-top {
    overflow: hidden;
    cursor: move;
  }

  .vuerd-table .vuerd-table-header-top .vuerd-button {
    margin-left: 5px;
    float: right;
  }

  .vuerd-table .vuerd-table-header-body {
    height: ${b$}px;
  }

  .vuerd-table .vuerd-table-header-body > vuerd-input {
    float: left;
  }

  /* animation flip */
  .vuerd-column-move {
    transition: transform 0.3s;
  }

  .vuerd-table-default:hover {
    color: var(--vuerd-color-font-active);
  }
`,UP=pe`
  .vuerd-erd-virtual-scroll-horizontal {
    position: absolute;
    left: 0;
    bottom: 0;
    width: calc(100% - 8px);
    height: 8px;
    overflow: hidden;
    padding-left: 4px;
  }

  .vuerd-erd-virtual-scroll-vertical {
    position: absolute;
    top: 0;
    right: 0;
    width: 8px;
    height: calc(100% - 8px);
    overflow: hidden;
    padding-top: 4px;
  }

  .ghostThumb {
    will-change: transform;
    cursor: pointer;
  }

  .ghostThumb:hover > div {
    background-color: var(--vuerd-color-scrollbar-thumb-active);
  }

  .ghostThumb[data-selected] > div {
    background-color: var(--vuerd-color-scrollbar-thumb-active);
  }

  .verticalThumb {
    width: 4px;
    height: 100%;
    background-color: var(--vuerd-color-scrollbar-thumb);
    border-radius: 4px;
  }

  .horizontalThumb {
    width: 100%;
    height: 4px;
    background-color: var(--vuerd-color-scrollbar-thumb);
    border-radius: 4px;
  }
`,zP=[Cf,MP,_P,RP,Bb,BP,$f,Ob,Rb,Db,Lb,Pb,Mb,OP,AP,NP,LP,PP,DP,kf,UP].join("");fe("vuerd-erd",{observedProps:[{name:"width",default:0},{name:"height",default:0}],styleMap:{height:"100%"},style:zP,render:(e,t)=>{const n=Ce({contextmenuX:0,contextmenuY:0,menus:null,dragSelect:!1,dragSelectX:0,dragSelectY:0}),r=ke(t),{unmountedGroup:i}=Re(),{getPosition:o}=SP(".vuerd-erd"),a=Rt(".vuerd-canvas"),c=Rt(".vuerd-erd");IP(t);let d=null;const p=()=>{c.value.scrollTop===0&&c.value.scrollLeft===0||(c.value.scrollTop=0,c.value.scrollLeft=0)},m=T=>{T.preventDefault();const I=T.target,_=r.value,{relationships:k}=_.store.relationshipState;n.contextmenuX=T.clientX,n.contextmenuY=T.clientY;const O=I.closest(".vuerd-table"),M=I.closest(".vuerd-relationship");if(O){const D=O.dataset.id;n.menus=TP(_,D)}else if(M){const D=M.dataset.id,P=B(k,D);if(!P)return;n.menus=kP(_,P),d=ue(P,Y=>{var X;if(Y!=="relationshipType")return;const H=(X=n.menus)==null?void 0:X.find(j=>j.name==="Relationship Type");H&&(H.children=Ab(_,P))})}else n.menus=xP(_,a.value)},g=()=>{n.menus=null,d&&d(),d=null},y=()=>{const{store:T}=r.value;T.dispatch(vo())},b=({event:T,movementX:I,movementY:_})=>{const{store:k}=r.value;T.type==="mousemove"&&T.preventDefault(),k.dispatch(pr(I,_)),p()},C=T=>{const I=T.target,{store:_,globalEvent:{drag$:k},eventBus:O}=r.value;if(g(),I.closest(".vuerd-table-header-color")||O.emit(je.ColorPicker.close),I.closest(".vuerd-find")||y(),!I.closest(".vuerd-table")&&!I.closest(".vuerd-memo")&&!I.closest(".vuerd-input")&&!I.closest(".virtual-scroll")&&!I.closest(".vuerd-minimap-handle")&&!I.closest(".vuerd-minimap"))if(_.dispatch(bi(),Fr()),T.type==="mousedown"&&(T.ctrlKey||T.metaKey)){const M=o(T);n.dragSelect=!0,n.dragSelectX=M.x,n.dragSelectY=M.y}else k.subscribe(b)},w=T=>{T.preventDefault();const{store:I}=r.value,_=T.ctrlKey||T.metaKey;I.dispatch(_?Xd(I,T.deltaY<0?.1:-.1):pr(T.deltaX*-1,T.deltaY*-1))},E=()=>n.dragSelect=!1;return Pe(()=>{const{store:{canvasState:T},eventBus:I}=r.value;i.push(ue(T.show,()=>{var k;const _=(k=n.menus)==null?void 0:k.find(O=>O.name==="View Option");_&&(_.children=_b(r.value))}),ue(T,_=>{var O;if(_!=="database")return;const k=(O=n.menus)==null?void 0:O.find(M=>M.name==="Database");k&&(k.children=Tl(r.value))}),I.on(je.Contextmenu.close).subscribe(g))}),ur(()=>g()),()=>{const{store:{editorState:{drawRelationship:T,findActive:I,erdUiEventNone:_}}}=r.value;return V`
      <div
        class="vuerd-erd"
        style=${ye({width:`${e.width}px`,height:`${e.height}px`,cursor:T?`url("${Bp(T.relationshipType)}") 16 16, auto`:"",pointerEvents:_?"none":"",touchAction:_?"none":""})}
        @mousedown=${C}
        @touchstart=${C}
        @contextmenu=${m}
        @wheel=${w}
      >
        <div class="vuerd-erd-background"></div>
        <vuerd-canvas></vuerd-canvas>
        <vuerd-virtual-scroll></vuerd-virtual-scroll>
        <vuerd-minimap
          .width=${e.width}
          .height=${e.height}
        ></vuerd-minimap>
        ${n.dragSelect?V`
              <vuerd-drag-select
                .x=${n.dragSelectX}
                .y=${n.dragSelectY}
                @drag-select-end=${E}
              ></vuerd-drag-select>
            `:null}
        ${n.menus?V`
              <vuerd-contextmenu
                .menus=${n.menus}
                .x=${n.contextmenuX}
                .y=${n.contextmenuY}
                @close=${g}
              ></vuerd-contextmenu>
            `:null}
        <vuerd-find .visible=${I} @close=${y}></vuerd-find>
      </div>
    `}}});const Ub=800,zb=300;function jP(e,t){const n=Ce({right:0,visible:!1});let r=null,i=null;const o=()=>{let d=e.width/2;return d>Ub&&(d=Ub),d};return{drawerState:n,getWidth:o,onOpen:()=>{r||(i==null||i.stop(),i=null,n.visible=!0,n.right=n.right===0?-1*o():n.right,r=new Sn(n).to({right:0},zb).easing(Ye.Quadratic.Out).onComplete(()=>r=null).start())},onClose:()=>{i||(r==null||r.stop(),r=null,i=new Sn(n).to({right:-1*o()},zb).easing(Ye.Quadratic.In).onComplete(()=>{i=null,n.visible=!1,t.dispatchEvent(new CustomEvent("close"))}).start())}}}const FP=pe`
  .vuerd-drawer {
    position: absolute;
    top: ${Wi}px;
    height: calc(100% - ${Wi}px);
    color: var(--vuerd-color-font);
    opacity: 0.9;
    background-color: var(--vuerd-color-contextmenu);
    fill: #fff0;
    padding: 20px;
    box-sizing: border-box;
    z-index: 100;
  }

  .vuerd-drawer:hover {
    fill: var(--vuerd-color-font);
  }

  .vuerd-drawer-header {
    height: 30px;
    margin-bottom: 10px;
    overflow: hidden;
  }

  .vuerd-drawer-header > h3 {
    display: inline-block;
    margin: 0;
  }

  .vuerd-drawer-header > .vuerd-button {
    float: right;
  }

  .vuerd-drawer-body {
    height: calc(100% - 40px);
    overflow: auto;
    box-sizing: border-box;
  }

  ${Cf}
`,HP=(e,t)=>{const n=ke(t),{drawerState:r,getWidth:i,onOpen:o,onClose:a}=jP(e,t),{unmountedGroup:c}=Re(),{resetTooltip:d}=fn([".vuerd-button"],t);return Pe(()=>c.push(ue(e,p=>{p==="visible"&&(e.visible?o():a(),e.visible&&setTimeout(d,0))}))),()=>{const{keymap:p}=n.value,m=$e(p.stop);return r.visible?V`
          <div
            class="vuerd-drawer"
            style=${ye({width:`${i()}px`,right:`${r.right}px`})}
          >
            <div class="vuerd-drawer-header">
              <h3>${e.name}</h3>
              <vuerd-icon
                class="vuerd-button"
                name="times"
                size="16"
                data-tippy-content=${m}
                @click=${a}
              ></vuerd-icon>
            </div>
            <div class="vuerd-drawer-body vuerd-scrollbar">
              <slot></slot>
            </div>
          </div>
        `:null}};fe("vuerd-drawer",{observedProps:[{name:"name",default:""},{name:"width",type:Number,default:fs},{name:"visible",type:Boolean,default:!1}],style:[FP,kf].join(""),render:HP}),fe("vuerd-help-drawer",{observedProps:["width","visible"],shadow:!1,render:(e,t)=>{const n=ke(t),r=()=>{const{keymap:o}=n.value;return[{name:"Editing",keymap:`dblclick, ${$e(o.edit)}`},{name:"Editing",keymap:"dblclick, Enter"},{name:"All Stop",keymap:$e(o.stop)},{name:"Search",keymap:$e(o.find)},{name:"Undo",keymap:$e(o.undo)},{name:"Redo",keymap:$e(o.redo)},{name:"Selection - table, memo",keymap:`Ctrl + Drag, Click, Ctrl + Click, Cmd + Drag, Cmd + Click, ${$e(o.selectAllTable)}`},{name:"Selection - column",keymap:`Click, Ctrl + Click, Cmd + Click, Shift + Click, Shift + Arrow key(up, down), ${$e(o.selectAllColumn)}`},{name:"Movement - table, memo, column",keymap:"Drag, Ctrl + Drag, Cmd + Drag"},{name:"Copy - column",keymap:$e(o.copyColumn)},{name:"Paste - column",keymap:$e(o.pasteColumn)},{name:"Contextmenu - ERD, Table, Relationship, SQL DDL, Generator Code",keymap:"Right-click"},{name:"Table Properties",keymap:$e(o.tableProperties)},{name:"New Table",keymap:$e(o.addTable)},{name:"New Memo",keymap:$e(o.addMemo)},{name:"New - column, filter",keymap:$e(o.addColumn)},{name:"Delete - table, memo",keymap:$e(o.removeTable)},{name:"Delete - column, filter",keymap:$e(o.removeColumn)},{name:"Select Hint - dataType, find",keymap:"Arrow key(right), Click"},{name:"Move Hint - dataType, find",keymap:"Arrow key(up, down)"},{name:"Primary Key",keymap:$e(o.primaryKey)},{name:"Relationship - Zero One",keymap:$e(o.relationshipZeroOne)},{name:"Relationship - Zero N",keymap:$e(o.relationshipZeroN)},{name:"Relationship - One Only",keymap:$e(o.relationshipOneOnly)},{name:"Relationship - One N",keymap:$e(o.relationshipOneN)},{name:"Zoom In - ERD",keymap:$e(o.zoomIn)},{name:"Zoom Out - ERD",keymap:$e(o.zoomOut)}]},i=()=>t.dispatchEvent(new CustomEvent("close"));return()=>V`
    <vuerd-drawer
      name="Help"
      .width=${e.width}
      .visible=${e.visible}
      @close=${i}
    >
      <table>
        <thead>
          <th>Name</th>
          <th>Keymap</th>
        </thead>
        <tbody>
          ${r().map(o=>V`
              <tr>
                <td>${o.name}</td>
                <td>${o.keymap}</td>
              </tr>
            `)}
        </tbody>
      </table>
    </vuerd-drawer>
  `}});const jb=e=>jr(...e.map(t=>Ct(t,"dragover").pipe(oa(300),oo(()=>t.dataset.id)))).pipe(ao(50),Jm(jr(...e.map(t=>Ct(t,"dragend")))));fe("vuerd-setting-drawer",{observedProps:["width","visible"],shadow:!1,render:(e,t)=>{const n=ke(t),r=Ce({currentColumnType:null}),i=ds(".vuerd-column-order"),o=new kl(t.shadowRoot?t.shadowRoot:t,".vuerd-column-order","vuerd-column-order-move"),a=()=>t.dispatchEvent(new CustomEvent("close")),c=g=>{const y=g.target,{store:b}=n.value;b.dispatch(cg(y.checked))},d=(g,y)=>{const{store:b}=n.value;g&&g!==y&&(o.snapshot(),b.dispatch(ug(g,y)))},p=g=>{r.currentColumnType=g,i.value.forEach(y=>y.classList.add("none-hover")),jb(i.value).subscribe({next:y=>d(g,y),complete:()=>{r.currentColumnType=null,i.value.forEach(y=>y.classList.remove("none-hover"))}})},m=()=>{const{store:{tableState:{tables:g},relationshipState:{relationships:y}},helper:b}=n.value;Hy(g,b),Kr(g,y)};return Go(()=>o.play()),()=>{const{canvasState:{setting:g},editorState:{readonly:y}}=n.value.store;return V`
      <vuerd-drawer
        name="Setting"
        .width=${e.width}
        .visible=${e.visible}
        @close=${a}
      >
        <table class="vuerd-setting-drawer">
          <colgroup>
            <col width="190px" />
          </colgroup>
          <tbody>
            <tr>
              <td>Relationship DataType Sync</td>
              <td>
                <input
                  type="checkbox"
                  ?checked=${g.relationshipDataTypeSync}
                  ?disabled=${y}
                  @change=${c}
                />
              </td>
            </tr>
            <tr>
              <td>ColumnType Order</td>
              <td @dragenter=${vi} @dragover=${vi}>
                ${Ot(g.columnOrder,b=>b,b=>V`
                    <div
                      class=${et({"vuerd-column-order":!0,draggable:r.currentColumnType===b})}
                      data-id=${b}
                      draggable="true"
                      @dragstart=${()=>p(b)}
                    >
                      ${b}
                    </div>
                  `)}
              </td>
            </tr>
            <tr>
              <td>Recalculating table width</td>
              <td>
                <div
                  class="vuerd-recalculating-table-width-button"
                  @click=${m}
                >
                  <span>Sync</span>
                  <vuerd-icon name="sync-alt" size="12"></vuerd-icon>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </vuerd-drawer>
    `}}});const GP={nameWidth:85,keymapWidth:0,close:!1},VP=[{name:"SingleQuote",bracketType:"singleQuote"},{name:"DoubleQuote",bracketType:"doubleQuote"},{name:"Backtick",bracketType:"backtick"},{name:"None",bracketType:"none"}],Fb=({store:e})=>VP.map(t=>({icon:e.canvasState.bracketType===t.bracketType?{prefix:"fas",name:"check"}:void 0,name:t.name,execute:()=>e.dispatch(fg(t.bracketType)),options:{...GP}})),YP={nameWidth:105,keymapWidth:0,close:!1},Xl=({store:e})=>U6.map(t=>({icon:e.canvasState.highlightTheme===t?{prefix:"fas",name:"check"}:void 0,name:t,execute:()=>e.dispatch(dg(t)),options:{...YP}})),XP={nameWidth:100,keymapWidth:0},KP=e=>[{icon:{prefix:"mdi",name:"database",size:18},name:"Database",children:Tl(e)},{icon:{prefix:"mdi",name:"code-brackets",size:18},name:"Bracket",children:Fb(e)},{icon:{prefix:"mdi",name:"palette",size:18},name:"Highlight Theme",children:Xl(e)}].map(t=>({...t,options:{...XP}})),WP=pe`
  /*
  Atom One Dark by Daniel Gamage
  Original One Dark Syntax theme from https://github.com/atom/one-dark-syntax

  base:    #282c34
  mono-1:  #abb2bf
  mono-2:  #818896
  mono-3:  #5c6370
  hue-1:   #56b6c2
  hue-2:   #61aeee
  hue-3:   #c678dd
  hue-4:   #98c379
  hue-5:   #e06c75
  hue-5-2: #be5046
  hue-6:   #d19a66
  hue-6-2: #e6c07b
  */

  .hljs {
    display: block;
    overflow-x: auto;
    padding: 0.5em;
    color: #abb2bf;
    background: #282c34;
  }

  .hljs-comment,
  .hljs-quote {
    color: #5c6370;
    font-style: italic;
  }

  .hljs-doctag,
  .hljs-keyword,
  .hljs-formula {
    color: #c678dd;
  }

  .hljs-section,
  .hljs-name,
  .hljs-selector-tag,
  .hljs-deletion,
  .hljs-subst {
    color: #e06c75;
  }

  .hljs-literal {
    color: #56b6c2;
  }

  .hljs-string,
  .hljs-regexp,
  .hljs-addition,
  .hljs-attribute,
  .hljs-meta-string {
    color: #98c379;
  }

  .hljs-built_in,
  .hljs-class .hljs-title {
    color: #e6c07b;
  }

  .hljs-attr,
  .hljs-variable,
  .hljs-template-variable,
  .hljs-type,
  .hljs-selector-class,
  .hljs-selector-attr,
  .hljs-selector-pseudo,
  .hljs-number {
    color: #d19a66;
  }

  .hljs-symbol,
  .hljs-bullet,
  .hljs-link,
  .hljs-meta,
  .hljs-selector-id,
  .hljs-title {
    color: #61aeee;
  }

  .hljs-emphasis {
    font-style: italic;
  }

  .hljs-strong {
    font-weight: bold;
  }

  .hljs-link {
    text-decoration: underline;
  }
`,ZP=pe`
  /*
  Atom One Light by Daniel Gamage
  Original One Light Syntax theme from https://github.com/atom/one-light-syntax

  base:    #fafafa
  mono-1:  #383a42
  mono-2:  #686b77
  mono-3:  #a0a1a7
  hue-1:   #0184bb
  hue-2:   #4078f2
  hue-3:   #a626a4
  hue-4:   #50a14f
  hue-5:   #e45649
  hue-5-2: #c91243
  hue-6:   #986801
  hue-6-2: #c18401
  */

  .hljs {
    display: block;
    overflow-x: auto;
    padding: 0.5em;
    color: #383a42;
    background: #fafafa;
  }

  .hljs-comment,
  .hljs-quote {
    color: #a0a1a7;
    font-style: italic;
  }

  .hljs-doctag,
  .hljs-keyword,
  .hljs-formula {
    color: #a626a4;
  }

  .hljs-section,
  .hljs-name,
  .hljs-selector-tag,
  .hljs-deletion,
  .hljs-subst {
    color: #e45649;
  }

  .hljs-literal {
    color: #0184bb;
  }

  .hljs-string,
  .hljs-regexp,
  .hljs-addition,
  .hljs-attribute,
  .hljs-meta-string {
    color: #50a14f;
  }

  .hljs-built_in,
  .hljs-class .hljs-title {
    color: #c18401;
  }

  .hljs-attr,
  .hljs-variable,
  .hljs-template-variable,
  .hljs-type,
  .hljs-selector-class,
  .hljs-selector-attr,
  .hljs-selector-pseudo,
  .hljs-number {
    color: #986801;
  }

  .hljs-symbol,
  .hljs-bullet,
  .hljs-link,
  .hljs-meta,
  .hljs-selector-id,
  .hljs-title {
    color: #4078f2;
  }

  .hljs-emphasis {
    font-style: italic;
  }

  .hljs-strong {
    font-weight: bold;
  }

  .hljs-link {
    text-decoration: underline;
  }
`,QP=pe`
  /**
   * GitHub Gist Theme
   * Author : Anthony Attard - https://github.com/AnthonyAttard
   * Author : Louis Barranqueiro - https://github.com/LouisBarranqueiro
   */

  .hljs {
    display: block;
    background: white;
    padding: 0.5em;
    color: #333333;
    overflow-x: auto;
  }

  .hljs-comment,
  .hljs-meta {
    color: #969896;
  }

  .hljs-variable,
  .hljs-template-variable,
  .hljs-strong,
  .hljs-emphasis,
  .hljs-quote {
    color: #df5000;
  }

  .hljs-keyword,
  .hljs-selector-tag,
  .hljs-type {
    color: #d73a49;
  }

  .hljs-literal,
  .hljs-symbol,
  .hljs-bullet,
  .hljs-attribute {
    color: #0086b3;
  }

  .hljs-section,
  .hljs-name {
    color: #63a35c;
  }

  .hljs-tag {
    color: #333333;
  }

  .hljs-title,
  .hljs-attr,
  .hljs-selector-id,
  .hljs-selector-class,
  .hljs-selector-attr,
  .hljs-selector-pseudo {
    color: #6f42c1;
  }

  .hljs-addition {
    color: #55a532;
    background-color: #eaffea;
  }

  .hljs-deletion {
    color: #bd2c00;
    background-color: #ffecec;
  }

  .hljs-link {
    text-decoration: underline;
  }

  .hljs-number {
    color: #005cc5;
  }

  .hljs-string {
    color: #032f62;
  }
`,qP=pe`
  /*
    Monokai Sublime style. Derived from Monokai by noformnocontent http://nn.mit-license.org/
  */
  .hljs {
    display: block;
    overflow-x: auto;
    padding: 0.5em;
    background: #23241f;
  }

  .hljs,
  .hljs-tag,
  .hljs-subst {
    color: #f8f8f2;
  }

  .hljs-strong,
  .hljs-emphasis {
    color: #a8a8a2;
  }

  .hljs-bullet,
  .hljs-quote,
  .hljs-number,
  .hljs-regexp,
  .hljs-literal,
  .hljs-link {
    color: #ae81ff;
  }

  .hljs-code,
  .hljs-title,
  .hljs-section,
  .hljs-selector-class {
    color: #a6e22e;
  }

  .hljs-strong {
    font-weight: bold;
  }

  .hljs-emphasis {
    font-style: italic;
  }

  .hljs-keyword,
  .hljs-selector-tag,
  .hljs-name,
  .hljs-attr {
    color: #f92672;
  }

  .hljs-symbol,
  .hljs-attribute {
    color: #66d9ef;
  }

  .hljs-params,
  .hljs-class .hljs-title {
    color: #f8f8f2;
  }

  .hljs-string,
  .hljs-type,
  .hljs-built_in,
  .hljs-builtin-name,
  .hljs-selector-id,
  .hljs-selector-attr,
  .hljs-selector-pseudo,
  .hljs-addition,
  .hljs-variable,
  .hljs-template-variable {
    color: #e6db74;
  }

  .hljs-comment,
  .hljs-deletion,
  .hljs-meta {
    color: #75715e;
  }
`,JP=pe`
  /*
  * Visual Studio 2015 dark style
  * Author: Nicolas LLOBERA <nllobera@gmail.com>
  */

  .hljs {
    display: block;
    overflow-x: auto;
    padding: 0.5em;
    background: #1e1e1e;
    color: #dcdcdc;
  }

  .hljs-keyword,
  .hljs-literal,
  .hljs-symbol,
  .hljs-name {
    color: #569cd6;
  }
  .hljs-link {
    color: #569cd6;
    text-decoration: underline;
  }

  .hljs-built_in,
  .hljs-type {
    color: #4ec9b0;
  }

  .hljs-number,
  .hljs-class {
    color: #b8d7a3;
  }

  .hljs-string,
  .hljs-meta-string {
    color: #d69d85;
  }

  .hljs-regexp,
  .hljs-template-tag {
    color: #9a5334;
  }

  .hljs-subst,
  .hljs-function,
  .hljs-title,
  .hljs-params,
  .hljs-formula {
    color: #dcdcdc;
  }

  .hljs-comment,
  .hljs-quote {
    color: #57a64a;
    font-style: italic;
  }

  .hljs-doctag {
    color: #608b4e;
  }

  .hljs-meta,
  .hljs-meta-keyword,
  .hljs-tag {
    color: #9b9b9b;
  }

  .hljs-variable,
  .hljs-template-variable {
    color: #bd63c5;
  }

  .hljs-attr,
  .hljs-attribute,
  .hljs-builtin-name {
    color: #9cdcfe;
  }

  .hljs-section {
    color: gold;
  }

  .hljs-emphasis {
    font-style: italic;
  }

  .hljs-strong {
    font-weight: bold;
  }

  /*.hljs-code {
  font-family:'Monospace';
}*/

  .hljs-bullet,
  .hljs-selector-tag,
  .hljs-selector-id,
  .hljs-selector-class,
  .hljs-selector-attr,
  .hljs-selector-pseudo {
    color: #d7ba7d;
  }

  .hljs-addition {
    background-color: #144212;
    display: inline-block;
    width: 100%;
  }

  .hljs-deletion {
    background-color: #600;
    display: inline-block;
    width: 100%;
  }
`,eB={GraphQL:"graphql","C#":"csharp",Java:"java",Kotlin:"kotlin",TypeScript:"typescript",JPA:"java",Scala:"scala"},Hb={AtomOneDark:WP,AtomOneLight:ZP,MonokaiSublime:qP,GithubGist:QP,VS2015:JP},tB=pe`
  .vuerd-sql-ddl {
    height: 100%;
    white-space: pre;
    box-sizing: border-box;
    overflow: auto;
    font-family: monospace !important;
    outline: none;
  }
`,nB=(e,t)=>{const n=ke(t),r=Ce({menus:null,contextmenuX:0,contextmenuY:0}),{unmountedGroup:i}=Re(),o=d=>{d.preventDefault(),r.contextmenuX=d.clientX,r.contextmenuY=d.clientY,r.menus=KP(n.value)},a=()=>r.menus=null,c=()=>a();return Pe(()=>{const d=n.value,{store:{canvasState:p},eventBus:m}=d;i.push(ue(p,g=>{var b;if(g!=="database")return;const y=(b=r.menus)==null?void 0:b.find(C=>C.name==="Database");y&&(y.children=Tl(d))}),ue(p,g=>{var b;if(g!=="highlightTheme")return;const y=(b=r.menus)==null?void 0:b.find(C=>C.name==="Highlight Theme");y&&(y.children=Xl(d))}),ue(p,g=>{var b;if(g!=="bracketType")return;const y=(b=r.menus)==null?void 0:b.find(C=>C.name==="Bracket");y&&(y.children=Fb(d))}),m.on(je.Contextmenu.close).subscribe(a))}),()=>{const{store:d}=n.value,{canvasState:{highlightTheme:p}}=d,m=e.mode==="all"||!e.table?Vl(d):fP(d,e.table),g=sr.highlight(m,{language:"sql"}).value;return V`
      <style type="text/css">
        ${Hb[p]}
      </style>
      <div
        class="vuerd-sql-ddl vuerd-scrollbar hljs"
        contenteditable="true"
        spellcheck="false"
        @mousedown=${c}
        @contextmenu=${o}
      >
        ${Aa(g)}
        ${r.menus?V`
              <vuerd-contextmenu
                .menus=${r.menus}
                .x=${r.contextmenuX}
                .y=${r.contextmenuY}
                @close=${a}
              >
              </vuerd-contextmenu>
            `:null}
      </div>
    `}};fe("vuerd-sql-ddl",{observedProps:[{name:"table",default:null},{name:"mode",default:"all"}],styleMap:{width:"100%",height:"100%"},style:[tB,Yl].join(""),render:nB});const rB={nameWidth:50,keymapWidth:0,close:!1},iB=[{name:"Pascal",nameCase:"pascalCase"},{name:"Camel",nameCase:"camelCase"},{name:"Snake",nameCase:"snakeCase"},{name:"None",nameCase:"none"}],Gb=({store:e})=>iB.map(t=>({icon:e.canvasState.columnCase===t.nameCase?{prefix:"fas",name:"check"}:void 0,name:t.name,execute:()=>e.dispatch(lg(t.nameCase)),options:{...rB}})),oB={nameWidth:70,keymapWidth:0,close:!1},Vb=({store:e})=>B6.map(t=>({icon:e.canvasState.language===t?{prefix:"fas",name:"check"}:void 0,name:t,execute:()=>e.dispatch(ag(t)),options:{...oB}})),aB={nameWidth:50,keymapWidth:0,close:!1},sB=[{name:"Pascal",nameCase:"pascalCase"},{name:"Camel",nameCase:"camelCase"},{name:"Snake",nameCase:"snakeCase"},{name:"None",nameCase:"none"}],Yb=({store:e})=>sB.map(t=>({icon:e.canvasState.tableCase===t.nameCase?{prefix:"fas",name:"check"}:void 0,name:t.name,execute:()=>e.dispatch(sg(t.nameCase)),options:{...aB}})),lB={nameWidth:120,keymapWidth:0},cB=e=>[{icon:{prefix:"fas",name:"code"},name:"Language",children:Vb(e)},{icon:{prefix:"mdi",name:"format-letter-case",size:18},name:"Table Name Case",children:Yb(e)},{icon:{prefix:"mdi",name:"format-letter-case",size:18},name:"Column Name Case",children:Gb(e)},{icon:{prefix:"mdi",name:"palette",size:18},name:"Highlight Theme",children:Xl(e)}].map(t=>({...t,options:{...lB}}));function Jr(e,t){const n=uB(t);for(const r of n)if(e.toLocaleLowerCase().indexOf(r.name.toLocaleLowerCase())===0)return r.primitiveType;return"string"}function uB(e){for(const t of Wy)if(t.database===e)return t.dataTypeHints;return[]}function Ne(e,t){let n=e;switch(t){case"camelCase":n=li(e);break;case"pascalCase":n=NT(e);break;case"snakeCase":n=Zk(e);break}return n}const dB={int:"int",long:"long",float:"float",double:"double",decimal:"decimal",boolean:"bool",string:"string",lob:"string",date:"DateTime",dateTime:"DateTime",time:"TimeSpan"};function fB(e){const t=[""],{database:n,tableCase:r,columnCase:i}=e.canvasState;return mn(e.tableState.tables).forEach(a=>{Xb(a,t,n,r,i),t.push("")}),t.join(`
`)}function Xb(e,t,n,r,i){const o=Ne(e.name,r);e.comment.trim()!==""&&t.push(`// ${e.comment}`),t.push(`public class ${o} {`),e.columns.forEach(a=>{hB(a,t,n,i)}),t.push("}")}function hB(e,t,n,r){const i=Ne(e.name,r),o=Jr(e.dataType,n);e.comment.trim()!==""&&t.push(`  // ${e.comment}`),t.push(`  public ${dB[o]} ${i.charAt(0).toLocaleUpperCase()+i.slice(1)} { get; set; }`)}const pB={int:"Int",long:"Int",float:"Float",double:"Float",decimal:"Float",boolean:"Boolean",string:"String",lob:"String",date:"String",dateTime:"String",time:"String"};function mB(e){const t=[""],{database:n,tableCase:r,columnCase:i}=e.canvasState,o=mn(e.tableState.tables),a=e.relationshipState.relationships;return o.forEach(c=>{Kb(c,t,n,a,o,r,i),t.push("")}),t.join(`
`)}function Kb(e,t,n,r,i,o,a){const c=Ne(e.name,o);e.comment.trim()!==""&&t.push(`# ${e.comment}`),t.push(`type ${c} {`),e.columns.forEach(d=>{gB(d,t,n,a)}),vB(e,t,r,i,o,a),t.push("}")}function gB(e,t,n,r){if(!e.ui.fk){const i=Ne(e.name,r);if(e.comment.trim()!==""&&t.push(`  # ${e.comment}`),e.option.primaryKey||e.ui.fk)t.push(`  ${i}: ID${e.option.notNull?"!":""}`);else{const a=Jr(e.dataType,n);t.push(`  ${i}: ${pB[a]}${e.option.notNull?"!":""}`)}}}function vB(e,t,n,r,i,o){n.filter(a=>a.end.tableId===e.id).forEach(a=>{const c=B(r,a.start.tableId);if(c){const d=Ne(c.name,i),p=Ne(c.name,o);c.comment.trim()!==""&&t.push(`  # ${c.comment}`),t.push(`  ${p}: ${d}`)}}),n.filter(a=>a.start.tableId===e.id).forEach(a=>{const c=B(r,a.end.tableId);if(c){const d=Ne(c.name,i),p=Ne(c.name,o);c.comment.trim()!==""&&t.push(`  # ${c.comment}`),zd.includes(a.relationshipType)?t.push(`  ${p}: ${d}`):jd.includes(a.relationshipType)&&t.push(`  ${Ne(`${p}List`,o)}: [${d}!]!`)}})}const yB={int:"Integer",long:"Long",float:"Float",double:"Double",decimal:"BigDecimal",boolean:"Boolean",string:"String",lob:"String",date:"LocalDate",dateTime:"LocalDateTime",time:"LocalTime"};function bB(e){const t=[""],{database:n,tableCase:r,columnCase:i}=e.canvasState;return mn(e.tableState.tables).forEach(a=>{Wb(a,t,n,r,i),t.push("")}),t.join(`
`)}function Wb(e,t,n,r,i){const o=Ne(e.name,r);e.comment.trim()!==""&&t.push(`// ${e.comment}`),t.push("@Data"),t.push(`public class ${o} {`),e.columns.forEach(a=>{xB(a,t,n,i)}),t.push("}")}function xB(e,t,n,r){const i=Ne(e.name,r),o=Jr(e.dataType,n);e.comment.trim()!==""&&t.push(`  // ${e.comment}`),t.push(`  private ${yB[o]} ${i};`)}const Zb={int:"Integer",long:"Long",float:"Float",double:"Double",decimal:"BigDecimal",boolean:"Boolean",string:"String",lob:"String",date:"LocalDate",dateTime:"LocalDateTime",time:"LocalTime"};function wB(e){const t=[""],{database:n,tableCase:r,columnCase:i}=e.canvasState,o=mn(e.tableState.tables),a=e.relationshipState.relationships;return o.forEach(c=>{Qb(c,t,n,a,o,r,i),t.push("")}),t.join(`
`)}function Qb(e,t,n,r,i,o,a){const c=Ne(e.name,o),d=Ii(e.columns);if(d.length>1){t.push("@Data"),t.push(`public class ${Ne(`${e.name}Id`,o)} implements Serializable {`);const p=[];d.forEach(m=>{if(m.ui.pfk)r.filter(g=>g.end.columnIds.includes(m.id)).map(g=>B(i,g.start.tableId)).filter(g=>g!==null).forEach(g=>{p.some(y=>y.id===g.id)||p.push(g)});else{const g=Ne(m.name,a),y=Jr(m.dataType,n);t.push(`  private ${Zb[y]} ${g};`)}}),p.forEach(m=>{t.push(`  private ${Ne(m.name,o)} ${Ne(m.name,a)};`)}),t.push("}")}e.comment.trim()!==""&&t.push(`// ${e.comment}`),t.push("@Data"),t.push("@Entity"),d.length>1&&t.push(`@IdClass(${Ne(`${e.name}Id`,o)}.class)`),t.push(`public class ${c} {`),e.columns.forEach(p=>{CB(p,t,n,a)}),kB(e,t,r,i,o,a),t.push("}")}function CB(e,t,n,r){if(!e.ui.fk&&!e.ui.pfk){const i=Ne(e.name,r),o=Jr(e.dataType,n);e.comment.trim()!==""&&t.push(`  // ${e.comment}`),e.option.primaryKey?(t.push("  @Id"),e.option.autoIncrement&&t.push("  @GeneratedValue")):e.option.notNull&&t.push("  @Column(nullable = false)"),o==="lob"&&t.push("  @Lob"),t.push(`  private ${Zb[o]} ${i};`)}}function kB(e,t,n,r,i,o){n.filter(a=>a.end.tableId===e.id).forEach(a=>{const c=B(r,a.start.tableId),d=a.end.columnIds.map(p=>B(e.columns,p)).filter(p=>p!==null);if(c&&d.length!==0){const p=Ne(c.name,i),m=Ne(c.name,o);c.comment.trim()!==""&&t.push(`  // ${c.comment}`),Ei(d)&&t.push("  @Id"),zd.includes(a.relationshipType)?t.push("  @OneToOne"):jd.includes(a.relationshipType)&&t.push("  @ManyToOne"),d.length>1?(t.push("  @JoinColumns(value = {"),d.forEach((g,y)=>{t.push(`    @JoinColumn(name = "${Ne(g.name,"snakeCase")}")${d.length-1>y?",":""}`)}),t.push("  })")):t.push(`  @JoinColumn(name = "${Ne(d[0].name,"snakeCase")}")`),t.push(`  private ${p} ${m};`)}}),n.filter(a=>a.start.tableId===e.id).forEach(a=>{const c=B(r,a.end.tableId);if(c){const d=Ne(c.name,i),p=Ne(c.name,o);c.comment.trim()!==""&&t.push(`  // ${c.comment}`),zd.includes(a.relationshipType)?(t.push(`  @OneToOne(mappedBy = "${Ne(e.name,o)}")`),t.push(`  private ${d} ${p};`)):jd.includes(a.relationshipType)&&(t.push(`  @OneToMany(mappedBy = "${Ne(e.name,o)}")`),t.push(`  private List<${d}> ${Ne(`${p}List`,o)} = new ArrayList<>();`))}})}const qb={int:"Int",long:"Long",float:"Float",double:"Double",decimal:"BigDecimal",boolean:"Boolean",string:"String",lob:"String",date:"LocalDate",dateTime:"LocalDateTime",time:"LocalTime"};function $B(e){const t=[""],{database:n,tableCase:r,columnCase:i}=e.canvasState;return mn(e.tableState.tables).forEach(a=>{Jb(a,t,n,r,i),t.push("")}),t.join(`
`)}function Jb(e,t,n,r,i){const o=Ne(e.name,r);e.comment.trim()!==""&&t.push(`// ${e.comment}`),t.push(`class ${o} {`),e.columns.forEach(a=>{TB(a,t,n,i)}),t.push("}")}function TB(e,t,n,r){const i=Ne(e.name,r),o=Jr(e.dataType,n);e.comment.trim()!==""&&t.push(`  // ${e.comment}`),e.option.notNull&&o!=="date"&&o!=="dateTime"&&o!=="time"?t.push(`  var ${i}: ${qb[o]} = ${EB(o)}`):t.push(`  var ${i}: ${qb[o]}? = null`)}function EB(e){switch(e){case"int":case"long":return 0;case"float":return"0.0f";case"double":return"0.0";case"boolean":return!1;case"string":case"lob":return'""';case"decimal":return"BigDecimal.ZERO";case"date":case"dateTime":case"time":return null}}const IB={int:"Int",long:"Long",float:"Float",double:"Double",decimal:"BigDecimal",boolean:"Boolean",string:"String",lob:"String",date:"LocalDate",dateTime:"LocalDateTime",time:"LocalTime"};function SB(e){const t=[""],{database:n,tableCase:r,columnCase:i}=e.canvasState;return mn(e.tableState.tables).forEach(a=>{ex(a,t,n,r,i),t.push("")}),t.join(`
`)}function ex(e,t,n,r,i){const o=Ne(e.name,r);e.comment.trim()!==""&&t.push(`// ${e.comment}`),t.push("@Data"),t.push(`case class ${o}(`),e.columns.forEach((a,c,d)=>{var p=!0;c===d.length-1&&(p=!1),_B(a,t,n,i,p)}),t.push(")")}function _B(e,t,n,r,i){const o=Ne(e.name,r),a=Jr(e.dataType,n);e.comment.trim()!==""&&t.push(` // ${e.comment}`),t.push(` ${o}: ${IB[a]}${i?",":""}`)}const AB={int:"number",long:"number",float:"number",double:"number",decimal:"number",boolean:"boolean",string:"string",lob:"string",date:"string",dateTime:"string",time:"string"};function NB(e){const t=[""],{database:n,tableCase:r,columnCase:i}=e.canvasState;return mn(e.tableState.tables).forEach(a=>{tx(a,t,n,r,i),t.push("")}),t.join(`
`)}function tx(e,t,n,r,i){const o=Ne(e.name,r);e.comment.trim()!==""&&t.push(`// ${e.comment}`),t.push(`export interface ${o} {`),e.columns.forEach(a=>{OB(a,t,n,i)}),t.push("}")}function OB(e,t,n,r){const i=Ne(e.name,r),o=Jr(e.dataType,n);e.comment.trim()!==""&&t.push(`  // ${e.comment}`),t.push(`  ${i}: ${AB[o]}${e.option.notNull?"":" | null"};`)}function MB(e){const{language:t}=e.canvasState;switch(t){case"GraphQL":return mB(e);case"C#":return fB(e);case"Java":return bB(e);case"Kotlin":return $B(e);case"TypeScript":return NB(e);case"JPA":return wB(e);case"Scala":return SB(e)}return""}function DB(e,t){const n=[""],{language:r,database:i,tableCase:o,columnCase:a}=e.canvasState,{tables:c}=e.tableState,{relationships:d}=e.relationshipState;switch(r){case"GraphQL":Kb(t,n,i,d,c,o,a),n.push("");break;case"C#":Xb(t,n,i,o,a),n.push("");break;case"Java":Wb(t,n,i,o,a),n.push("");break;case"Kotlin":Jb(t,n,i,o,a),n.push("");break;case"TypeScript":tx(t,n,i,o,a),n.push("");break;case"JPA":Qb(t,n,i,d,c,o,a),n.push("");break;case"Scala":ex(t,n,i,o,a),n.push("");break}return n.join(`
`)}const RB=pe`
  .vuerd-generator-code {
    height: 100%;
    white-space: pre;
    box-sizing: border-box;
    overflow: auto;
    font-family: monospace !important;
    outline: none;
  }
`,LB=(e,t)=>{const n=ke(t),r=Ce({menus:null,contextmenuX:0,contextmenuY:0}),{unmountedGroup:i}=Re(),o=d=>{d.preventDefault(),r.contextmenuX=d.clientX,r.contextmenuY=d.clientY,r.menus=cB(n.value)},a=()=>r.menus=null,c=()=>a();return Pe(()=>{const d=n.value,{store:{canvasState:p},eventBus:m}=d;i.push(ue(p,g=>{var b;if(g!=="language")return;const y=(b=r.menus)==null?void 0:b.find(C=>C.name==="Language");y&&(y.children=Vb(d))}),ue(p,g=>{var b;if(g!=="highlightTheme")return;const y=(b=r.menus)==null?void 0:b.find(C=>C.name==="Highlight Theme");y&&(y.children=Xl(d))}),ue(p,g=>{var b;if(g!=="tableCase")return;const y=(b=r.menus)==null?void 0:b.find(C=>C.name==="Table Name Case");y&&(y.children=Yb(d))}),ue(p,g=>{var b;if(g!=="columnCase")return;const y=(b=r.menus)==null?void 0:b.find(C=>C.name==="Column Name Case");y&&(y.children=Gb(d))}),m.on(je.Contextmenu.close).subscribe(a))}),()=>{const{store:d}=n.value,{canvasState:{highlightTheme:p,language:m}}=d,g=e.mode==="all"||!e.table?MB(d):DB(d,e.table),y=sr.highlight(g,{language:eB[m]}).value;return V`
      <style type="text/css">
        ${Hb[p]}
      </style>
      <div
        class="vuerd-generator-code vuerd-scrollbar hljs"
        contenteditable="true"
        spellcheck="false"
        @mousedown=${c}
        @contextmenu=${o}
      >
        ${Aa(y)}
        ${r.menus?V`
              <vuerd-contextmenu
                .menus=${r.menus}
                .x=${r.contextmenuX}
                .y=${r.contextmenuY}
                @close=${a}
              >
              </vuerd-contextmenu>
            `:null}
      </div>
    `}};fe("vuerd-generator-code",{observedProps:[{name:"table",default:null},{name:"mode",default:"all"}],styleMap:{width:"100%",height:"100%"},style:[RB,Yl].join(""),render:LB});const PB=ws(ks("active",!0));function BB(e,t){const n=ke(t),{unmountedGroup:r}=Re(),i=Ce({value:"",hints:[],isFilter:!0,focus:!1}),o=Rt("input"),a=()=>PB(i.hints),c=()=>{if(!i.isFilter)return;const T=e.table.columns;i.hints=i.value.trim().length<1?[]:T.filter(I=>I.name.toLowerCase().indexOf(i.value.toLowerCase())!==-1).map(I=>({id:I.id,name:I.name,html:ku("vuerd-index-add-column-hint-mark",I.name,i.value),active:!1}))},d=()=>{i.hints.forEach(T=>T.active=!1)},p=T=>{const{store:I}=n.value,{indexes:_}=I.tableState,k=e.table.columns;d(),i.isFilter=!1,Us(o.value);const O=B(_,e.indexId),M=B(k,T.id);M&&O&&!O.columns.some(D=>D.id===M.id)&&I.dispatch(Od(e.indexId,M.id))},C={ArrowUp:T=>{i.hints.length!==0&&T.preventDefault();const I=a();I>0?(i.hints[I].active=!1,i.hints[I-1].active=!0):i.hints.length&&(I===0&&(i.hints[I].active=!1),i.hints[i.hints.length-1].active=!0)},ArrowDown:T=>{i.hints.length!==0&&T.preventDefault();const I=a();I!==-1&&I!==i.hints.length-1?(i.hints[I].active=!1,i.hints[I+1].active=!0):i.hints.length&&(I===i.hints.length-1&&(i.hints[I].active=!1),i.hints[0].active=!0)},ArrowLeft:()=>d(),ArrowRight:T=>{const I=a();if(I<0)return;T.preventDefault();const{store:_}=n.value,{indexes:k}=_.tableState,O=e.table.columns;i.isFilter=!1;const M=B(k,e.indexId),D=B(O,i.hints[I].id);D&&M&&!M.columns.some(P=>P.id===D.id)&&_.dispatch(Od(e.indexId,D.id))}},w=T=>{switch(T.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":C[T.key](T);break}},E=T=>{const I=T.target;i.value=I.value,i.isFilter=!0};return Pe(()=>r.push(ue(i,T=>{T==="value"&&c()}))),{hintState:i,onSelectHint:p,onKeydown:w,onInput:E}}const UB=(e,t)=>V`
  <ul class="vuerd-index-add-column-list">
    ${Ot(t.hints,n=>n.id,n=>V`
          <li
            class=${et({"vuerd-index-add-column-hint":!0,active:n.active})}
            @click=${()=>e.onSelectHint(n)}
          >
            ${Aa(n.html)}
          </li>
        `)}
  </ul>
`;fe("vuerd-index-add-column",{observedProps:["table","indexId"],shadow:!1,render:(e,t)=>{const n=ke(t),{hintState:r,onSelectHint:i,onKeydown:o,onInput:a}=BB(e,t);$l(t,".vuerd-index-add-column-hint","vuerd-index-add-column-hint-move");const c=()=>{r.focus=!0},d=()=>{r.focus=!1,setTimeout(()=>{r.focus||(r.hints=[])},200)};return()=>{const{store:{editorState:{readonly:p}}}=n.value;return V`
      <div class="vuerd-index-add-column">
        <input
          style="width: 80px;"
          type="text"
          placeholder="add column"
          spellcheck="false"
          ?disabled=${p}
          .value=${r.value}
          @keydown=${o}
          @input=${a}
          @focus=${c}
          @blur=${d}
        />
        ${UB({onSelectHint:i},r)}
      </div>
    `}}}),fe("vuerd-index-column",{observedProps:["table","indexId"],shadow:!1,render:(e,t)=>{const n=ke(t),r=Ce({currentColumnId:""}),i=ds(".vuerd-index-column"),o=ds(".vuerd-index-column-name"),a=new kl(t.shadowRoot?t.shadowRoot:t,".vuerd-index-column","vuerd-index-column-move"),{unmountedGroup:c}=Re(),{resetTooltip:d}=fn([".vuerd-index-column-button"],t),p=()=>{const{indexes:C}=n.value.store.tableState,w=B(C,e.indexId);return w?{id:w.id,columns:w.columns.map(E=>{const T=B(e.table.columns,E.id);if(!T)return null;const I=It(T);return I.orderType=E.orderType,I}).filter(E=>!!E)}:null},m=C=>{const{store:w}=n.value;let E="ASC";C.orderType==="ASC"&&(E="DESC"),w.dispatch(Q0(e.indexId,C.id,E))},g=C=>{const{store:w}=n.value;w.dispatch(W0(e.indexId,C.id))},y=(C,w)=>{const{store:E}=n.value;C!==w&&(a.snapshot(),E.dispatch(Z0(e.indexId,C,w)))},b=C=>{r.currentColumnId=C,o.value.forEach(w=>w.classList.add("none-hover")),jb(i.value).subscribe({next:w=>y(C,w),complete:()=>{r.currentColumnId="",o.value.forEach(w=>w.classList.remove("none-hover"))}})};return Pe(()=>{const{indexes:C}=n.value.store.tableState,w=B(C,e.indexId);c.push(ue(w.columns,()=>d()))}),Go(()=>a.play()),()=>{const C=p();return C?V`
          ${Ot(C.columns,w=>w.id,w=>V`
              <div
                class=${et({"vuerd-index-column":!0,draggable:r.currentColumnId===w.id})}
                data-id=${w.id}
                draggable="true"
                @dragstart=${()=>b(w.id)}
              >
                <div class="vuerd-index-column-name">${w.name}</div>
                <div
                  class="vuerd-index-column-order"
                  @click=${()=>m(w)}
                >
                  ${w.orderType}
                </div>
                <div style="display: inline-block;">
                  <vuerd-icon
                    class="vuerd-button vuerd-index-column-button"
                    data-tippy-content="Remove Column"
                    name="times"
                    size="9"
                    @click=${()=>g(w)}
                  ></vuerd-icon>
                </div>
              </div>
            `)}
        `:null}}});const zB=pe`
  .vuerd-indexes {
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  .vuerd-indexes input {
    display: inline-flex;
    vertical-align: middle;
    align-items: center;
    margin-right: ${qt}px;
    color: var(--vuerd-color-font-active);
    background-color: var(--vuerd-color-contextmenu);
    outline: none;
    border: none;
    opacity: 0.9;
    padding: 1px 0 1px 0;
    height: 23.5px;
    font-size: ${Qt}px;
    font-family: var(--vuerd-font-family);
    border-bottom: solid #fff0 1.5px;
  }
  .vuerd-indexes input:focus {
    border-bottom: solid var(--vuerd-color-edit) 1.5px;
  }
  .vuerd-index {
    fill: #fff0;
    color: var(--vuerd-color-font-active);
  }
  .vuerd-index:hover,
  .vuerd-index-column:hover {
    fill: var(--vuerd-color-font);
  }
  .vuerd-index-column {
    fill: #fff0;
    display: inline-block;
  }
  .vuerd-index-column.draggable {
    opacity: 0.5;
  }
  .vuerd-index-unique {
    display: inline-block;
    cursor: pointer;
    color: var(--vuerd-color-font-placeholder);
  }
  .vuerd-index-unique.checked {
    color: var(--vuerd-color-font-active);
  }
  .vuerd-index-column-name {
    display: inline-block;
    cursor: move;
    padding: 5px;
  }
  .vuerd-index-column-name:hover {
    background-color: var(--vuerd-color-contextmenu-active);
  }
  .vuerd-index-column-name.none-hover:hover {
    background-color: var(--vuerd-color-contextmenu);
  }
  .vuerd-index-column-order {
    display: inline-block;
    cursor: pointer;
  }
  .vuerd-index-add-column {
    display: inline-block;
    position: relative;
  }
  .vuerd-index-add-column-list {
    position: absolute;
    top: 27px;
    left: 0;
    z-index: 100;
    color: var(--vuerd-color-font);
    background-color: var(--vuerd-color-contextmenu);
    opacity: 0.9;
    list-style: none;
    padding: 0;
    margin: 0;
  }
  .vuerd-index-add-column-list > li {
    padding: 5px;
    cursor: pointer;
    font-size: ${Qt}px;
  }
  .vuerd-index-add-column-list > li:hover,
  .vuerd-index-add-column-hint.active {
    color: var(--vuerd-color-font-active);
    background-color: var(--vuerd-color-contextmenu-active);
  }
  .vuerd-index-add-column-list > li:hover .vuerd-index-add-column-hint-mark,
  .vuerd-index-add-column-hint.active .vuerd-index-add-column-hint-mark {
    color: var(--vuerd-color-font-active);
  }
  /* animation flip */
  .vuerd-index-add-column-hint-move {
    transition: transform 0.2s;
  }
  .vuerd-index-column-move {
    transition: transform 0.3s;
  }

  .vuerd-index-add-column-hint-mark {
    color: var(--vuerd-color-edit);
  }
`,jB=[Cf,zB].join("");fe("vuerd-indexes",{observedProps:[{name:"table",default:null}],styleMap:{width:"100%",height:"100%"},style:jB,render:(e,t)=>{const n=ke(t),{resetTooltip:r}=fn([".vuerd-indexes-button",".vuerd-index-unique"],t),{unmountedGroup:i}=Re(),o=()=>{const{indexes:m}=n.value.store.tableState;return m.filter(g=>{var y;return g.tableId===((y=e.table)==null?void 0:y.id)})},a=()=>{if(!e.table)return;const{store:m}=n.value;m.dispatch(Y0(e.table.id))},c=m=>{const{store:g}=n.value;g.dispatch($a([m.id]))},d=m=>{const{store:g}=n.value;g.dispatch(K0(m.id,!m.unique))},p=(m,g)=>{const{store:y}=n.value,b=m.target;y.dispatch(X0(g.id,b.value))};return Pe(()=>{const{indexes:m}=n.value.store.tableState;i.push(ue(m,()=>r()))}),()=>{const{store:{editorState:{readonly:m}}}=n.value,{table:g}=e,y=o();return g?V`
          <div class="vuerd-indexes">
            <div style="display: inline-block;">
              <vuerd-icon
                class="vuerd-button vuerd-indexes-button"
                data-tippy-content="New Index"
                name="plus"
                size="12"
                @click=${a}
              ></vuerd-icon>
            </div>
            <div class="vuerd-scrollbar" style="height: 100%; overflow: auto;">
              ${Ot(y,b=>b.id,b=>V`
                  <div class="vuerd-index">
                    <div style="display: inline-block;">
                      <vuerd-icon
                        class="vuerd-button vuerd-indexes-button"
                        data-tippy-content="Remove Index"
                        name="times"
                        size="9"
                        @click=${()=>c(b)}
                      ></vuerd-icon>
                    </div>
                    <div
                      class=${et({"vuerd-index-unique":!0,checked:b.unique})}
                      style="width: 22px;"
                      data-tippy-content="Unique"
                      @click=${()=>d(b)}
                    >
                      UQ
                    </div>
                    <input
                      type="text"
                      placeholder="index name"
                      spellcheck="false"
                      ?disabled=${m}
                      .value=${b.name}
                      @input=${C=>p(C,b)}
                    />
                    <vuerd-index-add-column
                      .table=${g}
                      .indexId=${b.id}
                    ></vuerd-index-add-column>
                    <vuerd-index-column
                      .table=${g}
                      .indexId=${b.id}
                      @dragenter=${vi}
                      @dragover=${vi}
                    ></vuerd-index-column>
                  </div>
                `)}
            </div>
          </div>
        `:null}}});const FB=[{name:"Indexes",type:"indexes"},{name:"SQL DDL",type:"SQL"},{name:"Generator Code",type:"GeneratorCode"}];fe("vuerd-table-properties-drawer",{observedProps:["width","visible","tableId"],shadow:!1,render:(e,t)=>{const n=Ce({tabType:"indexes"}),r=ke(t),i=()=>t.dispatchEvent(new CustomEvent("close")),o=a=>n.tabType=a;return()=>{const{tables:a}=r.value.store.tableState,c=B(a,e.tableId);return V`
      <vuerd-drawer
        .name=${`Table Properties "${(c==null?void 0:c.name)??""}"`}
        .width=${e.width}
        .visible=${e.visible}
        @close=${i}
      >
        <div class="vuerd-table-properties">
          <ul class="vuerd-table-properties-tab">
            ${FB.map(d=>V`
                <li
                  class=${et({active:d.type===n.tabType})}
                  @click=${()=>o(d.type)}
                >
                  ${d.name}
                </li>
              `)}
          </ul>
          <div class="vuerd-table-properties-body">
            ${c?n.tabType==="indexes"?V`<vuerd-indexes .table=${c}></vuerd-indexes>`:n.tabType==="SQL"?V`<vuerd-sql-ddl
                      mode="table"
                      .table=${c}
                    ></vuerd-sql-ddl>`:n.tabType==="GeneratorCode"?V`
                        <vuerd-generator-code
                          mode="table"
                          .table=${c}
                        ></vuerd-generator-code>
                      `:null:null}
          </div>
        </div>
      </vuerd-drawer>
    `}}});const HB=pe`
  .vuerd-toast-bar {
    position: absolute;
    z-index: 9999999;
    right: 50px;
    bottom: 50px;
    display: flex;
    flex-direction: column;
  }

  .vuerd-toast-bar-container {
    padding: 8px 16px 16px 16px;
    margin-top: 20px;
    width: 200px;
    box-shadow: 0 0 6px 0 black;
    background-color: var(--vuerd-color-contextmenu);
    color: var(--vuerd-color-font);
    fill: var(--vuerd-color-font);
    animation: showMove 0.3s ease;
  }

  .vuerd-toast-bar-header {
    display: flex;
    margin-bottom: 10px;
  }

  .vuerd-toast-bar-body {
  }

  .vuerd-btn {
    color: var(--vuerd-color-font-active);
    background-color: var(--vuerd-color-contextmenu);
    cursor: pointer;
    padding: 5px;
    display: inline-block;
  }

  .vuerd-btn:hover {
    background-color: var(--vuerd-color-contextmenu-active);
  }

  .vuerd-button {
    cursor: pointer;
    margin-left: auto;
  }

  .vuerd-button:hover {
    fill: var(--vuerd-color-font-active);
  }

  /* animation flip */
  .vuerd-toast-bar-container-move {
    transition: transform 0.3s;
  }

  @keyframes showMove {
    0% {
      transform: translateY(30px);
      opacity: 0;
    }
    100% {
      transform: translateY(0);
      opacity: 1;
    }
  }
`,GB=1e3*5;fe("vuerd-toast-bar",{style:HB,render:(e,t)=>{const n=ke(t),{unmountedGroup:r}=Re(),i=Ce({toastBars:[]});$l(t,".vuerd-toast-bar-container","vuerd-toast-bar-container-move");const o=c=>{const d=Ae(i.toastBars,c.id);d!==-1&&i.toastBars.splice(d,1)},a=c=>{const d=Object.assign({close:new Promise(p=>setTimeout(p,GB))},c,{id:Be()});i.toastBars.push(d),d.close.finally(()=>o(d))};return Pe(()=>{const{eventBus:c}=n.value;r.push(c.on(je.ToastBar.add).subscribe(a))}),()=>V`
    <div class="vuerd-toast-bar">
      ${Ot(i.toastBars,c=>c.id,c=>V`
          <div class="vuerd-toast-bar-container">
            <div class="vuerd-toast-bar-header">
              ${c.headerTpl}
              <vuerd-icon
                class="vuerd-button"
                name="times"
                size="12"
                @click=${()=>o(c)}
              ></vuerd-icon>
            </div>
            <div class="vuerd-toast-bar-body">${c.bodyTpl}</div>
          </div>
        `)}
    </div>
  `}});const VB=pe`
  @keyframes alert {
    0% {
      transform: translateY(-50px);
      opacity: 0;
    }
    100% {
      transform: translateY(0);
      opacity: 100;
    }
  }

  .vuerd-alert {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
  }

  .vuerd-alert-header {
    width: 100%;
  }

  .vuerd-alert > .vuerd-alert-message {
    margin-bottom: 10px;
  }

  .vuerd-alert-message {
    word-break: break-all;
    margin: 10px 0;
  }

  .vuerd-button {
    fill: var(--vuerd-color-font);
    float: right;
  }

  .vuerd-button:hover {
    fill: var(--vuerd-color-font-active);
    cursor: pointer;
  }
`;fe("vuerd-alert",{shadow:!1,observedProps:["message","onClose","visible"],styleMap:{width:"200px",position:"absolute",color:"var(--vuerd-color-font-active)",backgroundColor:"var(--vuerd-color-contextmenu)",margin:"10px",padding:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:"0 1px 6px var(--vuerd-color-minimap-shadow)",left:"50%",marginLeft:"-100px",marginTop:"40px",animation:"alert 1s ease forwards"},style:VB,render(e,t){const n=r=>{r.preventDefault(),e.onClose()};return()=>V`
      <div class="vuerd-alert">
        <div class="vuerd-alert-header">
          <vuerd-icon
            class="vuerd-button"
            name="times"
            size="12"
            @click=${r=>n(r)}
          ></vuerd-icon>
        </div>
        <span class="vuerd-alert-message"> ${e.message} </span>
      </div>
    `}});function YB(){var e=null;const t=Ce({message:"",visible:!1}),n=i=>{t.message=i,t.visible=!0,e&&clearTimeout(e),e=setTimeout(()=>{t.visible=!1,e=null},6e3)},r=()=>{t.visible=!1};return{showAlert:n,alertTpl(){return t.visible?V`
            <vuerd-alert
              .message=${t.message}
              .onClose=${r}
            ></vuerd-alert>
          `:null}}}function XB(e,{eventBus:t,store:n}){const r=Ce({help:!1,setting:!1,tableProperties:!1,tree:!1}),{unmountedGroup:i}=Re();let o="";const a=w=>()=>{Object.keys(r).forEach(E=>{E!==w&&(r[E]=!1)}),n.dispatch(vo(),Ku()),r[w]=!r[w]},c=w=>()=>r[w]=!1,d=a("help"),p=c("help"),m=a("setting"),g=c("setting"),y=a("tableProperties"),b=c("tableProperties"),C=()=>{r.tableProperties&&o&&n.dispatch(fa(n,!1,o)),p(),g(),b(),o=""};return Pe(()=>i.push(t.on(je.Drawer.openTableProperties).subscribe(w=>{n.dispatch(Fr(),go(),bi()),o=w.tableId,y()}),t.on(je.Drawer.close).subscribe(C))),{drawerTpl:()=>V`
      <vuerd-help-drawer
        .width=${e.width}
        .visible=${r.help}
        @close=${p}
      ></vuerd-help-drawer>
      <vuerd-setting-drawer
        .width=${e.width}
        .visible=${r.setting}
        @close=${g}
      ></vuerd-setting-drawer>
      <vuerd-table-properties-drawer
        .width=${e.width}
        .visible=${r.tableProperties}
        .tableId=${o}
        @close=${b}
      >
      </vuerd-table-properties-drawer>
    `,closeDrawer:C,openHelp:d,closeHelp:p,openSetting:m,closeSetting:g,openTableProperties:y,closeTableProperties:b}}function KB(e,t,{setFocus:n}){const{store:r,helper:i,eventBus:o}=e,{editorState:a}=r,{unmountedGroup:c}=Re();Object.defineProperty(t,"value",{get(){const{store:p}=e;return Sa(p,2)},set(p){const{store:m}=e;xt(p)&&p.trim()?m.dispatch(Hr(p)):m.dispatch(Js())}}),t.focus=()=>{i.focus(),n()},t.blur=()=>{i.blur(),n()},t.clear=()=>{r.dispatch(Js())},t.initLoadJson=p=>{xt(p)&&p.trim()&&r.dispatch(tv(p))},t.loadSQLDDL=p=>{if(xt(p)&&p.trim()){const m=uy(p),g=Uy(m,i,r.canvasState.database);r.dispatch(Hr(g),zu())}},t.getSQLDDL=p=>p&&Oy.includes(p)?Vl(r,p):Vl(r),t.setTheme=p=>MT(e.theme,p),t.setKeymap=p=>aR(e.keymap,p),t.extension=p=>{Dr(p.panels)&&a.panels.push(...p.panels),Dr(p.excludePanel)&&(a.excludePanel=p.excludePanel)};const d=()=>a.readonly||t.dispatchEvent(new CustomEvent("change"));Pe(()=>c.push(r.change$.subscribe(d),o.on(je.Editor.change).subscribe(d)))}const nx=50;function WB({helper:e,globalEvent:{moveStart$:t}},n){const r=Rt(".vuerd-editor"),i=Rt(".vuerd-ghost-text-helper"),o=Rt(".vuerd-ghost-focus-helper"),a=Ce({focus:!1}),{unmountedGroup:c}=Re();let d=null;const p=()=>{a.focus=document.activeElement===n&&document.hasFocus()},m=()=>{setTimeout(()=>{document.activeElement!==n&&e.focus(),p()},0)};return Vi(()=>{e.setGhostText(i.value),e.setGhostInput(o.value),e.focus(),p(),d=setInterval(()=>p(),200),c.push(jr(Ct(r.value,"mousedown"),Ct(r.value,"touchstart"),Ct(r.value,"vuerd-contextmenu-mousedown"),Ct(r.value,"vuerd-contextmenu-touchstart"),Ct(r.value,"vuerd-input-blur")).pipe(oa(nx)).subscribe(m),t.pipe(oa(nx)).subscribe(()=>setTimeout(p,0)),()=>clearInterval(d))}),{ghostTpl:V`
      <input class="vuerd-ghost-focus-helper" type="text" />
      <span class="vuerd-ghost-text-helper"></span>
    `,ghostState:a,setFocus:p,onFocus:m}}function ZB(e,{store:{editorState:t,canvasState:n}}){const r=Ce({count:0}),i={isPanel:!1,canvasType:""},o=()=>{const c=n.canvasType,d=[...qn.panels,...t.panels].filter(p=>!qi(qn.exclude,p.key)&&!qi(t.excludePanel,p.key));return c!=="ERD"&&d.some(p=>p.key===c)},a=()=>queueMicrotask(()=>{i.isPanel=!0,r.count++});return Fc(()=>r.count),us(()=>r.count),{hasPanel:o,panelTpl(){const c=e.width,d=e.height-Wi,p=n.canvasType,m=[...qn.panels,...t.panels].filter(y=>!qi(qn.exclude,y.key)&&!qi(t.excludePanel,y.key)),g=o();return i.isPanel=g,g&&i.canvasType!=p&&(i.isPanel=!1,a()),i.canvasType=p,i.isPanel?V`
            <vuerd-panel-view
              .width=${c}
              .height=${d}
              .panel=${m.find(y=>y.key===p)}
            ></vuerd-panel-view>
          `:null}}}const QB=pe`
  .vuerd-prompt {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
  }

  .vuerd-prompt-header {
    width: 100%;
  }

  .vuerd-prompt > .vuerd-prompt-message,
  .vuerd-prompt > .vuerd-prompt-input {
    margin-bottom: 10px;
  }

  .vuerd-prompt-message {
    word-break: break-all;
    margin: 10px 0;
  }

  .vuerd-button {
    fill: var(--vuerd-color-font);
    float: right;
  }

  .vuerd-button:hover {
    fill: var(--vuerd-color-font-active);
    cursor: pointer;
  }

  .vuerd-prompt-button {
    box-sizing: border-box;
    padding: 5px;
    display: inline-block;
    cursor: pointer;
    fill: var(--vuerd-color-font);
  }

  .vuerd-prompt-button:hover {
    color: var(--vuerd-color-font-active);
    background-color: var(--vuerd-color-contextmenu-active);
    fill: var(--vuerd-color-font-active);
  }
`;fe("vuerd-prompt",{shadow:!1,observedProps:["prompt","onSubmit","visible"],styleMap:{width:"200px",position:"absolute",color:"var(--vuerd-color-font-active)",backgroundColor:"var(--vuerd-color-contextmenu)",margin:"10px",padding:"8px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:"0 1px 6px var(--vuerd-color-minimap-shadow)",left:"50%",marginLeft:"-100px",marginTop:"40px"},style:QB,render(e,t){const n=Ce({input:""}),r=o=>{const a=o.target;n.input=a.value},i=(o,a)=>{o.preventDefault(),e.onSubmit(a?"":n.input.trim()),n.input=""};return()=>V`
      <div class="vuerd-prompt">
        <div class="vuerd-prompt-header">
          <vuerd-icon
            class="vuerd-button"
            name="times"
            size="12"
            @click=${o=>i(o,!0)}
          ></vuerd-icon>
        </div>
        <span class="vuerd-prompt-message"> ${e.prompt} </span>
        <vuerd-input
          .width=${170}
          .edit=${!0}
          .value=${n.input}
          .placeholder=${"unknown"}
          class="vuerd-prompt-input"
          @input=${r}
          @keyup-enter=${i}
        ></vuerd-input>
        <div class="vuerd-prompt-button" @click=${i}>Confirm</div>
      </div>
    `}});function qB(){const e=Ce({prompt:"",callback:n=>{},visible:!1});return{showPrompt:(n,r)=>{e.prompt=n,e.callback=r,e.visible=!0},promptTpl(){return e.visible?V`
            <vuerd-prompt
              .prompt=${e.prompt}
              .onSubmit=${n=>{e.visible=!1,e.callback(n)}}
            ></vuerd-prompt>
          `:null}}}const JB=e=>new wt(t=>e.pipe(qm(n=>n.code==="Enter"),ia(n=>n.key?n.pipe(Cu(r=>r.key!=="Process"),oa(100)):n)).subscribe(t)),eU=pe`
  /* easylogic-colorpicker */
  .easylogic-colorpicker {
    position: relative;
    width: 224px;
    z-index: 1000;
    display: inline-block;
    border: 1px solid rgba(0, 0, 0, 0.2);
    background-color: #fff;
    border-radius: 3px;
    -webkit-box-shadow: 0 0px 10px 2px rgba(0, 0, 0, 0.12);
    box-shadow: 0 0px 10px 2px rgba(0, 0, 0, 0.12);
    outline: none;
    /* theme */
  }
  .easylogic-colorpicker > .arrow {
    position: absolute;
    top: -10px;
    left: 7px;
    width: 0;
    height: 0;
    border-left: 10px solid transparent;
    border-right: 10px solid transparent;
    display: none;
    border-bottom: 10px solid rgba(0, 0, 0, 0.2);
    pointer-events: none;
  }
  .easylogic-colorpicker > .arrow:after {
    position: absolute;
    content: '';
    top: 1px;
    left: -9px;
    width: 0;
    height: 0;
    border-left: 9px solid transparent;
    border-right: 9px solid transparent;
    border-bottom: 9px solid white;
  }
  .easylogic-colorpicker .colorpicker-body .arrow-button {
    position: relative;
    width: 10px;
    height: 12px;
    padding: 0px;
    background-color: transparent;
  }
  .easylogic-colorpicker .colorpicker-body .arrow-button:before {
    content: '';
    display: inline-block;
    position: absolute;
    left: 0px;
    right: 0px;
    top: 0px;
    height: 50%;
    width: 0;
    height: 0;
    border-left: 3px solid transparent;
    border-right: 3px solid transparent;
    border-bottom: 3px solid black;
    pointer-events: none;
    margin: 2px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }
  .easylogic-colorpicker .colorpicker-body .arrow-button:after {
    content: '';
    display: inline-block;
    position: absolute;
    left: 0px;
    right: 0px;
    bottom: 0px;
    top: 50%;
    width: 0;
    height: 0;
    border-left: 3px solid transparent;
    border-right: 3px solid transparent;
    border-top: 3px solid black;
    pointer-events: none;
    margin: 2px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }
  .easylogic-colorpicker .colorpicker-body .color {
    position: relative;
    height: 120px;
    overflow: hidden;
    cursor: pointer;
  }
  .easylogic-colorpicker .colorpicker-body .color > .saturation {
    position: relative;
    width: 100%;
    height: 100%;
  }
  .easylogic-colorpicker .colorpicker-body .color > .saturation > .value {
    position: relative;
    width: 100%;
    height: 100%;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .color
    > .saturation
    > .value
    > .drag-pointer {
    position: absolute;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    -webkit-transform: translateX(-50%) translateY(-50%);
    transform: translateX(-50%) translateY(-50%);
  }
  .easylogic-colorpicker
    .colorpicker-body
    .color
    > .saturation
    > .value
    > .drag-pointer
    > div {
    border: 1px solid #ececec;
    -webkit-box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.05);
    box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.05);
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    position: absolute;
    width: 10px;
    height: 4px;
    background-color: white;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .color
    > .saturation
    > .value
    > .drag-pointer
    .left-saturation {
    left: 0%;
    top: 50%;
    -webkit-transform: translateX(calc(-100% - 4px)) translateY(-50%);
    transform: translateX(calc(-100% - 4px)) translateY(-50%);
    cursor: col-resize;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .color
    > .saturation
    > .value
    > .drag-pointer
    .right-saturation {
    left: 100%;
    top: 50%;
    -webkit-transform: translateX(4px) translateY(-50%);
    transform: translateX(4px) translateY(-50%);
    cursor: col-resize;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .color
    > .saturation
    > .value
    > .drag-pointer
    .top-value {
    width: 4px;
    height: 10px;
    left: 50%;
    top: 0%;
    -webkit-transform: translateX(-50%) translateY(calc(-100% - 4px));
    transform: translateX(-50%) translateY(calc(-100% - 4px));
    cursor: row-resize;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .color
    > .saturation
    > .value
    > .drag-pointer
    .bottom-value {
    width: 4px;
    height: 10px;
    left: 50%;
    top: 100%;
    -webkit-transform: translateX(-50%) translateY(4px);
    transform: translateX(-50%) translateY(4px);
    cursor: row-resize;
  }
  .easylogic-colorpicker .colorpicker-body .color > .saturation {
    background-color: rgba(204, 154, 129, 0);
    background-image: -webkit-gradient(
      linear,
      left top,
      right top,
      from(#fff),
      to(rgba(204, 154, 129, 0))
    );
    background-image: linear-gradient(to right, #fff, rgba(204, 154, 129, 0));
    background-repeat: repeat-x;
  }
  .easylogic-colorpicker .colorpicker-body .color > .saturation > .value {
    background-image: -webkit-gradient(
      linear,
      left bottom,
      left top,
      from(#000000),
      to(rgba(204, 154, 129, 0))
    );
    background-image: linear-gradient(to top, #000000, rgba(204, 154, 129, 0));
  }
  .easylogic-colorpicker
    .colorpicker-body
    .color
    > .saturation
    > .value
    > .drag-pointer {
    border: 1px solid #fff;
    -webkit-box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.05);
    box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.05);
  }
  .easylogic-colorpicker .colorpicker-body .control {
    position: relative;
    padding: 10px 0px 10px 0px;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
  .easylogic-colorpicker .colorpicker-body .control > .color,
  .easylogic-colorpicker .colorpicker-body .control > .empty {
    position: absolute;
    left: 12px;
    top: 14px;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }
  .easylogic-colorpicker .colorpicker-body .control > .color2,
  .easylogic-colorpicker .colorpicker-body .control > .empty2 {
    position: absolute;
    left: 12px;
    top: 50px;
    width: 30px;
    height: 20px;
    border-radius: 4px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }
  .easylogic-colorpicker .colorpicker-body .control > .color {
    border: 1px solid rgba(0, 0, 0, 0.1);
  }
  .easylogic-colorpicker .colorpicker-body .control > .hue {
    position: relative;
    padding: 3px 16px;
    margin: 0px 0px 0px 42px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    cursor: pointer;
  }
  .easylogic-colorpicker .colorpicker-body .control > .hue > .hue-container {
    position: relative;
    width: 100%;
    height: 14px;
    border-radius: 3px;
  }
  .easylogic-colorpicker .colorpicker-body .control > .hue-scale {
    position: relative;
    padding: 3px 16px;
    margin: 0px 0px 0px 42px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    cursor: pointer;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .control
    > .hue-scale
    > .hue-scale-container {
    position: relative;
    width: 100%;
    height: 14px;
  }
  .easylogic-colorpicker .colorpicker-body .control > .opacity {
    position: relative;
    padding: 3px 16px;
    margin: 0px 0px 0px 42px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    cursor: pointer;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .control
    > .opacity
    > .opacity-container {
    position: relative;
    width: 100%;
    height: 14px;
    border-radius: 3px;
  }
  .easylogic-colorpicker .colorpicker-body .control .drag-bar,
  .easylogic-colorpicker .colorpicker-body .control .drag-bar2 {
    position: absolute;
    cursor: pointer;
    top: 50%;
    left: 0px;
    -webkit-transform: translateX(-50%) translateY(-50%);
    transform: translateX(-50%) translateY(-50%);
    width: 12px;
    height: 12px;
    border-radius: 50%;
  }
  .easylogic-colorpicker .colorpicker-body .control > .hue > .hue-container {
    background: -webkit-gradient(
      linear,
      left top,
      right top,
      from(#ff0000),
      color-stop(17%, #ffff00),
      color-stop(33%, #00ff00),
      color-stop(50%, #00ffff),
      color-stop(67%, #0000ff),
      color-stop(83%, #ff00ff),
      to(#ff0000)
    );
    background: linear-gradient(
      to right,
      #ff0000 0%,
      #ffff00 17%,
      #00ff00 33%,
      #00ffff 50%,
      #0000ff 67%,
      #ff00ff 83%,
      #ff0000 100%
    );
  }
  .easylogic-colorpicker
    .colorpicker-body
    .control
    > .opacity
    > .opacity-container {
    background-color: transparent;
    background-image: linear-gradient(45deg, #ccc 25%, transparent 25%),
      linear-gradient(-45deg, #ccc 25%, transparent 25%),
      linear-gradient(45deg, transparent 75%, #ccc 75%),
      linear-gradient(-45deg, transparent 75%, #ccc 75%);
    background-size: 10px 10px;
    background-position:
      0 0,
      0 5px,
      5px -5px,
      -5px 0px;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .control
    > .opacity
    > .opacity-container
    > .color-bar {
    position: absolute;
    display: block;
    content: '';
    left: 0px;
    right: 0px;
    bottom: 0px;
    top: 0px;
  }
  .easylogic-colorpicker .colorpicker-body .control > .empty,
  .easylogic-colorpicker .colorpicker-body .control > .empty2 {
    background-color: transparent;
    background-image: linear-gradient(45deg, #ccc 25%, transparent 25%),
      linear-gradient(-45deg, #ccc 25%, transparent 25%),
      linear-gradient(45deg, transparent 75%, #ccc 75%),
      linear-gradient(-45deg, transparent 75%, #ccc 75%);
    background-size: 10px 10px;
    background-position:
      0 0,
      0 5px,
      5px -5px,
      -5px 0px;
  }
  .easylogic-colorpicker .colorpicker-body .control .drag-bar,
  .easylogic-colorpicker .colorpicker-body .control .drag-bar2 {
    border: 1px solid rgba(0, 0, 0, 0.05);
    -webkit-box-shadow: 2px 2px 2px 0px rgba(0, 0, 0, 0.2);
    box-shadow: 2px 2px 2px 0px rgba(0, 0, 0, 0.2);
    background-color: #fefefe;
  }
  .easylogic-colorpicker .colorpicker-body .information {
    /*border-top: 1px solid #e8e8e8;*/
    position: relative;
    -webkit-box-sizing: padding-box;
    box-sizing: padding-box;
  }
  .easylogic-colorpicker .colorpicker-body .information > input {
    position: absolute;
    font-size: 10px;
    height: 20px;
    bottom: 20px;
    padding: 0 0 0 2px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
  }
  .easylogic-colorpicker .colorpicker-body .information > input[type='number'] {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .information
    > input[type='number']::-webkit-inner-spin-button,
  .easylogic-colorpicker
    .colorpicker-body
    .information
    > input[type='number']::-webkit-outer-spin-button {
    -webkit-appearance: none;
    appearance: none;
    margin: 0;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .information.hex
    > .information-item.hex {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .information.rgb
    > .information-item.rgb {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .information.hsl
    > .information-item.hsl {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
  }
  .easylogic-colorpicker .colorpicker-body .information > .information-item {
    display: none;
    position: relative;
    padding: 0px 5px;
    padding-left: 9px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    margin-right: 40px;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .information
    > .information-item
    > .input-field {
    display: block;
    -webkit-box-flex: 1;
    -ms-flex: 1;
    flex: 1;
    padding: 3px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    position: relative;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .information
    > .information-item
    > .input-field
    > .title {
    text-align: center;
    font-size: 12px;
    color: #a9a9a9;
    padding-top: 2px;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .information
    > .information-item
    > .input-field
    input {
    text-align: center;
    width: 100%;
    padding: 3px;
    height: 21px;
    font-size: 11px;
    color: #333;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
    border: 1px solid #cbcbcb;
    border-radius: 2px;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .information
    > .information-item
    > .input-field
    input[type='number'] {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .information
    > .information-item
    > .input-field
    input[type='number']::-webkit-inner-spin-button,
  .easylogic-colorpicker
    .colorpicker-body
    .information
    > .information-item
    > .input-field
    input[type='number']::-webkit-outer-spin-button {
    -webkit-appearance: none;
    appearance: none;
    margin: 0;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .information
    > .information-item
    > .input-field.hsl-l
    input[type='number'],
  .easylogic-colorpicker
    .colorpicker-body
    .information
    > .information-item
    > .input-field.hsl-s
    input[type='number'] {
    padding-left: 1px;
    padding-right: 10px;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .information
    > .information-item
    > .input-field
    .postfix {
    display: inline-block;
    position: absolute;
    right: 3px;
    top: 2px;
    height: 21px;
    line-height: 2;
    padding: 2px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    text-align: center;
    font-size: 11px;
  }
  .easylogic-colorpicker .colorpicker-body .information > .information-change {
    position: absolute;
    display: block;
    width: 40px;
    top: 0px;
    right: 0px;
    bottom: 0px;
    text-align: center;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    padding-top: 5px;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .information
    > .information-change
    > .format-change-button {
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    background: transparent;
    border: 0px;
    cursor: pointer;
    outline: none;
  }
  .easylogic-colorpicker .colorpicker-body .information > .title {
    color: #a3a3a3;
  }
  .easylogic-colorpicker .colorpicker-body .information > .input {
    color: #333;
  }
  .easylogic-colorpicker .colorpicker-body .colorsets {
    border-top: 1px solid #e2e2e2;
  }
  .easylogic-colorpicker .colorpicker-body .colorsets > .menu {
    float: right;
    padding: 10px 5px;
    padding-right: 15px;
  }
  .easylogic-colorpicker .colorpicker-body .colorsets > .menu button {
    border: 0px;
    font-size: 14px;
    font-weight: 300;
    font-family: serif, sans-serif;
    outline: none;
    cursor: pointer;
  }
  .easylogic-colorpicker .colorpicker-body .colorsets > .color-list {
    margin-right: 30px;
    display: block;
    padding: 12px 0px 0px 12px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    line-height: 0;
  }
  .easylogic-colorpicker .colorpicker-body .colorsets > .color-list h6 {
    margin-top: 0px;
    margin-bottom: 8px;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .colorsets
    > .color-list
    .color-item {
    width: 13px;
    height: 13px;
    border-radius: 2px;
    display: inline-block;
    margin-right: 12px;
    margin-bottom: 12px;
    position: relative;
    background-size: contain;
    overflow: hidden;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    cursor: pointer;
    vertical-align: middle;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .colorsets
    > .color-list
    .color-item:hover {
    -webkit-transform: scale(1.2);
    transform: scale(1.2);
  }
  .easylogic-colorpicker
    .colorpicker-body
    .colorsets
    > .color-list
    .color-item
    .empty {
    position: absolute;
    left: 0px;
    top: 0px;
    background-color: transparent;
    background-image: linear-gradient(45deg, #ccc 25%, transparent 25%),
      linear-gradient(-45deg, #ccc 25%, transparent 25%),
      linear-gradient(45deg, transparent 75%, #ccc 75%),
      linear-gradient(-45deg, transparent 75%, #ccc 75%);
    background-size: 10px 10px;
    background-position:
      0 0,
      0 5px,
      5px -5px,
      -5px 0px;
    width: 100%;
    height: 100%;
    padding: 0px;
    margin: 0px;
    pointer-events: none;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .colorsets
    > .color-list
    .color-item
    .color-view {
    position: absolute;
    left: 0px;
    top: 0px;
    width: 100%;
    height: 100%;
    padding: 0px;
    margin: 0px;
    pointer-events: none;
    border: 1px solid rgba(0, 0, 0, 0.1);
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .colorsets
    > .color-list
    .add-color-item {
    width: 13px;
    height: 13px;
    display: inline-block;
    margin-right: 12px;
    margin-bottom: 12px;
    cursor: pointer;
    line-height: 1;
    text-align: center;
    font-size: 16px;
    font-weight: 400;
    font-family: serif, sans-serif;
    color: #8e8e8e;
    vertical-align: middle;
  }
  .easylogic-colorpicker .colorpicker-body .color-chooser {
    position: absolute;
    left: 0px;
    right: 0px;
    bottom: 0px;
    top: 0px;
    opacity: 0;
    background-color: rgba(0, 0, 0, 0.5);
    -webkit-transition: opacity 0.05s ease-out;
    transition: opacity 0.05s ease-out;
    pointer-events: none;
  }
  .easylogic-colorpicker .colorpicker-body .color-chooser.open {
    opacity: 1;
    pointer-events: all;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .color-chooser
    .color-chooser-container {
    position: absolute;
    top: 120px;
    left: 0px;
    right: 0px;
    bottom: 0px;
    background-color: white;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .color-chooser
    .color-chooser-container
    .colorsets-item-header {
    position: absolute;
    top: 0px;
    left: 0px;
    right: 0px;
    height: 34px;
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    padding: 3px 0px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  }
  .easylogic-colorpicker
    .colorpicker-body
    .color-chooser
    .color-chooser-container
    .colorsets-item-header
    .title {
    -webkit-box-flex: 2;
    -ms-flex: 2;
    flex: 2;
    font-weight: bold;
    font-size: 15px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    margin-right: 30px;
    vertical-align: middle;
    margin: 0px;
    padding: 5px;
    padding-left: 14px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    color: #000;
    text-align: left;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .color-chooser
    .color-chooser-container
    .colorsets-item-header
    .items {
    -webkit-box-flex: 1;
    -ms-flex: 1;
    flex: 1;
    text-align: right;
    padding-right: 10px;
    display: block;
    height: 100%;
    line-height: 2;
    cursor: pointer;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .color-chooser
    .color-chooser-container
    .colorsets-list {
    position: absolute;
    top: 34px;
    left: 0px;
    right: 0px;
    bottom: 0px;
    overflow: auto;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .color-chooser
    .color-chooser-container
    .colorsets-list
    .colorsets-item {
    cursor: pointer;
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    padding: 3px 0px;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }
  .easylogic-colorpicker
    .colorpicker-body
    .color-chooser
    .color-chooser-container
    .colorsets-list
    .colorsets-item:hover {
    background-color: rgba(0, 0, 0, 0.05);
  }
  .easylogic-colorpicker
    .colorpicker-body
    .color-chooser
    .color-chooser-container
    .colorsets-list
    .colorsets-item
    .title {
    -webkit-box-flex: 2;
    -ms-flex: 2;
    flex: 2;
    font-size: 14px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    margin-right: 30px;
    vertical-align: middle;
    pointer-events: none;
    margin: 0px;
    padding: 5px;
    padding-left: 14px;
    font-weight: normal;
    font-size: 13px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    color: #000;
    text-align: left;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .color-chooser
    .color-chooser-container
    .colorsets-list
    .colorsets-item
    .items {
    -webkit-box-flex: 3;
    -ms-flex: 3;
    flex: 3;
    display: block;
    height: 100%;
    line-height: 1.6;
    cursor: pointer;
    pointer-events: none;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .color-chooser
    .color-chooser-container
    .colorsets-list
    .colorsets-item
    .items
    .color-item {
    width: 13px;
    height: 13px;
    border-radius: 3px;
    display: inline-block;
    margin-right: 10px;
    background-color: transparent;
    background-image: linear-gradient(45deg, #ccc 25%, transparent 25%),
      linear-gradient(-45deg, #ccc 25%, transparent 25%),
      linear-gradient(45deg, transparent 75%, #ccc 75%),
      linear-gradient(-45deg, transparent 75%, #ccc 75%);
    background-size: 10px 10px;
    background-position:
      0 0,
      0 5px,
      5px -5px,
      -5px 0px;
    background-size: contain;
    border: 1px solid #dddddd;
    overflow: hidden;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    cursor: pointer;
    vertical-align: middle;
  }
  .easylogic-colorpicker
    .colorpicker-body
    .color-chooser
    .color-chooser-container
    .colorsets-list
    .colorsets-item
    .items
    .color-item
    .color-view {
    width: 100%;
    height: 100%;
    padding: 0px;
    margin: 0px;
    pointer-events: none;
  }
  .easylogic-colorpicker .gradient-editor {
    position: relative;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
  .easylogic-colorpicker .gradient-editor .tools {
    padding: 4px 6px;
  }
  .easylogic-colorpicker .gradient-editor .unit {
    display: grid;
    grid-template-columns: 110px 35px 50px;
    grid-column-gap: 5px;
    font-size: 11px;
  }
  .easylogic-colorpicker .gradient-editor .unit input,
  .easylogic-colorpicker .gradient-editor .unit select {
    width: 100%;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }
  .easylogic-colorpicker .gradient-editor .unit input {
    width: 35px;
  }
  .easylogic-colorpicker .gradient-editor [data-editor] {
    display: none;
    margin-top: 2px;
  }
  .easylogic-colorpicker .gradient-editor [data-editor] > label {
    font-size: 11px;
  }
  .easylogic-colorpicker
    .gradient-editor:not([data-selected-editor*='static-gradient'])
    [data-editor='gradient'],
  .easylogic-colorpicker
    .gradient-editor:not([data-selected-editor*='static-gradient'])
    [data-editor='tools'] {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor[data-selected-editor='linear-gradient']
    [data-editor='angle'],
  .easylogic-colorpicker
    .gradient-editor[data-selected-editor='repeating-linear-gradient']
    [data-editor='angle'],
  .easylogic-colorpicker
    .gradient-editor[data-selected-editor='conic-gradient']
    [data-editor='angle'],
  .easylogic-colorpicker
    .gradient-editor[data-selected-editor='repeating-conic-gradient']
    [data-editor='angle'] {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor[data-selected-editor='radial-gradient']
    [data-editor='centerX'],
  .easylogic-colorpicker
    .gradient-editor[data-selected-editor='radial-gradient']
    [data-editor='centerY'],
  .easylogic-colorpicker
    .gradient-editor[data-selected-editor='repeating-radial-gradient']
    [data-editor='centerX'],
  .easylogic-colorpicker
    .gradient-editor[data-selected-editor='repeating-radial-gradient']
    [data-editor='centerY'],
  .easylogic-colorpicker
    .gradient-editor[data-selected-editor='conic-gradient']
    [data-editor='centerX'],
  .easylogic-colorpicker
    .gradient-editor[data-selected-editor='conic-gradient']
    [data-editor='centerY'],
  .easylogic-colorpicker
    .gradient-editor[data-selected-editor='repeating-conic-gradient']
    [data-editor='centerX'],
  .easylogic-colorpicker
    .gradient-editor[data-selected-editor='repeating-conic-gradient']
    [data-editor='centerY'] {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor[data-selected-editor='radial-gradient']
    [data-editor='radialType'],
  .easylogic-colorpicker
    .gradient-editor[data-selected-editor='repeating-radial-gradient']
    [data-editor='radialType'] {
    margin-top: 5px;
    display: grid;
    grid-template-columns: 110px 90px;
    grid-column-gap: 2px;
  }
  .easylogic-colorpicker
    .gradient-editor[data-selected-editor='radial-gradient']
    [data-editor='radialType']
    select,
  .easylogic-colorpicker
    .gradient-editor[data-selected-editor='repeating-radial-gradient']
    [data-editor='radialType']
    select {
    width: 100%;
  }
  .easylogic-colorpicker .gradient-editor .sub-editor {
    padding: 0px 8px;
  }
  .easylogic-colorpicker .gradient-editor .gradient-steps {
    position: relative;
    height: 30px;
  }
  .easylogic-colorpicker .gradient-editor .hue-container,
  .easylogic-colorpicker .gradient-editor .hue {
    position: absolute;
    left: 10px;
    right: 10px;
    top: 4px;
    height: 14px;
    border-radius: 10px;
    border: 1px solid #cccccc;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    background-color: transparent;
    background-image: linear-gradient(45deg, #ccc 25%, transparent 25%),
      linear-gradient(-45deg, #ccc 25%, transparent 25%),
      linear-gradient(45deg, transparent 75%, #ccc 75%),
      linear-gradient(-45deg, transparent 75%, #ccc 75%);
    background-size: 10px 10px;
    background-position:
      0 0,
      0 5px,
      5px -5px,
      -5px 0px;
    pointer-events: all;
  }
  .easylogic-colorpicker .gradient-editor .hue {
    pointer-events: none;
  }
  .easylogic-colorpicker .gradient-editor .hue .step-list {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0px;
    left: 0px;
    border-radius: 10px;
    pointer-events: none;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='0']
    [data-index='0'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='0']
    [data-index='0']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='1']
    [data-index='1'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='1']
    [data-index='1']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='2']
    [data-index='2'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='2']
    [data-index='2']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='3']
    [data-index='3'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='3']
    [data-index='3']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='4']
    [data-index='4'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='4']
    [data-index='4']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='5']
    [data-index='5'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='5']
    [data-index='5']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='6']
    [data-index='6'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='6']
    [data-index='6']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='7']
    [data-index='7'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='7']
    [data-index='7']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='8']
    [data-index='8'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='8']
    [data-index='8']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='9']
    [data-index='9'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='9']
    [data-index='9']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='10']
    [data-index='10'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='10']
    [data-index='10']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='11']
    [data-index='11'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='11']
    [data-index='11']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='12']
    [data-index='12'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='12']
    [data-index='12']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='13']
    [data-index='13'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='13']
    [data-index='13']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='14']
    [data-index='14'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='14']
    [data-index='14']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='15']
    [data-index='15'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='15']
    [data-index='15']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='16']
    [data-index='16'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='16']
    [data-index='16']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='17']
    [data-index='17'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='17']
    [data-index='17']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='18']
    [data-index='18'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='18']
    [data-index='18']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='19']
    [data-index='19'] {
    border: 0px;
    -webkit-transform: translateX(-50%) translateY(calc(100%));
    transform: translateX(-50%) translateY(calc(100%));
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list[data-selected-index='19']
    [data-index='19']
    .arrow {
    display: block;
  }
  .easylogic-colorpicker .gradient-editor .hue .step-list .step {
    pointer-events: all;
    width: 10px;
    height: 10px;
    border: 1px solid white;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    display: inline-block;
    position: absolute;
    top: 50%;
    border-radius: 100%;
    -webkit-box-shadow: 0 0 2px 0px rgba(0, 0, 0, 0.5);
    box-shadow: 0 0 2px 0px rgba(0, 0, 0, 0.5);
    -webkit-transform: translateX(-50%) translateY(-50%);
    transform: translateX(-50%) translateY(-50%);
    background-color: transparent;
    background-image: linear-gradient(45deg, #ccc 25%, transparent 25%),
      linear-gradient(-45deg, #ccc 25%, transparent 25%),
      linear-gradient(45deg, transparent 75%, #ccc 75%),
      linear-gradient(-45deg, transparent 75%, #ccc 75%);
    background-size: 10px 10px;
    background-position:
      0 0,
      0 5px,
      5px -5px,
      -5px 0px;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list
    .step[data-cut='true'] {
    border-radius: 0%;
  }
  .easylogic-colorpicker
    .gradient-editor
    .hue
    .step-list
    .step[data-cut='true']
    .color-view {
    border-radius: 0%;
  }
  .easylogic-colorpicker .gradient-editor .hue .step-list .step .color-view {
    position: absolute;
    left: 0px;
    top: 0px;
    bottom: 0px;
    right: 0px;
    border-radius: 100%;
    pointer-events: none;
  }
  .easylogic-colorpicker .gradient-editor .hue .step-list .step .arrow {
    position: absolute;
    left: 50%;
    display: none;
    top: 0%;
    width: 5px;
    height: 5px;
    -webkit-transform: translateX(-50%) translateY(-120%);
    transform: translateX(-50%) translateY(-120%);
    pointer-events: none;
    -webkit-clip-path: polygon(40% 0%, 60% 0%, 60% 100%, 40% 100%);
    clip-path: polygon(40% 0%, 60% 0%, 60% 100%, 40% 100%);
  }
  .easylogic-colorpicker .gradient-editor input[type='range'] {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    width: 100%;
    margin: 6.2px 0;
    background-color: transparent;
  }
  .easylogic-colorpicker .gradient-editor input[type='range']:focus {
    outline: none;
  }
  .easylogic-colorpicker
    .gradient-editor
    input[type='range']::-webkit-slider-runnable-track {
    width: 100%;
    height: 1px;
    cursor: pointer;
    background: #556375;
    border-radius: 0px;
    border: 0px solid #010101;
  }
  .easylogic-colorpicker
    .gradient-editor
    input[type='range']::-webkit-slider-thumb {
    height: 10px;
    width: 10px;
    border-radius: 10px;
    background: #556375;
    cursor: pointer;
    -webkit-appearance: none;
    appearance: none;
    margin-top: -5px;
  }
  .easylogic-colorpicker
    .gradient-editor
    input[type='range']:focus::-webkit-slider-runnable-track {
    background: #3174ad;
  }
  .easylogic-colorpicker
    .gradient-editor
    input[type='range']::-moz-range-track {
    width: 100%;
    height: 1px;
    cursor: pointer;
    background: #556375;
    border-radius: 0px;
    border: 0px solid #010101;
  }
  .easylogic-colorpicker
    .gradient-editor
    input[type='range']::-moz-range-thumb {
    border: 1px solid #000000;
    height: 10px;
    width: 10px;
    border-radius: 9px;
    background: #556375;
    cursor: pointer;
  }
  .easylogic-colorpicker .gradient-editor input[type='range']::-ms-track {
    width: 100%;
    height: 1px;
    cursor: pointer;
    background: transparent;
    border-color: transparent;
    color: transparent;
  }
  .easylogic-colorpicker .gradient-editor input[type='range']::-ms-fill-lower {
    background: #556375;
    border: 0px solid #010101;
    border-radius: 0px;
    box-shadow:
      0px 0px 0px #000000,
      0px 0px 0px #0d0d0d;
  }
  .easylogic-colorpicker .gradient-editor input[type='range']::-ms-fill-upper {
    background: #556375;
    border: 0px solid #010101;
    border-radius: 0px;
  }
  .easylogic-colorpicker .gradient-editor input[type='range']::-ms-thumb {
    height: 10px;
    width: 10px;
    border-radius: 9px;
    background: #556375;
    cursor: pointer;
  }
  .easylogic-colorpicker
    .gradient-editor
    input[type='range']:focus::-ms-fill-lower {
    background: #556375;
  }
  .easylogic-colorpicker
    .gradient-editor
    input[type='range']:focus::-ms-fill-upper {
    background: #556375;
  }
  .easylogic-colorpicker.gradient-picker {
    width: 460px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }
  .easylogic-colorpicker.gradient-picker .gradient-body {
    display: grid;
    grid-template-columns: 1fr 224px;
  }
  .easylogic-colorpicker.gradient-picker .gradient-body > div:first-child {
    padding: 5px;
    border-right: 1px solid #cccccc;
  }
  .easylogic-colorpicker.gradient-picker .popup-item {
    margin-bottom: 5px;
  }
  .easylogic-colorpicker.gradient-picker .grid-2 {
    display: grid;
    grid-template-columns: 60px 1fr;
  }
  .easylogic-colorpicker.gradient-picker .grid-2 label {
    font-size: 11px;
    padding-right: 2px;
    text-align: left;
  }
  .easylogic-colorpicker.gradient-picker label {
    font-size: 11px;
  }
  .easylogic-colorpicker.gradient-picker .gradient-preview {
    width: 100%;
    height: 100px;
    position: relative;
    margin-bottom: 5px;
    border: 1px solid #cccccc;
    border-radius: 3px;
    overflow: hidden;
    background-color: transparent;
    background-image: linear-gradient(45deg, #ccc 25%, transparent 25%),
      linear-gradient(-45deg, #ccc 25%, transparent 25%),
      linear-gradient(45deg, transparent 75%, #ccc 75%),
      linear-gradient(-45deg, transparent 75%, #ccc 75%);
    background-size: 10px 10px;
    background-position:
      0 0,
      0 5px,
      5px -5px,
      -5px 0px;
  }
  .easylogic-colorpicker.gradient-picker .gradient-preview .gradient-view {
    position: absolute;
    left: 0px;
    top: 0px;
    right: 0px;
    bottom: 0px;
  }
  .easylogic-colorpicker.gradient-picker .picker-tab {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
  .easylogic-colorpicker.gradient-picker .picker-tab .picker-tab-list {
    text-align: center;
    padding: 2px 5px;
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list[data-value='linear-gradient']
    .picker-tab-item[data-selected-value='linear-gradient'] {
    -webkit-box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);
    box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list[data-value='linear-gradient']
    .picker-tab-item[data-selected-value='linear-gradient']
    .icon
    svg
    path {
    fill: rgba(0, 0, 255, 0.5);
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list[data-value='repeating-linear-gradient']
    .picker-tab-item[data-selected-value='repeating-linear-gradient'] {
    -webkit-box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);
    box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list[data-value='repeating-linear-gradient']
    .picker-tab-item[data-selected-value='repeating-linear-gradient']
    .icon
    svg
    path {
    fill: rgba(0, 0, 255, 0.5);
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list[data-value='radial-gradient']
    .picker-tab-item[data-selected-value='radial-gradient'] {
    -webkit-box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);
    box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list[data-value='radial-gradient']
    .picker-tab-item[data-selected-value='radial-gradient']
    .icon
    svg
    path {
    fill: rgba(0, 0, 255, 0.5);
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list[data-value='repeating-radial-gradient']
    .picker-tab-item[data-selected-value='repeating-radial-gradient'] {
    -webkit-box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);
    box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list[data-value='repeating-radial-gradient']
    .picker-tab-item[data-selected-value='repeating-radial-gradient']
    .icon
    svg
    path {
    fill: rgba(0, 0, 255, 0.5);
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list[data-value='conic-gradient']
    .picker-tab-item[data-selected-value='conic-gradient'] {
    -webkit-box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);
    box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list[data-value='conic-gradient']
    .picker-tab-item[data-selected-value='conic-gradient']
    .icon
    svg
    path {
    fill: rgba(0, 0, 255, 0.5);
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list[data-value='repeating-conic-gradient']
    .picker-tab-item[data-selected-value='repeating-conic-gradient'] {
    -webkit-box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);
    box-shadow: 0px 0px 3px 0px rgba(0, 0, 0, 0.5);
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list[data-value='repeating-conic-gradient']
    .picker-tab-item[data-selected-value='repeating-conic-gradient']
    .icon
    svg
    path {
    fill: rgba(0, 0, 255, 0.5);
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list
    .picker-tab-item {
    display: inline-block;
    vertical-align: middle;
    height: 20px;
    width: 20px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    cursor: pointer;
    position: relative;
    border-radius: 20%;
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list
    .picker-tab-item
    .icon {
    pointer-events: none;
    border-radius: 100%;
    display: inline-block;
    width: 90%;
    height: 90%;
    position: absolute;
    left: 50%;
    top: 50%;
    -webkit-transform: translateX(-50%) translateY(-50%);
    transform: translateX(-50%) translateY(-50%);
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list
    .picker-tab-item
    .icon
    svg {
    width: 100%;
    height: 100%;
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list
    .picker-tab-item[data-selected-value='static-gradient']
    .icon {
    background-image: -webkit-gradient(
      linear,
      left top,
      right top,
      from(red),
      to(red)
    );
    background-image: linear-gradient(to right, red, red);
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list
    .picker-tab-item[data-selected-value='linear-gradient']
    .icon {
    background-image: -webkit-gradient(
      linear,
      left top,
      right top,
      from(black),
      to(gray)
    );
    background-image: linear-gradient(to right, black, gray);
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list
    .picker-tab-item[data-selected-value='radial-gradient']
    .icon {
    background-image: radial-gradient(closest-side, black, #ebf8e1, gray);
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list
    .picker-tab-item[data-selected-value='conic-gradient']
    .icon {
    background-image: conic-gradient(black, #ebf8e1);
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list
    .picker-tab-item[data-selected-value='repeating-linear-gradient']
    .icon {
    background-image: repeating-linear-gradient(
      45deg,
      #3f87a6,
      #ebf8e1 15%,
      #f69d3c 20%
    );
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list
    .picker-tab-item[data-selected-value='repeating-radial-gradient']
    .icon {
    background-image: repeating-radial-gradient(
      circle,
      #3f87a6,
      #ebf8e1 15%,
      #f69d3c 20%
    );
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-tab-list
    .picker-tab-item[data-selected-value='repeating-conic-gradient']
    .icon {
    background-image: repeating-conic-gradient(
      #3f87a6,
      #ebf8e1 5%,
      #f69d3c 10%
    );
  }
  .easylogic-colorpicker.gradient-picker .picker-tab .picker-gradient-selector {
    padding: 2px 10px;
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-gradient-selector
    .gradient-steps {
    position: relative;
    display: block;
    height: 30px;
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-gradient-selector
    .gradient-steps
    .hue-container {
    width: 100%;
    height: 14px;
    position: absolute;
    z-index: 0;
    background-color: transparent;
    background-image: linear-gradient(45deg, #ccc 25%, transparent 25%),
      linear-gradient(-45deg, #ccc 25%, transparent 25%),
      linear-gradient(45deg, transparent 75%, #ccc 75%),
      linear-gradient(-45deg, transparent 75%, #ccc 75%);
    background-size: 10px 10px;
    background-position:
      0 0,
      0 5px,
      5px -5px,
      -5px 0px;
    -webkit-box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.1);
    box-shadow: 0 0 1px 0 rgba(0, 0, 0, 0.1);
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-gradient-selector
    .gradient-steps
    .hue {
    position: relative;
    padding: 0px;
    margin: 0px;
    cursor: pointer;
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-gradient-selector
    .gradient-steps
    .hue
    > .step-list {
    position: relative;
    width: 100%;
    cursor: copy;
    height: 14px;
    z-index: 1;
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-gradient-selector
    .gradient-steps
    .hue
    > .step-list.mode-drag {
    cursor: pointer;
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-gradient-selector
    .gradient-steps
    .hue
    .drag-bar {
    border: 0px;
    background-color: transparent;
    border: 2px solid white;
    -webkit-box-shadow: 0 0 2px 0px rgba(0, 0, 0, 0.6);
    box-shadow: 0 0 2px 0px rgba(0, 0, 0, 0.6);
    width: 10px;
    height: 10px;
    -webkit-transform: none;
    transform: none;
    border-radius: 50%;
    display: inline-block;
    left: 0px;
    top: 17px;
    -webkit-transform: translateX(-50%);
    transform: translateX(-50%);
    position: absolute;
    background-color: rgba(255, 255, 255, 0.8);
    cursor: pointer;
    -webkit-transition: top 0.3s ease-out;
    transition: top 0.3s ease-out;
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-gradient-selector
    .gradient-steps
    .hue
    .drag-bar
    .guide-line {
    pointer-events: none;
    position: absolute;
    width: 1px;
    height: 0px;
    bottom: 8px;
    left: 3px;
    -webkit-transform: translateX(-1px);
    transform: translateX(-1px);
    -webkit-transition: all 0.3s ease-out;
    transition: all 0.3s ease-out;
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-gradient-selector
    .gradient-steps
    .hue
    .drag-bar.selected {
    z-index: 1;
    top: 30px;
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-gradient-selector
    .gradient-steps
    .hue
    .drag-bar.selected
    .guide-line {
    height: 17px;
  }
  .easylogic-colorpicker.gradient-picker
    .picker-tab
    .picker-gradient-selector
    .gradient-steps
    .hue
    .drag-bar.selected
    .guide-change {
    opacity: 1;
  }
  .easylogic-colorpicker.gradient-picker .easylogic-colorpicker {
    width: 223px;
    border-radius: 0px;
    border-top-right-radius: 3px;
    border-bottom-right-radius: 3px;
    border: 0px;
    -webkit-box-shadow: none;
    box-shadow: none;
  }
  .easylogic-colorpicker.sketch {
    border-radius: 5px;
  }
  .easylogic-colorpicker.sketch > .colorpicker-body > .color {
    margin: 10px 10px 2px 10px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    height: 150px;
  }
  .easylogic-colorpicker.sketch > .colorpicker-body > .control {
    padding: 0px;
  }
  .easylogic-colorpicker.sketch > .colorpicker-body > .control > .color,
  .easylogic-colorpicker.sketch > .colorpicker-body > .control > .empty {
    position: absolute;
    right: 10px;
    left: auto;
    top: 2px;
    width: 40px;
    height: 44px;
    border-radius: 2px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }
  .easylogic-colorpicker.sketch > .colorpicker-body > .control > .color2,
  .easylogic-colorpicker.sketch > .colorpicker-body > .control > .empty2 {
    position: absolute;
    right: 10px;
    left: auto;
    top: 50px;
    width: 40px;
    height: 20px;
    border-radius: 2px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }
  .easylogic-colorpicker.sketch > .colorpicker-body > .control > .color {
    -webkit-box-shadow: inset 0px 0px 1px 0px rgba(0, 0, 0, 0.5);
    box-shadow: inset 0px 0px 1px 0px rgba(0, 0, 0, 0.5);
  }
  .easylogic-colorpicker.sketch > .colorpicker-body > .control > .hue {
    position: relative;
    padding: 2px 2px 2px 10px;
    margin: 0px 50px 0px 0px;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .control
    > .hue
    > .hue-container {
    border-radius: 0px;
    height: 20px;
  }
  .easylogic-colorpicker.sketch > .colorpicker-body > .control > .hue-scale {
    position: relative;
    padding: 2px 2px 2px 10px;
    margin: 0px 50px 0px 0px;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .control
    > .hue-scale
    > .hue-scale-container {
    border-radius: 0px;
    height: 20px;
  }
  .easylogic-colorpicker.sketch > .colorpicker-body > .control > .opacity {
    position: relative;
    padding: 2px 2px 2px 10px;
    margin: 0px 50px 0px 0px;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .control
    > .opacity
    > .opacity-container {
    border-radius: 0px;
    height: 20px;
  }
  .easylogic-colorpicker.sketch > .colorpicker-body > .control .drag-bar,
  .easylogic-colorpicker.sketch > .colorpicker-body > .control .drag-bar2 {
    border-radius: 0px;
    top: 50%;
    left: 0px;
    width: 5px;
    height: 80%;
    -webkit-transform: translateX(-50%) translateY(-50%);
    transform: translateX(-50%) translateY(-50%);
    border-radius: 1px;
    bottom: 1px !important;
  }
  .easylogic-colorpicker.sketch > .colorpicker-body > .control .drag-bar.first,
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .control
    .drag-bar2.first {
    left: 0px;
    -webkit-transform: translateX(50%) translateY(-50%) !important;
    transform: translateX(50%) translateY(-50%) !important;
  }
  .easylogic-colorpicker.sketch > .colorpicker-body > .control .drag-bar.last,
  .easylogic-colorpicker.sketch > .colorpicker-body > .control .drag-bar2.last {
    -webkit-transform: translateX(-110%) translateY(-50%) !important;
    transform: translateX(-110%) translateY(-50%) !important;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .information
    .information-change {
    display: none;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .information.rgb
    .information-item.rgb {
    display: inherit;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .information.rgb
    .information-item.hsl {
    display: none !important;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .information.hex
    .information-item.hex {
    display: inherit;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .information.hex
    .information-item.hsl {
    display: none !important;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .information.hsl
    .information-item.rgb {
    display: none !important;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .information.hsl
    .information-item.hsl {
    display: inherit;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .information
    .information-item {
    display: -webkit-inline-box !important;
    display: -ms-inline-flexbox !important;
    display: inline-flex !important;
    margin-right: 0px;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .information
    .information-item
    > .input-field {
    padding-left: 0px;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .information
    .information-item
    > .input-field:last-child {
    padding-right: 0px;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .information
    .information-item
    > .input-field
    > .title {
    color: black;
    font-size: 11px;
    cursor: pointer;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .information
    .information-item
    > .input-field:last-child:not(:first-child) {
    padding-right: 0px;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .information
    .information-item.hex {
    width: 74px;
    padding-right: 0px;
    padding-left: 5px;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .information
    .information-item.rgb {
    width: 140px;
    padding-left: 0px;
    padding-right: 0px;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .information
    .information-item.hsl {
    display: none;
    width: 140px;
    padding-left: 0px;
    padding-right: 0px;
  }
  .easylogic-colorpicker.sketch > .colorpicker-body > .colorsets > .color-list {
    margin-right: 0px;
    padding-right: 12px;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .colorsets
    > .color-list
    h6 {
    margin-top: 0px;
    margin-bottom: 8px;
  }
  .easylogic-colorpicker.sketch
    > .colorpicker-body
    > .colorsets
    > .color-list
    .color-item {
    width: 16px;
    height: 16px;
    border-radius: 3px;
    margin-right: 9px;
    margin-bottom: 10px;
  }
  .easylogic-colorpicker.palette {
    border-radius: 3px;
    -webkit-box-shadow: none;
    box-shadow: none;
  }
  .easylogic-colorpicker.palette > .colorpicker-body > .color {
    display: none;
  }
  .easylogic-colorpicker.palette > .colorpicker-body > .control {
    display: none;
  }
  .easylogic-colorpicker.palette > .colorpicker-body > .information {
    display: none;
  }
  .easylogic-colorpicker.palette > .colorpicker-body > .colorsets {
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    border-top: 0px;
  }
  .easylogic-colorpicker.palette
    > .colorpicker-body
    > .colorsets
    > .color-list
    h6 {
    margin-top: 0px;
    margin-bottom: 8px;
  }
  .easylogic-colorpicker.palette
    > .colorpicker-body
    > .colorsets
    > .color-list
    .color-item {
    width: 15px;
    height: 15px;
    margin-right: 10px;
    margin-bottom: 10px;
  }
  .easylogic-colorpicker.palette > .colorpicker-body > .color-chooser {
    display: none;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }
  .easylogic-colorpicker.palette > .colorpicker-body > .color-chooser.open {
    display: block;
    top: -1px;
    left: -1px;
    right: -1px;
    bottom: auto;
    border-radius: 3px;
    border: 1px solid #d8d8d8;
    -webkit-box-shadow: 0 0px 10px 2px rgba(0, 0, 0, 0.12);
    box-shadow: 0 0px 10px 2px rgba(0, 0, 0, 0.12);
  }
  .easylogic-colorpicker.palette
    > .colorpicker-body
    > .color-chooser.open
    .color-chooser-container {
    position: relative;
    top: auto;
    left: auto;
    right: auto;
    bottom: auto;
    background-color: white;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    border-radius: 2px;
  }
  .easylogic-colorpicker.palette
    > .colorpicker-body
    > .color-chooser.open
    .color-chooser-container
    .colorsets-item-header {
    position: relative;
    left: auto;
    top: auto;
    right: auto;
    bottom: auto;
    border-top-left-radius: 3px;
    border-top-right-radius: 3px;
  }
  .easylogic-colorpicker.palette
    > .colorpicker-body
    > .color-chooser.open
    .color-chooser-container
    .colorsets-list {
    position: relative;
    top: auto;
    left: auto;
    right: auto;
    bottom: auto;
    overflow: auto;
  }
  .easylogic-colorpicker.palette
    > .colorpicker-body
    > .color-chooser.open
    .color-chooser-container
    .colorsets-list
    .colorsets-item:last-child {
    border-bottom-left-radius: 3px;
    border-bottom-right-radius: 3px;
  }
  .easylogic-colorpicker.macos .colorpicker-body .wheel {
    width: 224px;
    height: 224px;
    position: relative;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }
  .easylogic-colorpicker.macos .colorpicker-body .wheel .wheel-canvas {
    width: 214px;
    height: 214px;
    border-radius: 50%;
    position: absolute;
    left: 5px;
    top: 5px;
  }
  .easylogic-colorpicker.macos .colorpicker-body .wheel .drag-pointer {
    display: inline-block;
    position: absolute;
    width: 10px;
    height: 10px;
    left: 50%;
    top: 50%;
    border: 1px solid white;
    border-radius: 50%;
    -webkit-transform: translateX(-50%) translateY(-50%);
    transform: translateX(-50%) translateY(-50%);
    z-index: 2;
  }
  .easylogic-colorpicker.macos .control {
    padding-top: 0px;
  }
  .easylogic-colorpicker.macos .control > .color,
  .easylogic-colorpicker.macos .control > .empty {
    top: 4px;
  }
  .easylogic-colorpicker.macos .value {
    position: relative;
    padding: 6px 16px;
    margin: 0px 0px 0px 42px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    cursor: pointer;
  }
  .easylogic-colorpicker.macos .value > .value-container {
    position: relative;
    width: 100%;
    height: 10px;
    border-radius: 3px;
    background-image: -webkit-gradient(
      linear,
      left top,
      right top,
      from(#000000),
      to(rgba(255, 255, 255, 0))
    );
    background-image: linear-gradient(
      to right,
      #000000 0%,
      rgba(255, 255, 255, 0) 100%
    );
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }
  .easylogic-colorpicker.macos .value > .value-container .drag-bar {
    position: absolute;
    cursor: pointer;
    top: 50%;
    left: 0px;
    -webkit-transform: translateX(-50%) translateY(-50%);
    transform: translateX(-50%) translateY(-50%);
    width: 12px;
    height: 12px;
    border-radius: 50%;
  }
  .easylogic-colorpicker.mini {
    width: 180px;
    display: inline-block;
  }
  .easylogic-colorpicker.mini .control {
    padding: 0px;
  }
  .easylogic-colorpicker.mini .control .hue,
  .easylogic-colorpicker.mini .control .opacity {
    margin: 0px;
    padding: 0px;
  }
  .easylogic-colorpicker.mini .control .hue > .hue-container {
    border-radius: 0px;
    overflow: hidden;
    height: 20px;
  }
  .easylogic-colorpicker.mini .control .opacity > .opacity-container {
    border-radius: 0px;
    overflow: hidden;
    height: 20px;
  }
  .easylogic-colorpicker.mini .control .drag-bar,
  .easylogic-colorpicker.mini .control .drag-bar2 {
    border: 0px;
    background-color: transparent;
    height: 100%;
    width: 5px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    -webkit-box-shadow: none;
    box-shadow: none;
  }
  .easylogic-colorpicker.mini .control .drag-bar.last:before,
  .easylogic-colorpicker.mini .control .drag-bar.lastafter,
  .easylogic-colorpicker.mini .control .drag-bar2.last:before,
  .easylogic-colorpicker.mini .control .drag-bar2.lastafter {
    left: 1px;
  }
  .easylogic-colorpicker.mini .control .drag-bar.first:before,
  .easylogic-colorpicker.mini .control .drag-bar.first:after,
  .easylogic-colorpicker.mini .control .drag-bar2.first:before,
  .easylogic-colorpicker.mini .control .drag-bar2.first:after {
    left: 3px;
  }
  .easylogic-colorpicker.mini .control .drag-bar:before,
  .easylogic-colorpicker.mini .control .drag-bar2:before {
    content: '';
    position: absolute;
    left: 2px;
    top: 0px;
    width: 0;
    height: 0;
    -webkit-transform: translateX(-50%);
    transform: translateX(-50%);
    border-left: 4px solid transparent;
    border-right: 4px solid transparent;
    border-top: 4px solid black;
  }
  .easylogic-colorpicker.mini .control .drag-bar:after,
  .easylogic-colorpicker.mini .control .drag-bar2:after {
    content: '';
    position: absolute;
    left: 2px;
    bottom: 0px;
    width: 0;
    height: 0;
    -webkit-transform: translateX(-50%);
    transform: translateX(-50%);
    border-left: 4px solid transparent;
    border-right: 4px solid transparent;
    border-bottom: 4px solid black;
  }
  .easylogic-colorpicker.mini-vertical {
    width: 180px;
    display: inline-block;
  }
  .easylogic-colorpicker.mini-vertical .color {
    display: inline-block;
    width: 140px;
    height: 160px;
    vertical-align: middle;
  }
  .easylogic-colorpicker.mini-vertical .control {
    height: 160px;
    padding: 0px;
    vertical-align: middle;
    display: inline-block;
  }
  .easylogic-colorpicker.mini-vertical .control .hue,
  .easylogic-colorpicker.mini-vertical .control .opacity {
    margin: 0px;
    padding: 0px;
    width: 20px;
    display: inline-block;
    vertical-align: middle;
    height: 100%;
    position: relative;
  }
  .easylogic-colorpicker.mini-vertical .control .hue > .hue-container {
    border-radius: 0px;
    overflow: hidden;
    height: 100%;
    background: -webkit-gradient(
      linear,
      left bottom,
      left top,
      from(#ff0000),
      color-stop(17%, #ffff00),
      color-stop(33%, #00ff00),
      color-stop(50%, #00ffff),
      color-stop(67%, #0000ff),
      color-stop(83%, #ff00ff),
      to(#ff0000)
    );
    background: linear-gradient(
      to top,
      #ff0000 0%,
      #ffff00 17%,
      #00ff00 33%,
      #00ffff 50%,
      #0000ff 67%,
      #ff00ff 83%,
      #ff0000 100%
    );
  }
  .easylogic-colorpicker.mini-vertical .control .opacity > .opacity-container {
    border-radius: 0px;
    overflow: hidden;
    height: 100%;
    width: 20px;
  }
  .easylogic-colorpicker.mini-vertical .control .drag-bar,
  .easylogic-colorpicker.mini-vertical .control .drag-bar2 {
    border: 0px;
    background-color: transparent;
    height: 2px;
    width: 100%;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    -webkit-box-shadow: none;
    box-shadow: none;
    -webkit-transform: none;
    transform: none;
  }
  .easylogic-colorpicker.mini-vertical .control .drag-bar.last:before,
  .easylogic-colorpicker.mini-vertical .control .drag-bar.last:after,
  .easylogic-colorpicker.mini-vertical .control .drag-bar2.last:before,
  .easylogic-colorpicker.mini-vertical .control .drag-bar2.last:after {
    top: 2px;
  }
  .easylogic-colorpicker.mini-vertical .control .drag-bar.first:before,
  .easylogic-colorpicker.mini-vertical .control .drag-bar.first:after,
  .easylogic-colorpicker.mini-vertical .control .drag-bar2.first:before,
  .easylogic-colorpicker.mini-vertical .control .drag-bar2.first:after {
    top: -1px;
  }
  .easylogic-colorpicker.mini-vertical .control .drag-bar:before,
  .easylogic-colorpicker.mini-vertical .control .drag-bar2:before {
    content: '';
    position: absolute;
    left: 0px;
    top: 2px;
    width: 0;
    height: 0;
    -webkit-transform: translateY(-50%);
    transform: translateY(-50%);
    border-top: 4px solid transparent;
    border-bottom: 4px solid transparent;
    border-left: 4px solid black;
  }
  .easylogic-colorpicker.mini-vertical .control .drag-bar:after,
  .easylogic-colorpicker.mini-vertical .control .drag-bar2:after {
    content: '';
    position: absolute;
    top: 2px;
    right: 0px;
    width: 0;
    height: 0;
    -webkit-transform: translateY(-50%);
    transform: translateY(-50%);
    border-top: 4px solid transparent;
    border-bottom: 4px solid transparent;
    border-right: 4px solid black;
  }
  .easylogic-colorpicker.ring .colorpicker-body > .color {
    position: absolute;
    width: 120px;
    height: 120px;
    left: 52px;
    top: 52px;
  }
  .easylogic-colorpicker.ring .colorpicker-body .wheel {
    width: 224px;
    height: 224px;
    position: relative;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
  }
  .easylogic-colorpicker.ring .colorpicker-body .wheel .wheel-canvas {
    width: 214px;
    height: 214px;
    border-radius: 50%;
    position: absolute;
    left: 5px;
    top: 5px;
  }
  .easylogic-colorpicker.ring .colorpicker-body .wheel .drag-pointer {
    display: inline-block;
    position: absolute;
    width: 10px;
    height: 10px;
    left: 50%;
    top: 50%;
    border: 1px solid white;
    border-radius: 50%;
    -webkit-transform: translateX(-50%) translateY(-50%);
    transform: translateX(-50%) translateY(-50%);
    z-index: 2;
  }
  .easylogic-colorpicker.ring .control {
    padding-top: 0px;
  }
  .easylogic-colorpicker.ring .control .value {
    display: none;
  }
  .easylogic-colorpicker.ring .control > .color,
  .easylogic-colorpicker.ring .control > .empty {
    top: -17px;
    width: 30px;
    height: 30px;
    border-radius: 2px;
  }
  .easylogic-colorpicker.xd {
    display: inline-block;
    padding-top: 12px;
    width: 245px;
  }
  .easylogic-colorpicker.xd .color {
    display: inline-block;
    margin-left: 12px;
    margin-bottom: 12px;
    width: 170px;
    height: 170px;
    vertical-align: middle;
    border-radius: 3px;
    overflow: hidden;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    border: 1px solid #cecece;
  }
  .easylogic-colorpicker.xd .color > .saturation > .value > .drag-pointer {
    border: 2px solid white;
    width: 7px;
    height: 7px;
    -webkit-box-shadow:
      0 0 1px 0px black,
      inset 0 0 1px 0px black;
    box-shadow:
      0 0 1px 0px black,
      inset 0 0 1px 0px black;
  }
  .easylogic-colorpicker.xd .control {
    height: 170px;
    padding: 0px;
    vertical-align: middle;
    display: inline-block;
    margin-right: 12px;
    margin-bottom: 12px;
  }
  .easylogic-colorpicker.xd .control .hue,
  .easylogic-colorpicker.xd .control .opacity {
    margin: 0px;
    padding: 0px;
    width: 13px;
    display: inline-block;
    vertical-align: middle;
    height: 100%;
    position: relative;
    overflow: hidden;
    border-radius: 3px;
    margin-left: 8px;
  }
  .easylogic-colorpicker.xd .control .hue > .hue-container {
    border-radius: 0px;
    overflow: hidden;
    height: 100%;
    background: -webkit-gradient(
      linear,
      left bottom,
      left top,
      from(#ff0000),
      color-stop(17%, #ffff00),
      color-stop(33%, #00ff00),
      color-stop(50%, #00ffff),
      color-stop(67%, #0000ff),
      color-stop(83%, #ff00ff),
      to(#ff0000)
    );
    background: linear-gradient(
      to top,
      #ff0000 0%,
      #ffff00 17%,
      #00ff00 33%,
      #00ffff 50%,
      #0000ff 67%,
      #ff00ff 83%,
      #ff0000 100%
    );
  }
  .easylogic-colorpicker.xd .control .opacity > .opacity-container {
    border-radius: 0px;
    overflow: hidden;
    height: 100%;
  }
  .easylogic-colorpicker.xd .control .drag-bar,
  .easylogic-colorpicker.xd .control .drag-bar2 {
    border: 0px;
    background-color: transparent;
    border: 2px solid white;
    -webkit-box-shadow:
      0 0 1px 0px black,
      inset 0 0 1px 0px black;
    box-shadow:
      0 0 1px 0px black,
      inset 0 0 1px 0px black;
    width: 10px;
    height: 10px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    -webkit-transform: none;
    transform: none;
    overflow: hidden;
    left: 50%;
    -webkit-transform: translateX(-50%) translateY(-50%);
    transform: translateX(-50%) translateY(-50%);
  }
  .easylogic-colorpicker.xd .information {
    margin-top: 5px;
  }
  .easylogic-colorpicker.vscode {
    width: 336px;
    display: inline-block;
    background-color: #333;
    border: 1px solid #ececec;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    border-radius: 0px;
  }
  .easylogic-colorpicker.vscode .colorpicker-body {
    border-radius: 0px;
    display: inline-block;
  }
  .easylogic-colorpicker.vscode .colorpicker-body .color-view {
    height: 34px;
    background-color: transparent;
    background-image: linear-gradient(45deg, #ccc 25%, transparent 25%),
      linear-gradient(-45deg, #ccc 25%, transparent 25%),
      linear-gradient(45deg, transparent 75%, #ccc 75%),
      linear-gradient(-45deg, transparent 75%, #ccc 75%);
    background-size: 10px 10px;
    background-position:
      0 0,
      0 5px,
      5px -5px,
      -5px 0px;
  }
  .easylogic-colorpicker.vscode
    .colorpicker-body
    .color-view
    .color-view-container {
    line-height: 34px;
    font-size: 14px;
    text-align: center;
    width: 100%;
    height: 100%;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    text-shadow: 0 0 3px #535353;
  }
  .easylogic-colorpicker.vscode .colorpicker-body .color-tool {
    padding: 8px;
  }
  .easylogic-colorpicker.vscode .color {
    display: inline-block;
    width: 240px;
    height: 160px;
    vertical-align: middle;
  }
  .easylogic-colorpicker.vscode .control {
    height: 160px;
    vertical-align: middle;
    display: inline-block;
    padding: 0px 0px 0px 4px;
  }
  .easylogic-colorpicker.vscode .control .hue,
  .easylogic-colorpicker.vscode .control .opacity {
    margin: 0px;
    padding: 0px;
    width: 30px;
    display: inline-block;
    vertical-align: middle;
    height: 100%;
    position: relative;
  }
  .easylogic-colorpicker.vscode .control .hue {
    padding-left: 5px;
    width: 35px;
  }
  .easylogic-colorpicker.vscode .control .hue > .hue-container {
    border-radius: 0px;
    height: 100%;
    background: -webkit-gradient(
      linear,
      left bottom,
      left top,
      from(#ff0000),
      color-stop(17%, #ffff00),
      color-stop(33%, #00ff00),
      color-stop(50%, #00ffff),
      color-stop(67%, #0000ff),
      color-stop(83%, #ff00ff),
      to(#ff0000)
    );
    background: linear-gradient(
      to top,
      #ff0000 0%,
      #ffff00 17%,
      #00ff00 33%,
      #00ffff 50%,
      #0000ff 67%,
      #ff00ff 83%,
      #ff0000 100%
    );
  }
  .easylogic-colorpicker.vscode .control .opacity > .opacity-container {
    border-radius: 0px;
    height: 100%;
    width: 30px;
  }
  .easylogic-colorpicker.vscode .control .drag-bar,
  .easylogic-colorpicker.vscode .control .drag-bar2 {
    background-color: transparent;
    height: 5px;
    width: 33px;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
    -webkit-box-shadow: none;
    box-shadow: none;
    -webkit-transform: translateY(-50%) translateX(-2px);
    transform: translateY(-50%) translateX(-2px);
    border: 1px solid rgba(255, 255, 255, 0);
    border-radius: 0px;
    -webkit-box-shadow:
      0 0 2px 0 black,
      inset 0 0 0 0 black;
    box-shadow:
      0 0 2px 0 black,
      inset 0 0 0 0 black;
  }
  .easylogic-colorpicker.hide-colorsets .colorsets {
    display: none !important;
  }

  .colorsets-contextmenu {
    position: fixed;
    padding-top: 4px;
    padding-bottom: 4px;
    border-radius: 6px;
    background-color: #ececec;
    border: 1px solid #cccccc;
    display: none;
    list-style: none;
    font-size: 13px;
    padding-left: 0px;
    padding-right: 0px;
  }
  .colorsets-contextmenu.show {
    display: inline-block;
  }
  .colorsets-contextmenu .menu-item {
    padding: 2px 20px;
    cursor: default;
  }
  .colorsets-contextmenu .menu-item:hover {
    background-color: #5ea3fb;
    color: white;
  }
  .colorsets-contextmenu.small .menu-item.small-hide {
    display: none;
  }
`,tU=pe`
  .tippy-box[data-animation='fade'][data-state='hidden'] {
    opacity: 0;
  }
  [data-tippy-root] {
    max-width: calc(100vw - 10px);
  }
  .tippy-box {
    position: relative;
    background-color: black;
    color: #fff;
    border-radius: 4px;
    font-size: 14px;
    line-height: 1.4;
    outline: 0;
    transition-property: transform, visibility, opacity;
  }
  .tippy-box[data-placement^='top'] > .tippy-arrow {
    bottom: 0;
  }
  .tippy-box[data-placement^='top'] > .tippy-arrow:before {
    bottom: -7px;
    left: 0;
    border-width: 8px 8px 0;
    border-top-color: initial;
    transform-origin: center top;
  }
  .tippy-box[data-placement^='bottom'] > .tippy-arrow {
    top: 0;
  }
  .tippy-box[data-placement^='bottom'] > .tippy-arrow:before {
    top: -7px;
    left: 0;
    border-width: 0 8px 8px;
    border-bottom-color: initial;
    transform-origin: center bottom;
  }
  .tippy-box[data-placement^='left'] > .tippy-arrow {
    right: 0;
  }
  .tippy-box[data-placement^='left'] > .tippy-arrow:before {
    border-width: 8px 0 8px 8px;
    border-left-color: initial;
    right: -7px;
    transform-origin: center left;
  }
  .tippy-box[data-placement^='right'] > .tippy-arrow {
    left: 0;
  }
  .tippy-box[data-placement^='right'] > .tippy-arrow:before {
    left: -7px;
    border-width: 8px 8px 8px 0;
    border-right-color: initial;
    transform-origin: center right;
  }
  .tippy-box[data-inertia][data-state='visible'] {
    transition-timing-function: cubic-bezier(0.54, 1.5, 0.38, 1.11);
  }
  .tippy-arrow {
    width: 16px;
    height: 16px;
    color: black;
  }
  .tippy-arrow:before {
    content: '';
    position: absolute;
    border-color: transparent;
    border-style: solid;
  }
  .tippy-content {
    position: relative;
    padding: 5px 9px;
    z-index: 1;
    word-break: break-all;
  }
`,nU=pe`
  .vuerd-setting-drawer tbody tr td {
    padding-right: 20px;
    padding-bottom: 10px;
  }

  .vuerd-setting-drawer .vuerd-column-order {
    cursor: move;
    box-sizing: border-box;
    padding: 5px;
    display: inline-block;
  }
  .vuerd-setting-drawer .vuerd-column-order:hover {
    color: var(--vuerd-color-font-active);
    background-color: var(--vuerd-color-contextmenu-active);
  }
  .vuerd-setting-drawer .vuerd-column-order.draggable {
    opacity: 0.5;
  }
  .vuerd-setting-drawer .vuerd-column-order.none-hover:hover {
    color: var(--vuerd-color-font);
    background-color: var(--vuerd-color-contextmenu);
  }

  /* animation flip */
  .vuerd-setting-drawer .vuerd-column-order-move {
    transition: transform 0.3s;
  }

  .vuerd-setting-drawer .vuerd-recalculating-table-width-button {
    box-sizing: border-box;
    padding: 5px;
    display: inline-block;
    cursor: pointer;
    fill: var(--vuerd-color-font);
    font-size: 15px;
  }
  .vuerd-setting-drawer .vuerd-recalculating-table-width-button:hover {
    color: var(--vuerd-color-font-active);
    background-color: var(--vuerd-color-contextmenu-active);
    fill: var(--vuerd-color-font-active);
  }
`,rU=pe`
  .vuerd-table-properties {
    display: flex;
    flex-direction: column;
    height: 100%;
  }

  .vuerd-table-properties-tab {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    margin-bottom: 10px;
  }
  .vuerd-table-properties-tab > li {
    padding: 10px;
    box-sizing: border-box;
    cursor: pointer;
    font-size: ${Qt}px;
    white-space: nowrap;
    display: inline-block;
  }
  .vuerd-table-properties-tab > li:hover {
    color: var(--vuerd-color-font-active);
    background-color: var(--vuerd-color-contextmenu-active);
  }
  .vuerd-table-properties-tab > li.active {
    color: var(--vuerd-color-font-active);
    background-color: var(--vuerd-color-contextmenu-active);
  }

  .vuerd-table-properties-body {
    width: 100%;
    height: 100%;
    overflow: hidden;
  }
`,iU=pe`
  .vuerd-editor {
    display: flex;
    flex-direction: column;
    overflow: hidden;
    background-color: #f8f8f8;
    box-sizing: border-box;
    position: relative;
  }

  .vuerd-ghost-text-helper {
    visibility: hidden;
    position: fixed;
    top: -100px;
    font-size: ${Qt}px;
    font-family: var(--vuerd-font-family);
    white-space: nowrap;
  }

  .vuerd-ghost-focus-helper {
    position: fixed;
    top: -100px;
  }

  .easylogic-colorpicker {
    display: none;
  }

  .easylogic-colorpicker[data-show] {
    display: block;
  }
`,oU=[eU,tU,iU,rU,nU,kf,$f].join(""),rx={observedProps:[{name:"width",type:Number,default:fs},{name:"height",type:Number,default:op},{name:"automaticLayout",type:Boolean,default:!1},{name:"readonly",type:Boolean,default:!1}],style:oU,render:(e,t)=>{const n=sR(),{store:r,helper:i,keymap:o,eventBus:a}=n,c=Rt(".vuerd-editor"),{ghostTpl:d,ghostState:p,setFocus:m,onFocus:g}=WB(n,t),{drawerTpl:y,closeDrawer:b,openHelp:C,openSetting:w}=XB(e,n),{hasPanel:E,panelTpl:T}=ZB(e,n),{showPrompt:I,promptTpl:_}=qB(),{showAlert:k,alertTpl:O}=YB(),{unmountedGroup:M}=Re();KB(n,t,{setFocus:m}),n.showPrompt=I,n.showAlert=k;const D=new ResizeObserver(Y=>{Y.forEach(H=>{const{width:X,height:j}=H.contentRect;t.setAttribute("width",X),t.setAttribute("height",j)})}),P=Y=>{const H=Y.target;(H.closest("vuerd-menubar")||H.closest("vuerd-drawer"))&&r.dispatch(mo(),pv()),!H.closest("vuerd-menubar")&&!H.closest("vuerd-drawer")&&b()};return Vi(()=>{e.automaticLayout&&D.observe(c.value),r.dispatch(ha(e.readonly)),M.push(ue(e,Y=>{Y==="automaticLayout"&&(e.automaticLayout?D.observe(c.value):D.disconnect())}),ue(e,Y=>{Y!=="width"&&Y!=="height"||r.dispatch($v(e.width,e.height))}),ue(e,Y=>{Y==="readonly"&&r.dispatch(ha(e.readonly))}),Ct(c.value,"keydown").pipe(JB).subscribe(Y=>{i.keydown$.next(Y),$t(Y,o.stop)&&(a.emit(je.Contextmenu.close),b(),g())}))}),ur(()=>{D.disconnect()}),()=>{const Y=e.width,H=e.height-Wi;return V`
      <vuerd-provider .value=${n}>
        <div
          class="vuerd-editor"
          style=${ye({width:e.automaticLayout?"100%":`${e.width}px`,height:e.automaticLayout?"100%":`${e.height}px`})}
          @mousedown=${P}
          @touchstart=${P}
        >
          <vuerd-menubar
            .focusState=${p.focus}
            @open-help=${C}
            @open-setting=${w}
          ></vuerd-menubar>
          ${s1(E()?null:V`<vuerd-erd .width=${Y} .height=${H}></vuerd-erd>`)}
          ${T()} ${y()} ${d} ${_()} ${O()}
          <vuerd-toast-bar></vuerd-toast-bar>
        </div>
      </vuerd-provider>
    `}}};fe("vuerd-editor",rx),fe("erd-editor",rx);function ix(e){e.panels&&cR(...e.panels),e.excludePanel&&uR(e.excludePanel)}class aU{constructor(){le(this,"el",document.createElement("vuerd-generator-code"))}render(){return this.el}}const sU={type:aU,icon:{prefix:"fas",name:"file-code"},key:"@vuerd/builtin-generator-code",name:"Generator Code"},lU=()=>sU,cU={type:class{constructor(){le(this,"el",document.createElement("vuerd-sql-ddl"))}render(){return this.el}},icon:{prefix:"mdi",name:"database-export",size:20},key:"@vuerd/builtin-sql-ddl",name:"SQL DDL"},uU=()=>cU;function ox(e){const t={value:null};return Pe(()=>{const n=Nr("vuerd-visualization",e);n&&(t.value=n.api)}),t}function dU(e,{store:{canvasState:{show:t,setting:n}}}){const{column:r}=e,i=n.columnOrder.map(o=>{switch(o){case"columnName":return{columnType:o,template:V`
              <vuerd-input
                .width=${e.widthName}
                .value=${r.name}
                .active=${e.active}
                placeholder="column"
              ></vuerd-input>
            `};case"columnDefault":return t.columnDefault?{columnType:o,template:V`
                  <vuerd-input
                    .width=${e.widthDefault}
                    .value=${r.default}
                    .active=${e.active}
                    placeholder="default"
                  ></vuerd-input>
                `}:null;case"columnComment":return t.columnComment?{columnType:o,template:V`
                  <vuerd-input
                    .width=${e.widthComment}
                    .value=${r.comment}
                    .active=${e.active}
                    placeholder="comment"
                  ></vuerd-input>
                `}:null;case"columnDataType":return t.columnDataType?{columnType:o,template:V`
                  <vuerd-column-data-type
                    .width=${e.widthDataType}
                    .value=${r.dataType}
                    .active=${e.active}
                  ></vuerd-column-data-type>
                `}:null;case"columnNotNull":return t.columnNotNull?{columnType:o,template:V`
                  <vuerd-column-not-null
                    .columnOption=${r.option}
                  ></vuerd-column-not-null>
                `}:null;case"columnUnique":return t.columnUnique?{columnType:o,template:V`
                  <vuerd-column-unique
                    .columnOption=${r.option}
                  ></vuerd-column-unique>
                `}:null;case"columnAutoIncrement":return t.columnAutoIncrement?{columnType:o,template:V`
                  <vuerd-column-auto-increment
                    .columnOption=${r.option}
                  ></vuerd-column-auto-increment>
                `}:null;default:return null}}).filter(o=>!!o);return Ot(i,o=>o.columnType,o=>o.template)}fe("vuerd-visualization-column",{observedProps:["active","widthName","widthDataType","widthNotNull","widthDefault","widthComment","column"],shadow:!1,render:(e,t)=>{const n=ox(t);return()=>{const{ui:r}=e.column;return V`
      <div
        class=${et({"vuerd-column":!0,active:e.active})}
      >
        <vuerd-column-key .ui=${r}></vuerd-column-key>
        ${dU(e,n.value)}
      </div>
    `}}}),fe("vuerd-visualization-table",{observedProps:["table","columnId","top","left"],shadow:!1,render:(e,t)=>{const n=ox(t);return()=>{const{show:r}=n.value.store.canvasState,{table:i}=e,o=i.maxWidthColumn();return V`
      <div
        class="vuerd-table"
        style=${ye({top:`${e.top}px`,left:`${e.left}px`,width:`${i.width()}px`,height:`${i.height()}px`,position:"fixed"})}
      >
        <div class="vuerd-table-header">
          <div class="vuerd-table-header-top">
            <div
              class="vuerd-table-header-color"
              style=${ye({width:`${i.width()+Or*2}px`,backgroundColor:i.ui.color??""})}
            ></div>
          </div>
          <div class="vuerd-table-header-body">
            <vuerd-input
              class="vuerd-table-name"
              .width=${i.ui.widthName}
              .value=${i.name}
              placeholder="table"
            ></vuerd-input>
            ${r.tableComment?V`
                  <vuerd-input
                    class="vuerd-table-comment"
                    .width=${i.ui.widthComment}
                    .value=${i.comment}
                    placeholder="comment"
                  ></vuerd-input>
                `:null}
          </div>
        </div>
        <div class="vuerd-table-body">
          ${Ot(e.table.columns,a=>a.id,a=>V`
              <vuerd-visualization-column
                .column=${a}
                .active=${e.columnId===a.id}
                .widthName=${o.name}
                .widthDataType=${o.dataType}
                .widthNotNull=${o.notNull}
                .widthDefault=${o.default}
                .widthComment=${o.comment}
              ></vuerd-visualization-column>
            `)}
        </div>
      </div>
    `}}});function fU(e){const{tableState:t,relationshipState:n}=e,r={nodes:[],links:[]},i=t.tables,o=n.relationships;return i.forEach(a=>{r.nodes.push({id:a.id,name:a.name,group:"table"}),a.columns.forEach(c=>{r.nodes.push({id:c.id,name:c.name,group:"column",tableId:a.id}),r.links.push({source:a.id,target:c.id})})}),o.forEach(a=>{const{start:c,end:d}=a;c.tableId!==d.tableId&&hU(r.links,c.tableId,d.tableId)&&r.links.push({source:c.tableId,target:d.tableId})}),r}function hU(e,t,n){let r=!0;for(const i of e)if(i.source===t&&i.target===n){r=!1;break}return r}const pU=cb(H7);function mU(e,t){return ML().on("start",(n,r)=>{n.active||e.alphaTarget(.3).restart(),r.fx=r.x,r.fy=r.y,t.dragStart()}).on("drag",(n,r)=>{r.fx=n.x,r.fy=n.y}).on("end",(n,r)=>{n.active||e.alphaTarget(0),r.fx=null,r.fy=null,t.dragEnd()})}function gU(e,t){const n=fU(e),r=n.links.map(p=>Object.create(p)),i=n.nodes.map(p=>Object.create(p)),o=ib(i).force("link",nb(r).id(p=>p.id)).force("charge",ob()).force("x",ab()).force("y",sb()),a=$L("svg"),c=a.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(r).join("line").attr("stroke-width",Math.sqrt(2)),d=a.append("g").attr("stroke","#fff").attr("stroke-width",1.5).selectAll("circle").data(i).join("circle").attr("r",5).attr("fill",p=>pU(p.group)).call(mU(o,t));return d.on("mouseover",(p,m)=>{const g=n.nodes[m.index];let y=null,b=null;g.group==="table"?y=g.id:g.group==="column"&&g.tableId&&(y=g.tableId,b=g.id),t.startPreview(y,b)}),d.on("mouseleave",()=>{t.endPreview()}),o.on("tick",()=>{c.attr("x1",p=>p.source.x).attr("y1",p=>p.source.y).attr("x2",p=>p.target.x).attr("y2",p=>p.target.y),d.attr("cx",p=>p.x).attr("cy",p=>p.y)}),a}const vU=[pe`
  .vuerd-visualization {
    position: relative;
    height: 100%;
    overflow: auto;
    background-color: var(--vuerd-color-visualization);
  }
`,Yl,Bb,$f,Ob,Rb,Db,Lb,Pb,Mb].join(""),ax=1200,yU=20;fe("vuerd-visualization",{observedProps:[{name:"width",default:0},{name:"height",default:0}],styleMap:{width:"100%",height:"100%"},style:vU,render:(e,t)=>{const n=Ce({preview:!1,drag:!1,table:null,columnId:null,top:0,left:0});let r=null;const{unmountedGroup:i}=Re(),o=()=>{n.drag=!0},a=()=>{n.drag=!1},c=(g,y)=>{const{tables:b}=t.api.store.tableState;n.preview=!0,n.table=B(b,g),n.columnId=y},d=()=>{n.preview=!1},p=()=>{r==null||r.attr("viewBox",[-e.width/2,-ax/2,e.width,ax])},m=g=>{n.top=g.clientY,n.left=g.clientX};return Pe(()=>{r=gU(t.api.store,{dragStart:o,dragEnd:a,startPreview:c,endPreview:d}),p(),i.push(ue(e,g=>{g==="width"&&p()}))}),ur(()=>{r==null||r.remove(),r=null}),()=>V`
    <div class="vuerd-visualization vuerd-scrollbar" @mousemove=${m}>
      ${r.node()}
      ${n.table&&!n.drag&&n.preview?V`
            <vuerd-visualization-table
              .table=${n.table}
              .columnId=${n.columnId}
              .top=${n.top}
              .left=${n.left+yU}
            ></vuerd-visualization-table>
          `:null}
    </div>
  `}});class bU{constructor(t,n){le(this,"el",document.createElement("vuerd-visualization"));le(this,"props");this.props=t,this.el.api=n,this.setViewport()}setViewport(){this.el.width=this.props.width,this.el.height=this.props.height}beforeFirstUpdate(){this.setViewport()}beforeUpdate(){this.setViewport()}render(){return this.el}}Pp(un("chart-bubble",uE));const xU={type:bU,icon:{prefix:"mdi",name:"chart-bubble",size:24},key:"@vuerd/builtin-visualization",name:"Visualization"};ix({panels:[xU,uU(),lU()]}),Nt.addIcon=Pp,Nt.extension=ix,Nt.observable=Ce,Nt.observer=Oc,Nt.setExportFileCallback=J6,Nt.setImportFileCallback=eD,Nt.watch=ue,Object.defineProperty(Nt,Symbol.toStringTag,{value:"Module"})});